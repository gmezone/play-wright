window.EmberENV={singleItemPurchase:!0,styles:"web-blends",FEATURES:{},EXTEND_PROTOTYPES:{Date:!1},ENABLE_DS_FILTER:!0}
var loader,define,requireModule,require,requirejs,runningTests=!1
function createDeprecatedModule(e){define(e,["exports","ember-resolver/resolver","ember"],function(t,r,n){n.default.deprecate("Usage of `"+e+"` module is deprecated, please update to `ember-resolver`.",!1,{id:"ember-resolver.legacy-shims",until:"3.0.0"}),t.default=r.default})}(function(e){"use strict"
function t(){var e=Object.create(null)
return e.__=void 0,delete e.__,e}var r={loader:loader,define:define,requireModule:requireModule,require:require,requirejs:requirejs}
requirejs=require=requireModule=function(e){for(var t=[],r=u(e,"(require)",t),n=t.length-1;n>=0;n--)t[n].exports()
return r.module.exports},loader={noConflict:function(t){var n,i
for(n in t)t.hasOwnProperty(n)&&r.hasOwnProperty(n)&&(i=t[n],e[i]=e[n],e[n]=r[n])},makeDefaultExport:!0}
var n=t(),i=(t(),0)
var a=["require","exports","module"]
function o(e,t,r,n){this.uuid=i++,this.id=e,this.deps=!t.length&&r.length?a:t,this.module={exports:{}},this.callback=r,this.hasExportsAsDep=!1,this.isAlias=n,this.reified=new Array(t.length),this.state="new"}function s(){}function l(e){this.id=e}function u(e,t,r){for(var i=n[e]||n[e+"/index"];i&&i.isAlias;)i=n[i.id]||n[i.id+"/index"]
return i||function(e,t){throw new Error("Could not find module `"+e+"` imported from `"+t+"`")}(e,t),r&&"pending"!==i.state&&"finalized"!==i.state&&(i.findDeps(r),r.push(i)),i}function d(e,t){if("."!==e.charAt(0))return e
for(var r=e.split("/"),n=t.split("/").slice(0,-1),i=0,a=r.length;i<a;i++){var o=r[i]
if(".."===o){if(0===n.length)throw new Error("Cannot access parent module of root")
n.pop()}else{if("."===o)continue
n.push(o)}}return n.join("/")}function c(e){return!(!n[e]&&!n[e+"/index"])}o.prototype.makeDefaultExport=function(){var e=this.module.exports
null===e||"object"!=typeof e&&"function"!=typeof e||void 0!==e.default||!Object.isExtensible(e)||(e.default=e)},o.prototype.exports=function(){if("finalized"===this.state||"reifying"===this.state)return this.module.exports
loader.wrapModules&&(this.callback=loader.wrapModules(this.id,this.callback)),this.reify()
var e=this.callback.apply(this,this.reified)
return this.reified.length=0,this.state="finalized",this.hasExportsAsDep&&void 0===e||(this.module.exports=e),loader.makeDefaultExport&&this.makeDefaultExport(),this.module.exports},o.prototype.unsee=function(){this.state="new",this.module={exports:{}}},o.prototype.reify=function(){if("reified"!==this.state){this.state="reifying"
try{this.reified=this._reify(),this.state="reified"}finally{"reifying"===this.state&&(this.state="errored")}}},o.prototype._reify=function(){for(var e=this.reified.slice(),t=0;t<e.length;t++){var r=e[t]
e[t]=r.exports?r.exports:r.module.exports()}return e},o.prototype.findDeps=function(e){if("new"===this.state){this.state="pending"
for(var t=this.deps,r=0;r<t.length;r++){var n=t[r],i=this.reified[r]={exports:void 0,module:void 0}
"exports"===n?(this.hasExportsAsDep=!0,i.exports=this.module.exports):"require"===n?i.exports=this.makeRequire():"module"===n?i.exports=this.module:i.module=u(d(n,this.id),this.id,e)}}},o.prototype.makeRequire=function(){var e=this.id,t=function(t){return require(d(t,e))}
return t.default=t,t.moduleId=e,t.has=function(t){return c(d(t,e))},t},(define=function(e,t,r){var i=n[e]
i&&"new"!==i.state||(arguments.length<2&&function(e){throw new Error("an unsupported module was defined, expected `define(id, deps, module)` instead got: `"+e+"` arguments to define`")}(arguments.length),Array.isArray(t)||(r=t,t=[]),n[e]=r instanceof l?new o(r.id,t,r,!0):new o(e,t,r,!1))}).exports=function(e,t){var r=n[e]
if(!r||"new"===r.state)return(r=new o(e,[],s,null)).module.exports=t,r.state="finalized",n[e]=r,r},define.alias=function(e,t){return 2===arguments.length?define(t,new l(e)):new l(e)},requirejs.entries=requirejs._eak_seen=n,requirejs.has=c,requirejs.unsee=function(e){u(e,"(unsee)",!1).unsee()},requirejs.clear=function(){requirejs.entries=requirejs._eak_seen=n=t(),t()},define("foo",function(){}),define("foo/bar",[],function(){}),define("foo/asdf",["module","exports","require"],function(e,t,r){r.has("foo/bar")&&r("foo/bar")}),define("foo/baz",[],define.alias("foo")),define("foo/quz",define.alias("foo")),define.alias("foo","foo/qux"),define("foo/bar",["foo","./quz","./baz","./asdf","./bar","../foo"],function(){}),define("foo/main",["foo/bar"],function(){}),define.exports("foo/exports",{}),require("foo/exports"),require("foo/main"),require.unsee("foo/bar"),requirejs.clear(),"object"==typeof exports&&"object"==typeof module&&module.exports&&(module.exports={require:require,define:define})})(this),function(e){e.Debug=e.Debug||{},e.Debug.registerDeprecationHandler=function(){},e.Debug.registerWarnHandler=function(){}}(window.Ember),define("ember-cli-shims/deprecations",[],function(){var e={"ember-application":{default:["@ember/application"]},"ember-array":{default:["@ember/array"]},"ember-array/mutable":{default:["@ember/array/mutable"]},"ember-array/utils":{A:["@ember/array","A"],isEmberArray:["@ember/array","isArray"],wrap:["@ember/array","makeArray"]},"ember-component":{default:["@ember/component"]},"ember-components/checkbox":{default:["@ember/component/checkbox"]},"ember-components/text-area":{default:["@ember/component/text-area"]},"ember-components/text-field":{default:["@ember/component/text-field"]},"ember-controller":{default:["@ember/controller"]},"ember-controller/inject":{default:["@ember/controller","inject"]},"ember-controller/proxy":{default:["@ember/array/proxy"]},"ember-debug":{log:["@ember/debug","debug"],inspect:["@ember/debug","inspect"],run:["@ember/debug","runInDebug"],warn:["@ember/debug","warn"]},"ember-debug/container-debug-adapter":{default:["@ember/debug/container-debug-adapter"]},"ember-debug/data-adapter":{default:["@ember/debug/data-adapter"]},"ember-deprecations":{deprecate:["@ember/application/deprecations","deprecate"],deprecateFunc:["@ember/application/deprecations","deprecateFunc"]},"ember-enumerable":{default:["@ember/enumerable"]},"ember-evented":{default:["@ember/object/evented"]},"ember-evented/on":{default:["@ember/object/evented","on"]},"ember-globals-resolver":{default:["@ember/application/globals-resolver"]},"ember-helper":{default:["@ember/component/helper"],helper:["@ember/component/helper","helper"]},"ember-instrumentation":{instrument:["@ember/instrumentation","instrument"],reset:["@ember/instrumentation","reset"],subscribe:["@ember/instrumentation","subscribe"],unsubscribe:["@ember/instrumentation","unsubscribe"]},"ember-locations/hash":{default:["@ember/routing/hash-location"]},"ember-locations/history":{default:["@ember/routing/history-location"]},"ember-locations/none":{default:["@ember/routing/none-location"]},"ember-map":{default:["@ember/map"],withDefault:["@ember/map/with-default"]},"ember-metal/events":{addListener:["@ember/object/events","addListener"],removeListener:["@ember/object/events","removeListener"],send:["@ember/object/events","sendEvent"]},"ember-metal/get":{default:["@ember/object","get"],getProperties:["@ember/object","getProperties"]},"ember-metal/mixin":{default:["@ember/object/mixin"]},"ember-metal/observer":{default:["@ember/object","observer"],addObserver:["@ember/object/observers","addObserver"],removeObserver:["@ember/object/observers","removeObserver"]},"ember-metal/on-load":{default:["@ember/application","onLoad"],run:["@ember/application","runLoadHooks"]},"ember-metal/set":{default:["@ember/object","set"],setProperties:["@ember/object","setProperties"],trySet:["@ember/object","trySet"]},"ember-metal/utils":{aliasMethod:["@ember/object","aliasMethod"],assert:["@ember/debug","assert"],cacheFor:["@ember/object/internals","cacheFor"],copy:["@ember/object/internals","copy"],guidFor:["@ember/object/internals","guidFor"]},"ember-object":{default:["@ember/object"]},"ember-owner/get":{default:["@ember/application","getOwner"]},"ember-owner/set":{default:["@ember/application","setOwner"]},"ember-platform":{assign:["@ember/polyfills","assign"],create:["@ember/polyfills","create"],hasAccessors:["@ember/polyfills","hasPropertyAccessors"],keys:["@ember/polyfills","keys"]},"ember-route":{default:["@ember/routing/route"]},"ember-router":{default:["@ember/routing/router"]},"ember-runloop":{default:["@ember/runloop","run"],begin:["@ember/runloop","begin"],bind:["@ember/runloop","bind"],cancel:["@ember/runloop","cancel"],debounce:["@ember/runloop","debounce"],end:["@ember/runloop","end"],join:["@ember/runloop","join"],later:["@ember/runloop","later"],next:["@ember/runloop","next"],once:["@ember/runloop","once"],schedule:["@ember/runloop","schedule"],scheduleOnce:["@ember/runloop","scheduleOnce"],throttle:["@ember/runloop","throttle"]},"ember-service":{default:["@ember/service"]},"ember-service/inject":{default:["@ember/service","inject"]},"ember-string":{camelize:["@ember/string","camelize"],capitalize:["@ember/string","capitalize"],classify:["@ember/string","classify"],dasherize:["@ember/string","dasherize"],decamelize:["@ember/string","decamelize"],fmt:["@ember/string","fmt"],htmlSafe:["@ember/string","htmlSafe"],loc:["@ember/string","loc"],underscore:["@ember/string","underscore"],w:["@ember/string","w"]},"ember-utils":{isBlank:["@ember/utils","isBlank"],isEmpty:["@ember/utils","isEmpty"],isNone:["@ember/utils","isNone"],isPresent:["@ember/utils","isPresent"],tryInvoke:["@ember/utils","tryInvoke"],typeOf:["@ember/utils","typeOf"]},"ember-computed":{default:["@ember/object","computed"],empty:["@ember/object/computed","empty"],notEmpty:["@ember/object/computed","notEmpty"],none:["@ember/object/computed","none"],not:["@ember/object/computed","not"],bool:["@ember/object/computed","bool"],match:["@ember/object/computed","match"],equal:["@ember/object/computed","equal"],gt:["@ember/object/computed","gt"],gte:["@ember/object/computed","gte"],lt:["@ember/object/computed","lt"],lte:["@ember/object/computed","lte"],alias:["@ember/object/computed","alias"],oneWay:["@ember/object/computed","oneWay"],reads:["@ember/object/computed","reads"],readOnly:["@ember/object/computed","readOnly"],deprecatingAlias:["@ember/object/computed","deprecatingAlias"],and:["@ember/object/computed","and"],or:["@ember/object/computed","or"],collect:["@ember/object/computed","collect"],sum:["@ember/object/computed","sum"],min:["@ember/object/computed","min"],max:["@ember/object/computed","max"],map:["@ember/object/computed","map"],sort:["@ember/object/computed","sort"],setDiff:["@ember/object/computed","setDiff"],mapBy:["@ember/object/computed","mapBy"],mapProperty:["@ember/object/computed","mapProperty"],filter:["@ember/object/computed","filter"],filterBy:["@ember/object/computed","filterBy"],filterProperty:["@ember/object/computed","filterProperty"],uniq:["@ember/object/computed","uniq"],union:["@ember/object/computed","union"],intersect:["@ember/object/computed","intersect"]},"ember-test/adapter":{default:["@ember/test/adapter"]}}
return Object.defineProperty(e,"__esModule",{value:!0}),e}),function(){function e(e,t,r){define(e,["ember-cli-shims/deprecations"],function(n){"use strict"
if(r){var i=n[e],a="Importing from the `"+e+"` module has been deprecated. "
i?(a+="Please use the new module imports:\n\n",Object.keys(i).forEach(function(e){var t=i[e]
if(t[1])a+="import { "+t[1]+" } from '"+t[0]+"'\n"
else{var r=Ember.String.classify(t[0].split("/").pop())
a+="import "+r+" from '"+t[0]+"'\n"}}),a+="\n"):a+="Please use globals instead.",Ember.deprecate(a,!1,{id:"ember-cli-shims.deprecated-shims",until:"3.0.0",url:"https://github.com/emberjs/rfcs/blob/master/text/0176-javascript-module-api.md"})}return Object.defineProperty(t,"__esModule",{value:!0}),t})}e("ember",{default:Ember}),function(){var t={"ember-application":{default:Ember.Application},"ember-array":{default:Ember.Array},"ember-array/mutable":{default:Ember.MutableArray},"ember-array/utils":{A:Ember.A,isEmberArray:Ember.isArray,wrap:Ember.makeArray},"ember-component":{default:Ember.Component},"ember-components/checkbox":{default:Ember.Checkbox},"ember-components/text-area":{default:Ember.TextArea},"ember-components/text-field":{default:Ember.TextField},"ember-controller":{default:Ember.Controller},"ember-controller/inject":{default:Ember.inject.controller},"ember-controller/proxy":{default:Ember.ArrayProxy},"ember-controllers/sortable":{default:Ember.SortableMixin},"ember-debug":{log:Ember.debug,inspect:Ember.inspect,run:Ember.runInDebug,warn:Ember.warn},"ember-debug/container-debug-adapter":{default:Ember.ContainerDebugAdapter},"ember-debug/data-adapter":{default:Ember.DataAdapter},"ember-deprecations":{deprecate:Ember.deprecate,deprecateFunc:Ember.deprecateFunc},"ember-enumerable":{default:Ember.Enumerable},"ember-evented":{default:Ember.Evented},"ember-evented/on":{default:Ember.on},"ember-globals-resolver":{default:Ember.DefaultResolver},"ember-helper":{default:Ember.Helper,helper:Ember.Helper&&Ember.Helper.helper},"ember-instrumentation":{instrument:Ember.Instrumentation.instrument,reset:Ember.Instrumentation.reset,subscribe:Ember.Instrumentation.subscribe,unsubscribe:Ember.Instrumentation.unsubscribe},"ember-locations/hash":{default:Ember.HashLocation},"ember-locations/history":{default:Ember.HistoryLocation},"ember-locations/none":{default:Ember.NoneLocation},"ember-map":{default:Ember.Map,withDefault:Ember.MapWithDefault},"ember-metal/destroy":{default:Ember.destroy},"ember-metal/events":{addListener:Ember.addListener,removeListener:Ember.removeListener,send:Ember.sendEvent},"ember-metal/get":{default:Ember.get,getProperties:Ember.getProperties},"ember-metal/mixin":{default:Ember.Mixin},"ember-metal/observer":{default:Ember.observer,addObserver:Ember.addObserver,removeObserver:Ember.removeObserver},"ember-metal/on-load":{default:Ember.onLoad,run:Ember.runLoadHooks},"ember-metal/set":{default:Ember.set,setProperties:Ember.setProperties,trySet:Ember.trySet},"ember-metal/utils":{aliasMethod:Ember.aliasMethod,assert:Ember.assert,cacheFor:Ember.cacheFor,copy:Ember.copy,guidFor:Ember.guidFor},"ember-object":{default:Ember.Object},"ember-owner/get":{default:Ember.getOwner},"ember-owner/set":{default:Ember.setOwner},"ember-platform":{assign:Ember.assign||Ember.merge,create:Ember.create,defineProperty:Ember.platform.defineProperty,hasAccessors:Ember.platform.hasPropertyAccessors,keys:Ember.keys},"ember-route":{default:Ember.Route},"ember-router":{default:Ember.Router},"ember-runloop":{default:Ember.run,begin:Ember.run.begin,bind:Ember.run.bind,cancel:Ember.run.cancel,debounce:Ember.run.debounce,end:Ember.run.end,join:Ember.run.join,later:Ember.run.later,next:Ember.run.next,once:Ember.run.once,schedule:Ember.run.schedule,scheduleOnce:Ember.run.scheduleOnce,throttle:Ember.run.throttle},"ember-service":{default:Ember.Service},"ember-service/inject":{default:Ember.inject.service},"ember-set/ordered":{default:Ember.OrderedSet},"ember-string":{camelize:Ember.String.camelize,capitalize:Ember.String.capitalize,classify:Ember.String.classify,dasherize:Ember.String.dasherize,decamelize:Ember.String.decamelize,fmt:Ember.String.fmt,htmlSafe:Ember.String.htmlSafe,loc:Ember.String.loc,underscore:Ember.String.underscore,w:Ember.String.w},"ember-utils":{isBlank:Ember.isBlank,isEmpty:Ember.isEmpty,isNone:Ember.isNone,isPresent:Ember.isPresent,tryInvoke:Ember.tryInvoke,typeOf:Ember.typeOf}}
t["ember-computed"]={default:Ember.computed}
for(var r=["empty","notEmpty","none","not","bool","match","equal","gt","gte","lt","lte","alias","oneWay","reads","readOnly","deprecatingAlias","and","or","collect","sum","min","max","map","sort","setDiff","mapBy","mapProperty","filter","filterBy","filterProperty","uniq","union","intersect"],n=0,i=r.length;n<i;n++){var a=r[n]
t["ember-computed"][a]=Ember.computed[a]}for(var o in t)e(o,t[o],!0)}(),function(){if(Ember.Test){var t={"ember-test":{default:Ember.Test},"ember-test/adapter":{default:Ember.Test.Adapter},"ember-test/qunit-adapter":{default:Ember.Test.QUnitAdapter}}
for(var r in t)e(r,t[r])}}(),e("jquery",{default:self.jQuery}),e("rsvp",{default:Ember.RSVP})}(),createDeprecatedModule("ember/resolver"),createDeprecatedModule("resolver")
var awa=awa||{}
for(var behaviorKey in awa.isInitialized=!1,awa.verbosityLevels={NONE:0,ERROR:1,WARNING:2,INFORMATION:3},awa.behavior={UNDEFINED:0,NAVIGATIONBACK:1,NAVIGATION:2,NAVIGATIONFORWARD:3,APPLY:4,REMOVE:5,SORT:6,EXPAND:7,REDUCE:8,CONTEXTMENU:9,TAB:10,COPY:11,EXPERIMENTATION:12,PRINT:13,SHOW:14,HIDE:15,MAXIMIZE:16,MINIMIZE:17,BACKBUTTON:18,STARTPROCESS:20,PROCESSCHECKPOINT:21,COMPLETEPROCESS:22,SCENARIOCANCEL:23,DOWNLOADCOMMIT:40,DOWNLOAD:41,SEARCHAUTOCOMPLETE:60,SEARCH:61,SEARCHINITIATE:62,TEXTBOXINPUT:63,PURCHASE:80,ADDTOCART:81,VIEWCART:82,ADDWISHLIST:83,FINDSTORE:84,CHECKOUT:85,REMOVEFROMCART:86,PURCHASECOMPLETE:87,VIEWCHECKOUTPAGE:88,VIEWCARTPAGE:89,VIEWPDP:90,UPDATEITEMQUANTITY:91,INTENTTOBUY:92,PUSHTOINSTALL:93,SIGNIN:100,SIGNOUT:101,SOCIALSHARE:120,SOCIALLIKE:121,SOCIALREPLY:122,CALL:123,EMAIL:124,COMMUNITY:125,SOCIALFOLLOW:126,VOTE:140,SURVEYINITIATE:141,SURVEYCOMPLETE:142,REPORTAPPLICATION:143,REPORTREVIEW:144,SURVEYCHECKPOINT:145,CONTACT:160,REGISTRATIONINITIATE:161,REGISTRATIONCOMPLETE:162,CANCELSUBSCRIPTION:163,RENEWSUBSCRIPTION:164,CHANGESUBSCRIPTION:165,REGISTRATIONCHECKPOINT:166,CHATINITIATE:180,CHATEND:181,TRIALSIGNUP:200,TRIALINITIATE:201,SIGNUP:210,FREESIGNUP:211,PARTNERREFERRAL:220,LEARNLOWFUNNEL:230,LEARNHIGHFUNNEL:231,SHOPPINGINTENT:232,VIDEOSTART:240,VIDEOPAUSE:241,VIDEOCONTINUE:242,VIDEOCHECKPOINT:243,VIDEOJUMP:244,VIDEOCOMPLETE:245,VIDEOBUFFERING:246,VIDEOERROR:247,VIDEOMUTE:248,VIDEOUNMUTE:249,VIDEOFULLSCREEN:250,VIDEOUNFULLSCREEN:251,VIDEOREPLAY:252,VIDEOPLAYERLOAD:253,VIDEOPLAYERCLICK:254,VIDEOVOLUMECONTROL:255,VIDEOAUDIOTRACKCONTROL:256,VIDEOCLOSEDCAPTIONCONTROL:257,VIDEOCLOSEDCAPTIONSTYLE:258,VIDEORESOLUTIONCONTROL:259,VIRTUALEVENTJOIN:260,VIRTUALEVENTEND:261,IMPRESSION:280,CLICK:281,RICHMEDIACOMPLETE:282,ADBUFFERING:283,ADERROR:284,ADSTART:285,ADCOMPLETE:286,ADSKIP:287,ADTIMEOUT:288,OTHER:300},awa.behaviorKeys=[],awa.behavior)awa.behaviorKeys.push(behaviorKey)
awa.actionType={CLICKLEFT:"CL",CLICKRIGHT:"CR",CLICKMIDDLE:"CM",SCROLL:"S",ZOOM:"Z",RESIZE:"R",KEYBOARDENTER:"KE",KEYBOARDSPACE:"KS",GAMEPADA:"CGA",GAMEPADMENU:"CGM",OTHER:"O"},awa.cookie=function(){function e(e,r){for(var n=document.cookie.split(";"),i=0;i<n.length;i++){for(var a=n[i];" "===a.charAt(0);)a=a.substring(1)
var o=a.split("=")
if(t(o.shift())===e&&o[0].indexOf(r)==(awa.utils.isValueAssigned(r)?0:-1))return t(o.join("="))}}function t(e){var t=decodeURIComponent(e.replace("/+/g"," "))
return 0===t.indexOf('"')&&(t=t.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")),t}function r(e,t,r){var n
if(r){var i=new Date
i.setTime(i.getTime()+24*r*60*60*1e3),n="; expires="+i.toUTCString()}else n=""
window.document.cookie=e+"="+t+n+"; path=/;"}return{getCookie:e,getCookieKeyValue:function(t,r){var n=e(t)
if(n&&r)for(var i=n.split("&"),a=0;a<i.length;a++){var o=i[a].split("=")
if(o[0]&&r.toLowerCase()===o[0].toLowerCase())return o[1]}},getAllCookies:function(){for(var e=document.cookie.split(";"),r={},n=0;n<e.length;n++){for(var i=e[n];" "===i.charAt(0);)i=i.substring(1)
var a=i.split("="),o=t(a.shift());("MSFPC"!=o||"MSFPC"===o&&a[0].indexOf("GUID")==(awa.utils.isValueAssigned("GUID")?0:-1))&&(r[o]=t(a.join("=")))}return r},setCookie:r,deleteCookie:function(e){r(e,"",-1)}}}(),awa.cv=function(){var e="",t=0,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={maxCorrelationVectorLength:63,baseLength:16}
n.validationPattern=new RegExp("^["+r+"]{"+n.baseLength.toString()+"}(.[0-9]+)+$")
var i={maxCorrelationVectorLength:127,baseLength:22}
i.validationPattern=new RegExp("^["+r+"]{"+i.baseLength.toString()+"}(.[0-9]+)+$")
var a=i,o=2
function s(){return e.concat(".",t.toString())}function l(){var e=s()
if(f(e))return e}function u(){var e=s()
return!!f(e)&&p(e.length+2)}function d(){return!!f(s())&&p(e.length+1+(t+1+"").length)}function c(r){if(!f(r))return awa.logger.logWarning("Cannot set invalid correlation vector value"),null
var n=r.lastIndexOf(".")
return e=r.substr(0,n),t=parseInt(r.substr(n+1),10),s()}function f(e){if(e){var t=e.split(".")[0]
if(t){if(16===t.length)return o=1,function(e){if(n.validationPattern.test(e)&&e.length<=n.maxCorrelationVectorLength)return!0}(e)
if(22===t.length)return o=2,function(e){if(i.validationPattern.test(e)&&e.length<=i.maxCorrelationVectorLength)return!0}(e)}}}function p(e){return 1===o?e<=n.maxCorrelationVectorLength:e<=i.maxCorrelationVectorLength}return{header:"MS-CV",tag:"cV",isInit:function(){return f(s())},canExtend:u,canIncrement:d,getValue:l,setValue:c,init:function(n){return n?c(n):(e=function(){for(var e="",t=0;t<a.baseLength;t++)e+=r.charAt(Math.floor(Math.random()*r.length))
return e}(),t=0,l())},extend:function(){if(u())return e=e.concat(".",t.toString()),t=0,s()},increment:function(){if(d())return t+=1,s()},incrementExternal:function(e){if(f(e)){var t=e.split("."),r=t.length
t[r-1]=(parseInt(t[r-1],10)+1).toString()
for(var a="",o=0;o<r;o++)a+=t[o],o<r-1&&(a+=".")
var s=t[0].length===i.baseLength?i.maxCorrelationVectorLength:n.maxCorrelationVectorLength
if(a.length<=s)return a}},isValid:f,useCv1:function(){a=n},useCv2:function(){a=i}}}(),awa.logger=function(){return{logError:function(e){awa.consoleVerbosity>=awa.verbosityLevels.ERROR&&console&&console.error&&console.error("JSLL: "+e)},logWarning:function(e){awa.consoleVerbosity>=awa.verbosityLevels.WARNING&&console&&console.warn&&console.warn("JSLL: "+e)},logInformation:function(e){awa.consoleVerbosity>=awa.verbosityLevels.INFORMATION&&console&&console.log&&console.log("JSLL: "+e)}}}(),awa.capabilitiesCheck=function(){if(!JSON||!JSON.stringify)return awa.logger.logError("Unable to write event: the global JSON.stringify method does not exist"),awa.isAvailable=!1,!1},awa.utils=function(){var e="",t="",r=window.performance?window.performance.timing:void 0,n="JS:",i=""
function a(){return""===t&&(t=window.navigator&&window.navigator.userAgent?window.navigator.userAgent:""),t}function o(e,t){var r=e.left,n=e.top,i=e.right,a=e.bottom,o=t.left,s=t.top,l=t.right,u=t.bottom
return Math.max(0,Math.min(i,l)-Math.max(r,o))*Math.max(0,Math.min(a,u)-Math.max(n,s))}function s(e){return"function"==typeof jQuery&&e instanceof jQuery?e[0]:e}function l(e){var t=String(e)
return 1===t.length&&(t="0"+t),t}var u=function(){var e={},t=!1,r=0,n=arguments.length
"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(t=arguments[0],r++)
for(var i=function(r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(void 0!=r[n]&&t&&"[object Object]"===Object.prototype.toString.call(r[n])?e[n]=u(!0,e[n],r[n]):e[n]=r[n])};r<n;r++){i(arguments[r])}return e}
function d(e,t){var r=e
if(r){for(r=s(r);!t(r);)if(!(r=s(r=r.parentNode))||!r.getAttribute)return null
return r}}function c(e){var t=e.getAttribute(i)
return m(t)||""===t}function f(e){return"A"===e.nodeName}function p(e){for(var t in e)(!m(e[t])||"{}"===JSON.stringify(e[t])&&"callback"!==t)&&delete e[t]}function m(e){return!(void 0===e||null===e||""===e)}function h(e){return function(e){return void 0===e||function(e,t){return typeof e===t}(e,"undefined")}(e)||null===e}function g(e,t){var r=!1,n=window,i=document
return h(n)||(r=v(n,e,t),r=v(n.body,e,t)||r),h(i)||(r=v(i,e,t)||r),r}function v(e,t,r,n){var i=!1
if(e)try{h(e.addEventListener)?h(e.attachEvent)||(e.attachEvent("on"+t,r),i=!0):(e.addEventListener(t,r,n),i=!0)}catch(e){}return i}return{stringifyField:function(e,t){if(t)try{var n=JSON.stringify(t)
return"{}"===n&&"timing"===e?function(){for(var e=["navigationStart","unloadEventStart","unloadEventEnd","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","connectEnd","secureConnectionStart","requestStart","responseStart","responseEnd","domLoading","domInteractive","domContentLoadedEventStart","domContentLoadedEventEnd","domComplete","loadEventStart","loadEventEnd","first - paint","first - contentful - paint"],t="{",n=0;n<e.length;n++){var i=r[e[n]]
m(i)&&(t+='"'+e[n]+'":'+i,n<e.length-1&&(t+=","))}return t+="}"}():n}catch(r){var i="string"==typeof t?t:""
return'{"error": "ERROR: could not stringify {0} {1}"}'.replace("{0}",e).replace("{1}",i)}},getMuidHost:function(e){return{"microsoft.com":"c1.microsoft.com","xbox.com":"c.xbox.com","live.com":"c.live.com","microsoftstore.com":"c.microsoftstore.com","msn.com":"c.msn.com","windows.com":"c.windows.com","office.com":"c.office.com"}[e]},isOfCorrectType:function(e,t){if("string"===e)return"string"==typeof t||t instanceof String||t instanceof Date
if("bool"===e)return"boolean"==typeof t||t instanceof Boolean
if(!("number"==typeof t||t instanceof Number))return!1
if("uint8"===e){if(t<0||t>255||t%1!=0)return!1}else if("uint16"===e){if(t<0||t>65535||t%1!=0)return!1}else if("uint32"===e){if(t<0||t>4294967295||t%1!=0)return!1}else if("uint64"===e){if(t<0||t>0x10000000000000000||t%1!=0)return!1}else if("int8"===e){if(t<-128||t>127||t%1!=0)return!1}else if("int16"===e){if(t<-32768||t>32767||t%1!=0)return!1}else if("int32"===e){if(t<-2147483648||t>2147483647||t%1!=0)return!1}else if("int64"===e){if(t<-0x8000000000000000||t>0x8000000000000000||t%1!=0)return!1}else if("float"===e){if(t<-3.402823e38||t>3.402823e38)return!1}else if("double"===e&&(t<-Number.MAX_VALUE||t>Number.MAX_VALUE))return!1
return!0},getOs:function(){if(""===e){var t=a().toLowerCase()
e=-1!==t.indexOf("windows phone")?"WindowsPhone":-1!==t.indexOf("win")?"Windows":-1!==t.indexOf("mac")?"MacOS":-1!==t.indexOf("x11")?"Unix":-1!==t.indexOf("android")?"Android":-1!==t.indexOf("linux")?"Linux":-1!==t.indexOf("webos")?"webOS":-1!==t.indexOf("blackberry")?"BlackBerry":-1!==t.indexOf("ipod")||-1!==t.indexOf("ipad")||-1!==t.indexOf("iphone")?"iOS":-1!==t.indexOf("symbian")?"Symbian":-1!==t.indexOf("nokia")?"Nokia":"Unknown"}return e},getUserAgent:a,extractFieldFromObject:function(e,t){var r
return e&&e[t]&&(r=e[t],delete e[t]),r},isElementTrulyVisible:function(e,t){return o((e=s(e)).getBoundingClientRect(),t)>0},dateToISOString:function(e){return e.getUTCFullYear()+"-"+l(e.getUTCMonth()+1)+"-"+l(e.getUTCDate())+"T"+l(e.getUTCHours())+":"+l(e.getUTCMinutes())+":"+l(e.getUTCSeconds())+"."+String((e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"},extend:u,returnDomObjectIfjQuery:s,findClosestByAttribute:function(e,t){return i=t,d(e,c)},findClosestAnchor:function(e){return d(e,f)},getPerformanceData:function(){var e
try{e=window.performance.getEntries().filter(function(e){return"script"===e.initiatorType||"link"===e.initiatorType})}catch(e){}return e},getPageLoadTime:function(){var e=void 0
return r&&r.loadEventStart&&r.navigationStart&&r.loadEventStart>0&&(e=r.loadEventStart-r.navigationStart),e},removeInvalidElements:p,removeNonObjectsAndInvalidElements:function(e,t){for(var r in p(e),t){var n=t[r]
"object"==typeof e[n]?p(e[n]):delete e[n]}},bracketIt:function(e){return"["+e+"]"},getAppIdWithPrefix:function(e){var t
if(e){var r=e.split(":")
t=r.length>1&&"js"===r[0].toLowerCase()?e:n+e}return t},isValueAssigned:m,addPageUnloadEventListener:function(e){var t=g("beforeunload",e)
return t=g("unload",e)||t,t=g("pagehide",e)||t},addEventHandler:g,attachEvent:v,testHook:{getIntersectionArea:o}}}(),awa.ids=function(){var e,t=u(),r=awa.cookie,n=null,i=null,a=!1,o="Treatments",s=["c:","i:","w:"],l=["AX","EX","SF","CS","CF","CT","CU","DC","DF","H5","HL","WS","WP"]
function u(){return"xxxxxxxx-xxxx-4xxx-Rxxx-xxxxxxxxxxxx".replace(/x/g,function(){return Math.floor(16*Math.random()).toString(16)}).replace("R",(8|Math.floor(3*Math.random())).toString(16))}function d(e){return e?e[o]:r.getCookie(o)}function c(e){if(!e||e.length<4)return!1
for(var t=!1,r=e.substring(0,3).toString().toUpperCase(),n=0;n<l.length;n++)if(l[n]+":"===r&&e.length<=256){t=!0
break}return t}function f(e){if(e){if(e!==i){i=null
for(var t=e.split(","),r=0;r<t.length;r++)c(t[r])?i?i+=","+t[r]:i=t[r]:awa.logger.logWarning("Unsupported flight id format for this app expId: "+t[r])}}else i=null}function p(){return i}return{getVisitorId:function(e){return e?e.MUID:r.getCookie("MUID")},getMuidUserId:function(e){var t=""
return(t=e?e.MUID:r.getCookie("MUID"))&&t.length?"t:"+t:t},setAppUserId:function(e){if(n=null,e){for(var t=0;t<s.length;t++)if(s[t]===e.substring(0,2)){n=e
break}n||awa.logger.logWarning("Unsupported app user id: "+e+". Supported app user ids are: c:, i:, and w:")}},getAppUserId:function(){return n},readExpIdFromCookie:function(e){return f(e?e[o]:d()),p()},readExpIdFromCoreData:function(e){return f(e),p()},getImpressionGuid:function(){return t},getPageViewImpressionGuid:function(){return a?t=u():a=!0,t},getGroups:d,setDeviceClass:function(t){t&&(e=t)},getDeviceClass:function(){return e},setExpIdCookieName:function(e){o=e},getExpIdCookieName:function(){return o}}}(),awa.vortexEvents=function(){var e=awa.ids,t=[],r="notInit",n=0
function i(){t.length>0&&(awa.writeEvent(t),t=[])}return{sendError:function(e,t){awa.ct.captureClientError({errorInfo:e,displayedToUser:t})},sendApiComplete:function(t){var r={name:"Ms.Webi.OutgoingRequest",cV:t.cV,data:{baseData:{operationName:t.currentOperationName,targetUri:t.requestUri,latencyMs:t.latencyMs,serviceErrorCode:t.serviceErrorCode||-1,succeeded:t.isSuccess,requestMethod:t.httpMethod,responseContentType:t.contentType,protocolStatusCode:t.httpStatusCode,dependencyOperationName:t.operationName,dependencyOperationVersion:t.operationVersion,dependencyName:t.serviceName,dependencyType:t.serviceType||"WebService",responseSizeBytes:t.responseSize},baseType:"Ms.Qos.OutgoingServiceRequest",impressionGuid:e.getImpressionGuid(),message:t.errorMessage,retryCount:t.retryCount,customData:t.customData}}
awa.ct.captureQos(r)},sendJsllEvent:function(e){"CorsDisallowed"===e.type?awa.ct.captureCorsDisallowed(e):"EventTooLong"===e.type&&awa.ct.captureEventTooLong(e)},SendOrScheduleEvent:function(e,a){!0!==a&&"complete"!==r?(t.push(e),n>1&&t.length>=n&&i()):awa.writeEvent(e)},batchQueuedEvents:i,drainQueuedEvents:function(){if("complete"===document.readyState)for(;t.length>0;)awa.writeEvent(t.pop())
else awa.ct.onDomReadyDo(awa.firstEventDoneTasks)},batchEventsByNumber:function(e){n=e},addEventToQueue:function(e){t.push(e)},overrideQueueBehavior:function(e){e&&e.domReadyState&&(r=e.domReadyState)}}}(),awa.errorHandler=function(){var e=awa.vortexEvents
function t(){if(arguments){var t=""
arguments[1]&&(t=awa.sanitizeUrl(arguments[1]))
var r={Page:awa.sanitizeUrl(document.location.toString()),Script:t,Message:arguments[0]||"",LineNumber:arguments[2]||0,StackTrace:arguments[4]?(n=arguments[4],n.stack?n.stack.substring(0,1e3):""):"",UserAgent:awa.utils.getUserAgent()||"",Platform:window.navigator.platform||""}
e.sendError(r,!1)}var n}return{init:function(){var e,r
e=t,r=window.onerror,window.onerror=function(){r&&r.apply(this,arguments),e.apply(this,arguments)}},testHook:{defaultHandler:t}}}(),awa.timespanHandler=function(){var e={}
return{recordTimeSpan:function(t,r){var n=(new Date).getTime()
if(r)return n-e[t]
e[t]=n}}}(),function(){awa._schemas=awa._schemas||[]
var e=awa.utils,t=e.isValueAssigned,r={endpoint:"https://web.vortex.data.microsoft.com/collect/v1",sendMode:1,batchSize:10,authMethod:0,validateEvents:!0,sendEvents:!0,logLevel:awa.verbosityLevels.NONE,syncMuid:!1,provisionMsfpc:!0,useDefaultContentName:!0,useShortNameForContentBlob:!1,debounceMs:{scroll:600,resize:3e3},muidDomain:"microsoft.com",biBlobAttributeTag:"data-m",isLoggedIn:!1,shareAuthStatus:!1,cookiesToCollect:["Bounced"],mscomCookies:!1,userConsentCookieName:"MSCC",userConsented:void 0,useBeacon:!0,urlCollectHash:!1,urlCollectQuery:!0,initCv:!1,enabledFeatures:!0,ix:{a:!1,g:!1},autoCapture:{pageView:!0,onLoad:!0,onUnload:!0,click:!0,scroll:!1,resize:!1,jsError:!0,addin:!0,perf:!0,assets:!1,lineage:!1,invalidEvents:!1,msTags:!0,awaTags:!0,eventTooLong:!0,corsDisallowed:!0},callback:{pageName:null,pageActionPageTags:null,pageViewPageTags:null,contentUpdatePageTags:null,pageActionContentTags:null,signedinStatus:null,jsllEventCallback:null,pageUnloadTimings:null,userConsentDetailsCallback:null},coreData:{referrerUri:void 0,requestUri:"",appId:window.location.hostname,pageName:"",title:"",pageType:"",env:"",product:"",market:"",serverImpressionGuid:"",expId:"",pageTags:{}}}
awa.getConfig=function(){return r}
var n=[]
for(var i in r)"object"==typeof r[i]&&n.push(i)
var a=["ver","name","time","flags","os","appId","cV","deviceClass"],o=a.length,s=function(){var t=e.getUserAgent(),r=t.indexOf("MSIE ")
if(r>0)return parseInt(t.substring(r+5,t.indexOf(".",r)),10)<9
return!1}()?4095:15e3,l="",u=!1,d=t(navigator)&&t(navigator.sendBeacon)
awa.experimentIdTag="expId",awa.isAvailable=!0,awa.requestBody="",awa.getQueryStringParameters=function(){return l},Object.freeze&&Object.freeze(awa.verbosityLevels),awa.capabilitiesCheck()
var c=window.XDomainRequest?"XDomainRequest":"xhr",f=function(){u=!0,1==r.sendMode&&(awa.vortexEvents.overrideQueueBehavior({domReadyState:"complete"}),awa.vortexEvents.drainQueuedEvents())}
awa.firstEventDone=f,awa.firstEventDoneTasks=function(){awa.vortexEvents.drainQueuedEvents()}
var p=function(e,t){awa.logger.logError("Failure sending data to vortex: "+e+"Error: "+t.toString())},m=function(e,t,n){awa.OnSuccessfulVortexRequest&&awa.OnSuccessfulVortexRequest(e),t&&"function"==typeof r.callback.jsllEventCallback&&r.callback.jsllEventCallback(t),!1===u&&(u=!0,1!==r.sendMode||n||f()),awa.logger.logInformation("Success sending data to vortex")},h=function(e){awa.logger.logError("Failure sending data to vortex using XDomainRequest.  Status code:"+e.status)},g="'",v='"',y="-",b="*"
function _(r,n,i){if(t(i)){var a=""
return r.length>0&&(a+="&"),e.isOfCorrectType("number",i)||e.isOfCorrectType("bool",i)?a+=n+"="+i:a+="object"==typeof i?n+"="+JSON.stringify(i):n+"="+g+encodeURIComponent(i)+g,a}return""}function I(r,n,i){if(t(i)){var a=""
return r.length>1&&(a+=","),e.isOfCorrectType("number",i)||e.isOfCorrectType("bool",i)?a+=v+n+v+":"+i:a+="object"==typeof i?v+n+v+":"+JSON.stringify(i):v+n+v+":"+v+i+v,a}return""}function C(e,n){for(var i="",s=0;s<o;s++)i+=_(i,a[s],e[a[s]])
var l=e.data
for(var u in l)if("baseData"==u){var d=l[u]
for(var c in d)i+=_(i,y+c,d[c])}else i+=_(i,b+u,l[u])
var f=e.ext
for(var p in f){var m=f[p]
for(var h in m)i+=_(i,"ext"+y+p+y+h,m[h])}return i+="&"+x(),!0===r.shareAuthStatus&&2==r.authMethod&&!0===awa.getSignedInStatus()&&(i+="&"+function(e){return"$nr="+t(e.Bounced)}(n)),w(i),i}function P(e){for(var t="{",r=0;r<o;r++)t+=I(t,a[r],e[a[r]])
var n=e.data
n&&(t+=I(t,"data",n))
var i=e.ext
return i&&(t+=I(t,"ext",i)),t+="}",awa.requestBody=t,t}function w(e){l=e}awa.init=function(t){if(!awa.isInitialized){awa.isInitialized=!0,t&&(e.removeNonObjectsAndInvalidElements(t,n),r=e.extend(!0,r,t)),r.coreData.referrerUri=r.coreData.referrerUri?r.coreData.referrerUri:awa.sanitizeUrl(document.referrer)
var i=r.sendMode
0==i&&(u=!0,awa.vortexEvents.overrideQueueBehavior({domReadyState:"complete"})),i>=1&&awa.vortexEvents.overrideQueueBehavior({domReadyState:"notComplete"}),2===i&&awa.vortexEvents.batchEventsByNumber(r.batchSize),awa.consoleVerbosity=r.logLevel,awa.ct.initialize(r),awa.ix.init(r),r.initCv&&awa.cv.init()}}
var E=function(n,i){awa.translateEventFromIntermediateStructure&&(n=awa.translateEventFromIntermediateStructure(n))
var a=n.cV,o=n.appId
n.ver="2.1",n.cV=t(a)?a:awa.cv.getValue(),n.time=t(n.time)?n.time:e.dateToISOString(new Date),n.os=e.getOs(),n.deviceClass=awa.ids.getDeviceClass()||void 0,n.appId=e.getAppIdWithPrefix(o||r.coreData.appId)
var s=window.location.hostname
t(s)||(s="file:"==window.location.protocol?"local":s)
var l={ver:"1.1",libVer:"4.3.0",domain:s,msfpc:i.MSFPC,userConsent:!1,consentDetails:function(){try{if(r.callback&&r.callback.userConsentDetailsCallback){var e=r.callback.userConsentDetailsCallback()
if(e)return JSON.stringify({Required:!!e.Required&&e.Required,Analytics:!!e.Analytics&&e.Analytics,SocialMedia:!!e.SocialMedia&&e.SocialMedia,Advertising:!!e.Advertising&&e.Advertising})}}catch(e){}return'{"Required":false,"Analytics":false,"SocialMedia":false,"Advertising":false}'}(),anid:i.ANON?i.ANON.slice(0,34):void 0},u=n.serviceName?n.serviceName:r.coreData.serviceName
u&&(l.serviceName=u),n.ext?n.ext.javascript=l:n.ext={javascript:l}
var d=awa.ids.getMuidUserId(i)
d&&(n.ext.user={localId:d})
var c=r.coreData.env,f=n.ext.app?n.ext.app.env:void 0,p=t(f)?f:c,m=r.coreData.expId?awa.ids.readExpIdFromCoreData(r.coreData.expId):awa.ids.readExpIdFromCookie(i),h=awa.ids.getAppUserId()
return(t(p)||t(m)||t(h))&&(n.ext.app||(n.ext.app={}),p&&(n.ext.app.env=p),m&&(n.ext.app.expId=m),h&&(n.ext.app.userId=h)),r.validateEvents&&awa.isEventValid&&!awa.isEventValid(n)?void 0:(awa._validateAndTranslateEvent(n),n)}
function T(e,t){var r=new Image
r.onload=function(){1===r.width&&m(e,t)},r.onerror=function(){awa.logger.logWarning("Telemetry image beacon not sent properly. Sending through POST."),k(t)},r.src=e}function S(e){var n="",i="",a=""
if(e.length){a=e[0].ext.javascript.msfpc
for(var o=0;o<e.length;o++)o>0&&(n+="\n"),n+=P(e[o])}else a=e.ext.javascript.msfpc,n=P(e)
var s=r.endpoint+"/t.req?"+n
i="?"+x()
return{qp:i+=t(a)?"&ext-javascript-msfpc="+encodeURIComponent(g+a+g):"",requestBody:n,requestSrc:s}}function x(){return"$mscomCookies="+r.mscomCookies}function k(e){var t=S(e)
if("xhr"===c){var n=new XMLHttpRequest
n.open("POST",r.endpoint+t.qp,!0),n.withCredentials=!0,n.onload=function(){200===n.status?m(t.requestSrc,e):p(n.statusText,n.status)},n.onerror=function(){p(n.statusText,n.status)},n.send(t.requestBody)}else if("XDomainRequest"===c){var i=new window.XDomainRequest
i.onload=function(){m(t.requestSrc,e)},i.onerror=function(){h(i)},i.open("POST",r.endpoint),i.send(t.requestBody)}else awa.logger.logError("No event is sent.")}function A(e){var t=S(e)
navigator.sendBeacon(r.endpoint+t.qp,t.requestBody)?m(t.requestSrc,e):k(e)}function M(e){if(e){var n=e.protocol+"//"+e.hostname+(t(e.port)?":"+e.port:"")+e.pathname
if(r.urlCollectHash&&(n+=e.hash),r.urlCollectQuery){var i=e.search
if(!i){var a=e.hash,o=a.indexOf("?");-1!=o&&(i=a.slice(o))}n+=i}return n}return""}awa.writeEvent=function(e,n){if(awa.isInitialized){var i=!0,a=awa.cookie.getAllCookies(),o=t(a.MSFPC)
if("[object Array]"===Object.prototype.toString.call(e)){for(var l=[],p=0;p<e.length;p++){var h=E(e[p],a)
h&&l.push(h)}if(0==l.length)return
e=l,i=!1}else if(!(e=E(e,a)))return
if(r.sendEvents){var g=JSON.stringify(e).length+r.endpoint.length
if(i&&g+7>s){if(awa.logger.logWarning("event is too large to send using get -- using post instead"),r.autoCapture.eventTooLong)(v={}).eventName=e.name,v.payloadLength=g,awa.ct.captureEventTooLong(v)
i=!1}if(!i&&"XDomainRequest"===c&&r.endpoint&&0!==r.endpoint.indexOf(window.location.protocol)&&(awa.logger.logError("Unable to write event: CORS requests are not supported cross-protocol in this browser"),1)){var v
if(r.autoCapture.corsDisallowed)(v={}).eventName=e.name,v.type="CorsDisallowed",awa.ct.captureCorsDisallowed(v)
return}if(awa.testHook&&1==awa.testHook.testUsePost&&(i=!1),i)if(!1===u||r.provisionMsfpc&&!o||!0===r.shareAuthStatus){o=!0
var y="/t.js"
if(!0===r.shareAuthStatus&&!0===awa.getSignedInStatus())if(1===r.authMethod){if(t(a.Bounced))return void T(r.endpoint+"/asm.gif?"+C(e,a),e)
awa.vortexEvents.overrideQueueBehavior({domReadyState:"notComplete"}),y="/asm.js"}else 2===r.authMethod&&(y="/asa.js");(function(e,t,r){var n=document.head||document.getElementsByTagName("head")[0]||document.documentElement,i=document.createElement("script")
i.onload=function(){m(e,t,!0)},i.onerror=function(){r?awa.logger.logError("No event is sent."):(f(),awa.writeEvent(t,!0))},i.async=!0,i.src=e,n.appendChild(i)})(r.endpoint+y+"?"+C(e,a),e,n)}else d&&!0===r.useBeacon?A(e):T(r.endpoint+"/t.gif?"+C(e,a),e)
else d&&!0===r.useBeacon&&!1===r.shareAuthStatus?A(e):k(e)}else m(C(e,a),e)}else awa.vortexEvents.addEventToQueue(e)},awa.sanitizeUrl=function(e){if(e){var t=document.createElement("a")
if(t.href=e,document.body.appendChild(t),document.body.removeChild(t),t)return M(t)}return""},awa.sanitizeCurrentUrl=function(){return window.location?M(window.location):""},awa.getSignedInStatus=function(){return r.callback&&"function"==typeof r.callback.signedinStatus?r.callback.signedinStatus():r.isLoggedIn},awa.sendEventThroughIframe=function(t){var n=document.createElement("iframe"),i=Math.floor(Math.random()*Math.floor(1e4))
n.id="telframe"+i,n.style.display="none",1==r.authMethod&&(n.addEventListener?n.addEventListener("load",f):n.attachEvent("onload",f)),n.src=t,awa.cookie.setCookie("Bounced",e.dateToISOString(new Date),.5/24),document.body.appendChild(n)},awa._registerSchemas=function(e){for(var t=0;t<e.length;t++)awa._schemas[e[t].name]=e[t]},awa.console=window.console||{},awa.console.fallback=awa.console.log||function(){}
for(var R=["log","info","warn","error","trace"],D=0;D<R.length;D++){var O=R[D]
awa.console[O]||(awa.console[O]=awa.console.fallback)}awa.extendCoreData=function(t){e.removeInvalidElements(t),r.coreData=e.extend(!0,r.coreData,t)},awa._validateAndTranslateEvent=function(e){return{event:e}},awa.testHook={JSLL_VERSION:"4.3.0",defaultConfig:function(){return r},setAllowedGetLength:function(e){s=e},testUsePost:!1,getAllowedGetLength:function(){return s},getQueryFromJSON:C}}(),awa._registerSchemas([{name:"Ms.Cll.Javascript.CorsDisallowed","Ms.Cll.Javascript.CorsDisallowed":{part:"C",def:{fields:[{req:!0,name:"eventName",type:"string"},{name:"pageName",type:"string"},{name:"market",type:"string"},{name:"uri",type:"string"},{name:"impressionGuid",type:"string"},{name:"serverImpressionGuid",type:"string"}]}}},{name:"Ms.Cll.Javascript.EventTooLong","Ms.Cll.Javascript.EventTooLong":{part:"C",def:{fields:[{req:!0,name:"eventName",type:"string"},{req:!0,name:"payloadLength",type:"int32"},{name:"pageName",type:"string"},{name:"market",type:"string"},{name:"uri",type:"string"},{name:"impressionGuid",type:"string"},{name:"serverImpressionGuid",type:"string"}]}}},{name:"Ms.Cll.Javascript.Error","Ms.Telemetry.Error":{part:"B",def:{fields:[{name:"errorName",type:"string"},{name:"errorMessage",type:"string"},{name:"severity",type:"int32"},{name:"errorType",type:"string"},{name:"errorCode",type:"int32"},{name:"lineNumber",type:"uint32"},{name:"isDisplayed",type:"bool"},{name:"errorLocation",type:"string"},{name:"errorMethod",type:"string"}]}},"Ms.Cll.Javascript.Error":{part:"C",def:{fields:[{req:!0,name:"code",type:"int32"},{req:!0,name:"message",type:"string"},{name:"pageName",type:"string"},{name:"market",type:"string"},{name:"uri",type:"string"},{name:"impressionGuid",type:"string"},{name:"serverImpressionGuid",type:"string"}]}}},{name:"Ms.Cll.Javascript.EventDropped","Ms.Cll.Javascript.EventDropped":{part:"C",def:{fields:[{req:!0,name:"eventName",type:"string"},{name:"pageName",type:"string"},{name:"market",type:"string"},{name:"uri",type:"string"},{name:"impressionGuid",type:"string"},{name:"serverImpressionGuid",type:"string"},{name:"droppedInfo",type:"string"}]}}},{name:"Ms.Webi.ClientError","Ms.Webi.ClientError":{part:"B",def:{fields:[{req:!0,name:"errorInfo",type:"string"},{name:"wasDisplayed",type:"bool"},{name:"impressionGuid",type:"string"},{name:"serverImpressionGuid",type:"string"},{name:"pageName",type:"string"},{name:"market",type:"string"},{name:"uri",type:"string"},{name:"errorName",type:"string"},{name:"errorMessage",type:"string"},{name:"severity",type:"int32"},{name:"errorType",type:"string"},{name:"errorCode",type:"int32"},{name:"lineNumber",type:"uint32"},{name:"isDisplayed",type:"bool"},{name:"errorLocation",type:"string"},{name:"errorMethod",type:"string"}]}}},{name:"Ms.Webi.OutgoingRequest","Ms.Qos.OutgoingServiceRequest":{part:"B",def:{fields:[{req:!0,name:"operationName",type:"string"},{name:"targetUri",type:"string"},{req:!0,name:"latencyMs",type:"int32"},{name:"serviceErrorCode",type:"int32"},{req:!0,name:"succeeded",type:"bool"},{name:"requestMethod",type:"string"},{name:"responseContentType",type:"string"},{name:"protocol",type:"string"},{name:"protocolStatusCode",type:"string"},{req:!0,name:"dependencyOperationName",type:"string"},{name:"dependencyOperationVersion",type:"string"},{req:!0,name:"dependencyName",type:"string"},{name:"dependencyType",type:"string"},{name:"responseSizeBytes",type:"int32"},{name:"requestStatus",type:"int32"}]}},"Ms.Webi.OutgoingRequest":{part:"C",def:{fields:[{name:"impressionGuid",type:"string"},{name:"message",type:"string"},{name:"retryCount",type:"int32"},{name:"customData",type:"string"},{name:"serverImpressionGuid",type:"string"},{name:"pageName",type:"string"},{name:"market",type:"string"},{name:"uri",type:"string"}]}}},{name:"Ms.Webi.PageView","Ms.Content.PageView":{part:"B",def:{fields:[{name:"ver",type:"string"},{req:!0,name:"impressionGuid",type:"string"},{req:!0,name:"pageName",type:"string"},{name:"uri",type:"string"},{name:"referrerUri",type:"string"},{name:"pageType",type:"string"},{name:"pageTags",type:"string"},{name:"product",type:"string"},{name:"screenState",type:"int32"},{name:"actionType",type:"string"},{name:"behavior",type:"int32"},{name:"resHeight",type:"int32"},{name:"resWidth",type:"int32"},{name:"vpHeight",type:"int32"},{name:"vpWidth",type:"int32"},{name:"market",type:"string"}]}},"Ms.Webi.PageView":{part:"C",def:{fields:[{name:"cookieEnabled",type:"bool"},{name:"flashInstalled",type:"bool"},{name:"flashVersion",type:"string"},{name:"cookies",type:"string"},{name:"isJs",type:"bool"},{name:"title",type:"string"},{name:"isLoggedIn",type:"bool"},{name:"isManual",type:"bool"},{name:"serverImpressionGuid",type:"string"}]}}},{name:"Ms.Webi.ContentUpdate","Ms.Content.ContentUpdate":{part:"B",def:{fields:[{name:"ver",type:"string"},{req:!0,name:"impressionGuid",type:"string"},{req:!0,name:"pageName",type:"string"},{name:"uri",type:"string"},{name:"pageTags",type:"string"},{name:"pageHeight",type:"int32"},{name:"vpHeight",type:"int32"},{name:"vpWidth",type:"int32"},{name:"market",type:"string"},{name:"actionType",type:"string"},{name:"behavior",type:"int32"},{name:"vScrollOffset",type:"int32"},{name:"hScrollOffset",type:"int32"},{name:"contentVer",type:"string"},{req:!0,name:"content",type:"string"}]}},"Ms.Webi.ContentUpdate":{part:"C",def:{fields:[{name:"pageLoadTime",type:"int32"},{name:"title",type:"string"},{name:"isJs",type:"bool"},{name:"cookieEnabled",type:"bool"},{name:"isLoggedIn",type:"bool"},{name:"isManual",type:"bool"},{name:"isDomComplete",type:"bool"},{name:"serverImpressionGuid",type:"string"},{name:"timings",type:"string"}]}}},{name:"Ms.Webi.PageAction","Ms.Content.PageAction":{part:"B",def:{fields:[{name:"ver",type:"string"},{req:!0,name:"impressionGuid",type:"string"},{req:!0,name:"pageName",type:"string"},{name:"uri",type:"string"},{name:"destUri",type:"string"},{name:"market",type:"string"},{name:"pageType",type:"string"},{name:"pageTags",type:"string"},{name:"product",type:"string"},{name:"screenState",type:"int32"},{name:"actionType",type:"string"},{name:"behavior",type:"int32"},{name:"contentVer",type:"string"},{name:"content",type:"string"}]}},"Ms.Webi.PageAction":{part:"C",def:{fields:[{name:"timeToAction",type:"int32"},{name:"cookieEnabled",type:"bool"},{name:"cookies",type:"string"},{name:"isJs",type:"bool"},{name:"title",type:"string"},{name:"referrerUri",type:"string"},{name:"isLoggedIn",type:"bool"},{name:"isManual",type:"bool"},{name:"serverImpressionGuid",type:"string"}]}}},{name:"Ms.Webi.PageUnload","Ms.Content.PageUnload":{part:"B",def:{fields:[{name:"ver",type:"string"},{req:!0,name:"impressionGuid",type:"string"},{req:!0,name:"pageName",type:"string"},{name:"uri",type:"string"}]}},"Ms.Webi.PageUnload":{part:"C",def:{fields:[{name:"dwellTime",type:"int32"},{name:"scrollDepth",type:"string"},{name:"serverImpressionGuid",type:"string"},{name:"timings",type:"string"},{name:"vScrollOffset",type:"int32"},{name:"pageHeight",type:"int32"},{name:"vpHeight",type:"int32"},{name:"pageLoadTime",type:"int32"}]}}}]),awa.isEventValid=function(e){var t=awa.logger.logWarning
function r(e,r){var n=e.eventName+" - "+e.droppedInfo
r?(t("Dropped event "+n),awa.ct.captureEventDrop(e)):t("Dropped field from "+n)}function n(e,t){for(var r=0;r<e.length;r++)if(e[r]==t)return!0
return!1}function i(e,t){for(var i=[],o=t.length,s=0;s<o;s++){var l=t[s],u=l.name
i.push(u)
var d=l.type,c=e[u],f=l.req
if(awa.utils.isValueAssigned(c)){if(!awa.utils.isOfCorrectType(d,c)){if(r({eventName:a,droppedInfo:"Incorrect type: "+u},f),!0===f)return!1
delete e[u]}}else if(!0===f)return r({eventName:a,droppedInfo:"Missing field: "+u},!0),!1}for(var p in e)"baseData"!=p&&"baseType"!=p&&(n(i,p)||(r({eventName:a,droppedInfo:"Unexpected field "+p},!1),delete e[p]))
return!0}if(e){var a=e.name,o=awa._schemas,s=e.data.baseType,l=a,u=o[a]
if(!u)return r({eventName:a,droppedInfo:"Not registered in JSLL"},!0),!1
if(s){var d=e.data.baseData,c=u[s]?u[s].def.fields:void 0
if(d&&c&&!i(d,c))return!1}if(l){var f=e.data,p=u[l]?u[l].def.fields:void 0
if(f&&p&&!i(f,p))return!1}return!0}return!1},awa.translateEventFromIntermediateStructure=function(e){var t=e.name,r=e.data,n=awa.utils
if(n.isValueAssigned(r[t])){var i=n.extend(!0,r[t])
delete r[t]
var a=[]
for(var o in r)a.push(o)
var s=n.extend(!0,r[a[0]])
delete r[a[0]],delete e.content
var l=n.extend(!0,"{}"!==JSON.stringify(s)?{baseData:s}:{},i,{baseType:a[0]})
return n.extend(!0,e,{data:l})}return e},awa.ix=function(){var e={},t="",r="",n=awa.utils.isValueAssigned
function i(){return n(t)||n(r)?"https://dpm.demdex.net/id?d_orgid=EA76ADE95776D2EC7F000101@AdobeOrg&d_cid="+(n(t)?"88170%01"+t+"%010":"")+(n(r)?(n(t)?"%01":"")+"88169%01"+r+"%010":"")+"&d_ver=2":void 0}function a(){if(n(t))return"https://ad.doubleclick.net/ddm/activity/src=6952136;type=store0;cat=jsll;u58="+t+";dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=1?"}return{init:function(t){e=t.ix},set:function(o){if(o&&(t=o.mc1,r=o.anid,n(t)||n(r))){if(e.a){var s=new XMLHttpRequest
s.onreadystatechange=function(){4==s.readyState&&200==s.status&&awa.ct.captureSwap(JSON.parse(s.responseText))}
var l=i()
n(l)&&(s.open("GET",l,!0),s.setRequestHeader("Accept","application/json; charset=utf-8"),s.send())}e.g&&(l=a(),n(l)&&((new Image).src=l))}},testHook:{getAdobeUrl:i,getGoogleUrl:a,setMc1:function(e){t=e},setAnid:function(e){r=e}}}}(),awa.ct=function(){var e="1.0",t="2.0",r=200,n=524288,i={},a={},o=awa.cookie,s=awa.errorHandler,l=awa.ids,u=awa.vortexEvents,d=awa.utils,c=awa.actionType,f={h:0,v:0},p="data-bi-dnt",m="data-bi-mto",h=!1,g={longNames:{isShortNames:!1,id:"data-bi-id",areaName:"data-bi-area",slotNumber:"data-bi-slot",contentName:"data-bi-name",contentSource:"data-bi-source",templateName:"data-bi-view",productId:"data-bi-product",contentType:"data-bi-type"},shortNames:{isShortNames:!0,id:"data-bi-id",areaName:"data-bi-an",slotNumber:"data-bi-sn",contentName:"data-bi-cn",contentSource:"data-bi-cs",templateName:"data-bi-tn",productId:"data-bi-pid",contentType:"data-bi-ct"}},v=g.longNames,y={BUTTON:!0,CHECKBOX:!0,RADIO:!0,RESET:!0,SUBMIT:!0}
function b(e){if(("https://web.vortex.data.microsoft.com"==e.origin||"https://login.microsoftonline.com"==e.origin)&&e.data)try{var t=JSON.parse(e.data)
if(t&&"firstEventDone"==t.Action&&awa.firstEventDone(),t&&t.BouncedCookieExpires){var r="Bounced="+d.dateToISOString(new Date)+"; expires="+new Date(t.BouncedCookieExpires).toUTCString()+"; path=/;"
window.document.cookie=r}}catch(e){}}function _(e){/in/.test(document.readyState)?setTimeout(function(){awa.ct.onDomReadyDo(e)},100):e.call()}function I(){if(i.callback&&"function"==typeof i.callback.pageName)return i.callback.pageName()
if(i.coreData.pageName)return i.coreData.pageName
var e=window.location.pathname,t=e.split("/")
return e=t&&""!==t[t.length-1]?t[t.length-1]:"Undefined"}function C(){return i.coreData.title?i.coreData.title:document.title.substring(0,150)}function P(e){var t={A:!0,BUTTON:!0,AREA:!0,INPUT:!0},r=e||window.event,n=r.srcElement||r.target,i={isAuto:!0},a=function(e){return e.which?3===e.which:e.button?2===e.button:void 0}(r)
if(a)i.actionType=c.CLICKRIGHT
else if(function(e){return e.which?1===e.which:e.button?1===e.button:void 0}(r))i.actionType=c.CLICKLEFT
else if(function(e){if(e.keyCode)return 13===e.keyCode}(r))i.actionType=c.KEYBOARDENTER
else if(function(e){if(e.keyCode)return 32===e.keyCode}(r))i.actionType=c.KEYBOARDSPACE
else if(function(e){return e.which?2===e.which:e.button?4===e.button:void 0}(r))i.actionType=c.CLICKMIDDLE
else if(function(e){if(e.keyCode)return 195===e.keyCode}(r))i.actionType=c.GAMEPADA
else{if(!function(e){if(e.keyCode)return 207===e.keyCode}(r))return
i.actionType=c.GAMEPADMENU}for(;n&&n.tagName;){if(n.control&&t[n.control.tagName.toUpperCase()]&&(n=n.control),t[n.tagName.toUpperCase()]){("INPUT"!==n.tagName.toUpperCase()||y[n.type.toUpperCase()])&&(w(n,m)||k(n,i,a))
break}n=n.parentElement||n.parentNode}}function w(e,t){var r=d.findClosestByAttribute(e,t)
return!!d.isValueAssigned(r)}function E(e,t,r){var n
return function(){var i=this,a=arguments,o=!n
clearTimeout(n),n=setTimeout(function(){n=null,t&&t.apply(i,a)},r),o&&e&&e.apply(i,a)}}function T(t){awa.timespanHandler.recordTimeSpan("dwellTime",!1),f.v=0,h=!1,t=t||{}
var r=o.getAllCookies(),a={},s=awa.utils.extend(!0,i.coreData.pageTags)
s.metaTags=U(a,!0),F(s,r),"function"==typeof i.callback.pageViewPageTags&&(s=d.extend(!0,s,i.callback.pageViewPageTags()))
var u=q(),c={name:"Ms.Webi.PageView",data:{baseData:{ver:e,impressionGuid:l.getPageViewImpressionGuid(),pageName:t.pageName||I(),uri:t.uri||K(),referrerUri:t.referrerUri||i.coreData.referrerUri,market:a.market,pageType:a.pageType,product:a.product,resHeight:u.h,resWidth:u.w,pageTags:JSON.stringify(d.extend(!0,s,t.pageTags)),actionType:t.actionType||a.actionType,behavior:G(t.behavior)||(a.behavior?a.behavior:awa.behavior.UNDEFINED)},baseType:"Ms.Content.PageView",cookieEnabled:H(),cookies:L(r),isJs:!0,title:t.title||C(),isLoggedIn:awa.getSignedInStatus(),serverImpressionGuid:a.serverImpressionGuid,isManual:!0},flags:a.isSensitive?n:void 0}
if(i.autoCapture.addin){var p=function(){var e={}
if(navigator.plugins["Shockwave Flash"]){e.installed=!0
var t=navigator.plugins["Shockwave Flash"]
e.version=t.description.split(" ")[2]}else if(-1!==navigator.userAgent.indexOf("MSIE"))for(var r=(new Date).getFullYear()-1992,n=r;n>0;n--)try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+n)
e.installed=!0,e.version=n+".0"
break}catch(e){}return e}()
c.data.flashInstalled=p.installed||!1,c.data.flashVersion=p.version||""}R(c,t,a.env,!0)}function S(){x({isAuto:!0,isDomComplete:!0})}function x(r){r=r||{}
var s={},u=awa.utils.extend(!0,i.coreData.pageTags)
if(u.metaTags=U(s),F(u,o.getAllCookies()),r&&r.isDomComplete&&!0===a.perf&&window.performance){var c={}
if(window.performance.timing){if(window.performance.getEntriesByType){var f=window.performance.getEntriesByType("paint")
if(f){for(var p=0;p<f.length;p++)c[f[p].name]=f[p].startTime
for(var m in window.performance.timing)"toJSON"!=m&&(c[m]=window.performance.timing[m])}else c=window.performance.timing}u.timing=d.stringifyField("timing",c)}if(!0===a.assets){var h=d.getPerformanceData()
h&&(u.AssetPerformance=d.stringifyField("AssetPerformance",h))}}"function"==typeof i.callback.contentUpdatePageTags&&(u=d.extend(!0,u,i.callback.contentUpdatePageTags()))
var g,v=V(),y={}
d.isValueAssigned(r.vScrollOffset)&&d.isValueAssigned(r.hScrollOffset)||(y=B()),R({name:"Ms.Webi.ContentUpdate",data:{baseData:{ver:e,impressionGuid:l.getImpressionGuid(),pageName:r.pageName||I(),uri:r.uri||K(),market:s.market,pageTags:JSON.stringify(d.extend(!0,u,r.pageTags)),pageHeight:r.pageHeight||document.body.scrollHeight,vpHeight:v.h,vpWidth:v.w,actionType:r.actionType||s.actionType,behavior:G(r.behavior)||(s.behavior?s.behavior:awa.behavior.UNDEFINED),vScrollOffset:r.vScrollOffset||y.v,hScrollOffset:r.hScrollOffset||y.h,contentVer:t,content:M(r.content)||O((g=v,{top:0,bottom:g.h,left:0,right:g.w}))},baseType:"Ms.Content.ContentUpdate",timings:JSON.stringify(r.timings),title:r.title||C(),cookieEnabled:H(),isJs:!0,isManual:!0,isDomComplete:!1,isLoggedIn:awa.getSignedInStatus(),serverImpressionGuid:s.serverImpressionGuid},flags:s.isSensitive?n:void 0},r,s.env,!1)}function k(r,s,u){var c=!(s=s||{}).isAuto&&w(r,m)
if(r&&w(r,p)&&!c)awa.logger.logWarning("The element has do-not-track attribute set.  PageAction will not be sent.")
else{var f=o.getAllCookies(),h={},g=awa.utils.extend(!0,i.coreData.pageTags),v={};(r=d.returnDomObjectIfjQuery(r))&&(h.targetUri=function(e){var t=""
switch(e.tagName){case"A":case"AREA":t=e.href||""
break
case"IMG":t=function(e){var t=e
if(t){var r=d.findClosestAnchor(t)
if(r&&1===r.length){if(r[0].href)return r[0].href
if(r[0].src)return r[0].src}}return""}(e)
break
case"INPUT":var r=e.type
window.event
r&&y[r.toUpperCase()]&&(t=e.form&&e.form.action||window.location.pathname)}return t}(r),v=N(r,!0),a.msTags&&(v=d.extend(v,function(e){var t={}
for(;e;)if(!W(e)){for(var r in e.attributes)if(r&&e.attributes[r]){var n=e.attributes[r].name
n&&0===n.toLowerCase().indexOf("ms.")&&(t[n]=e.attributes[r].value)}e=e.parentElement||e.parentNode}return t}(r))),u&&(h.behavior=awa.behavior.CONTEXTMENU),v.bhvr&&(h.behavior=G(d.extractFieldFromObject(v,"bhvr")))),g.metaTags=U(h),F(g,f),"function"==typeof i.callback.pageActionPageTags&&(g=d.extend(!0,g,i.callback.pageActionPageTags(r)))
var b=i.callback.pageActionContentTags
R({name:"Ms.Webi.PageAction",data:{baseData:{ver:e,impressionGuid:l.getImpressionGuid(),pageName:s.pageName||I(),uri:s.uri||K(),pageTags:d.stringifyField("pageTags",d.extend(!0,g,s.pageTags)),contentVer:t,market:h.market,destUri:s.targetUri||h.targetUri,pageType:h.pageType,product:h.product,actionType:s.actionType||h.actionType,behavior:G(s.behavior)||(h.behavior?h.behavior:awa.behavior.UNDEFINED),content:M(s.content)||d.bracketIt(JSON.stringify(d.extend(v,"function"==typeof b?b(r):{},s&&s.contentTags?s.contentTags:{})))},baseType:"Ms.Content.PageAction",timeToAction:D(),cookieEnabled:H(),cookies:L(f),isJs:!0,title:s.title||C(),isLoggedIn:awa.getSignedInStatus(),isManual:!0,referrerUri:s.referrerUri||i.coreData.referrerUri,serverImpressionGuid:h.serverImpressionGuid},flags:h.isSensitive?n:void 0},s,h.env,!0)}}function A(t){if(!h){h=!0,(t=t||{}).isDomComplete=!0
var r={}
U(r)
var a=i.callback.pageUnloadTimings,o=document.body.scrollHeight
R({name:"Ms.Webi.PageUnload",data:{baseData:{ver:e,impressionGuid:l.getImpressionGuid(),pageName:t.pageName||I()},baseType:"Ms.Content.PageUnload",dwellTime:awa.timespanHandler.recordTimeSpan("dwellTime",!0),scrollDepth:t.scrollDepth||f.v.toString()+"/"+o.toString(),vScrollOffset:t.vScrollOffset||f.v,pageHeight:t.pageHeight||o,vpHeight:V().h,serverImpressionGuid:r.serverImpressionGuid,timings:a?a():void 0},flags:r.isSensitive?n:void 0},t,r.env,!0)}}function M(e){if(d.isValueAssigned(e))return"[object Array]"===Object.prototype.toString.call(e)?JSON.stringify(e):d.bracketIt(JSON.stringify(e))}function R(e,t,r,n){e.time=d.dateToISOString(new Date)
var i=e.data
t&&function(e,t,r){r.appId&&(e.appId=r.appId),r.serviceName&&(e.serviceName=r.serviceName),!0!==r.isAuto?t.isManual=!0:t.isManual=void 0,r.isDomComplete&&(t.isDomComplete=r.isDomComplete,t.pageLoadTime=r.pageLoadTime||d.getPageLoadTime())}(e,i,t),r&&(e.ext={app:{env:r}}),u.SendOrScheduleEvent(e,n)}function D(){if(window.performance&&window.performance.timing){var e=window.performance.timing.navigationStart
if(0!==e)return(new Date).getTime()-e}return-1}function O(e){var t=[]
return function(e,t,r){if(e)for(var n=0;n<e.length;n++){var i=e[n]
if(!w(i,p)&&d.isElementTrulyVisible(i,r)){var a=N(i,!1)
a&&t.push(a)}}}(document.querySelectorAll(d.bracketIt(v.areaName)+","+d.bracketIt(v.slotNumber)+","+d.bracketIt(i.biBlobAttributeTag)),t,e),JSON.stringify(t)}function N(e,t){if(!e)return""
var n,a={},o=awa.utils.findClosestByAttribute(e,i.biBlobAttributeTag)
if(o&&(n=o.getAttribute(i.biBlobAttributeTag)),n)a=JSON.parse(n)
else{var s=d.findClosestByAttribute(e,d.bracketIt(v.id))
s=d.returnDomObjectIfjQuery(e)
var l=d.findClosestByAttribute(e,v.areaName),u=awa.utils.extend({},function(e){if(e=d.returnDomObjectIfjQuery(e))return{areaName:e.getAttribute(v.areaName),templateName:e.getAttribute(v.templateName),contentSource:e.getAttribute(v.contentSource),product:e.getAttribute(v.productId),type:e.getAttribute(v.contentType)}}(l));(a={id:s.getAttribute(v.id)||e.id||"",aN:u.areaName,sN:s.getAttribute(v.slotNumber),cN:s.getAttribute(v.contentName)||function(e){if(!1===i.useDefaultContentName||W(e)||!e.tagName)return""
var t
switch(e.tagName){case"A":t=document.all?e.innerText||e.innerHTML:e.text||e.innerHTML
case"IMG":case"AREA":t=e.alt
default:t=e.value||e.name||e.alt||e.innerText||e.id}return t.substring(0,r)}(e)||s.getAttribute("alt")||"",cS:s.getAttribute(v.contentSource)||u.contentSource,tN:u.templateName,pid:s.getAttribute(v.productId),cT:s.getAttribute(v.contentType)||u.type}).id&&a.aN&&a.sN&&a.cN||awa.logger.logWarning("Invalid content blob.  Missing required attributes (id, aN/area, sN/slot), cN/contentName.  Content information will still be collected!"),v.isShortNames||(a={contentId:a.id,areaName:a.aN,slotNumber:a.sN,contentName:a.cN,contentSource:a.cS,templateName:a.tN,productId:a.pid,contentType:a.cT})
for(var c,f=0;f<s.attributes.length;f++){if((c=s.attributes[f]).name!==v.id&&c.name!==v.areaName&&c.name!==v.slotNumber&&c.name!==v.contentName&&c.name!==v.contentSource&&c.name!==v.templateName&&c.name!==v.productId&&c.name!==v.contentType&&-1!==c.name.indexOf("data-bi-"))a[c.name.replace("data-bi-","")]=c.value}}return awa.utils.removeInvalidElements(a),i.autoCapture.lineage&&t&&(a=awa.utils.extend(a,function(e){for(var t,r,n=[],a=[],o=i.biBlobAttributeTag,s=void 0;e&&e.getAttribute;){var l=e.getAttribute(o)||e[o],u=e.getAttribute("data-module-id")||e["data-module-id"]
if(l){var d=JSON.parse(l)
d&&(t=d.cN||d.cT,r=d.id||void 0,(t||r)&&(n.push(t),u&&(s=t),a.push(r)))}else t=e.getAttribute(v.contentName)||e.getAttribute(v.contentType),r=e.getAttribute(v.id)||void 0,(t||r)&&(n.push(t),u&&(s=t),a.push(r))
e=e.parentElement}return{lineage:n.join(">"),lineageById:a.join(">"),containerName:s}}(e))),a}function L(e){var t,r,n="",a={},o=[],s=i.cookiesToCollect
if(!1===i.shareAuthStatus)o=s
else for(var l=0;l<s.length;l++)"ANON"!==s[l]&&o.push(s[l])
try{try{window.varCustomerCookies&&window.varCustomerCookies.length>0&&(o=o.concat(window.varCustomerCookies))}catch(e){}for(t in o)o.hasOwnProperty(t)&&(a.hasOwnProperty(o[t])||(a[o[t]]="",(r=e[o[t]])&&""!==r&&(n+=o[t]+"="+r+";")))}catch(e){}return n}function F(e,t){if(i.enabledFeatures){if(e.enabledFeatures)return
var r=t.Features
r&&(e.enabledFeatures=r)}}function U(e,t){var r={},n={}
return i.autoCapture.awaTags&&(r=z("awa-",!0)),e.env=j(r,i.coreData,"env"),e.pageType=j(r,i.coreData,"pageType"),e.product=j(r,i.coreData,"product"),e.market=j(r,i.coreData,"market"),e.serverImpressionGuid=j(r,i.coreData,"serverImpressionGuid"),e.isSensitive=j(r,i.coreData,"isSensitive"),!e.behavior&&t&&(e.behavior=G(j(r,i.coreData,"behavior"))),i.autoCapture.msTags&&(n=z("ms.",!1),r=d.extend(!0,r,n)),r}function j(e,t,r){return t[r]?t[r]:d.extractFieldFromObject(e,r)}function z(e,t){var r,n={}
r=document.querySelectorAll("meta")
for(var i=0;i<r.length;i++){var a=r[i]
if(a.name)if(0===a.name.toLowerCase().indexOf(e))n[t?a.name.replace(e,""):a.name]=a.content}return n}function q(){var e={h:0,w:0}
return window.screen&&(e.h=screen.height,e.w=screen.width),e}function V(){var e={h:0,w:0}
return window.screen&&(e.h=window.innerHeight||document.body.clientHeight||document.documentElement.clientHeight,e.w=window.innerWidth||document.body.clientWidth||document.documentElement.clientWidth),e}function B(){return{h:parseInt(document.body.scrollLeft||document.documentElement.scrollLeft||window.pageXOffset||0,10),v:parseInt(document.body.scrollTop||document.documentElement.scrollTop||window.pageYOffset||0,10)}}function H(){return navigator.cookieEnabled}function W(e){if(!e||!e.attributes)return!1
try{var t=e.getAttribute("data-dc")
return!!d.isValueAssigned(t)&&"pii"===t.toLowerCase()}catch(e){return!1}}function $(e){for(var t=0;t<awa.behaviorKeys.length;t++)if(awa.behavior[awa.behaviorKeys[t]]===e)return!0
return awa.logger.logWarning("Unsupported behavior: "+e+"."),!1}function G(e){if(d.isValueAssigned(e)){var t=Number(e)
if(d.isOfCorrectType("uint16",t)){if($(t))return t}else if(d.isOfCorrectType("string",e)){var r=awa.behavior[e.toUpperCase()]
if(d.isOfCorrectType("uint16",r))return r}}}function K(){return""==i.coreData.requestUri?awa.sanitizeCurrentUrl():i.coreData.requestUri}return{initialize:function(e){if(awa.isAvailable){if(a=(i=e).autoCapture,v=!0===i.useShortNameForContentBlob?g.shortNames:g.longNames,a.pageView&&T({isAuto:!0}),a.click)if(window.addEventListener){var t=-1!==navigator.appVersion.indexOf("MSIE")?"click":"mousedown"
window.addEventListener(t,P,!1),window.addEventListener("keyup",P,!1)}else document.attachEvent&&(document.attachEvent("onclick",P),document.attachEvent("keyup",P))
if(a.jsError&&s.init(),a.scroll){var r=E(null,function(){x({isAuto:!0,actionType:awa.actionType.SCROLL})},i.debounceMs.scroll)
d.attachEvent(window,"scroll",r)}if(a.resize){var n=E(function(){x({isAuto:!0,actionType:awa.actionType.RESIZE})},null,i.debounceMs.resize)
d.attachEvent(window,"resize",n)}if((a.onUnload||i.manualPageUnload)&&d.attachEvent(window,"scroll",function(){var e=B()
f.v=f.v>e.v?f.v:e.v}),a.onUnload&&d.addPageUnloadEventListener(A),2==i.sendMode){var o=awa.vortexEvents.batchQueuedEvents
d.addPageUnloadEventListener(o)}2==i.authMethod&&1==i.shareAuthStatus&&awa.getSignedInStatus()&&d.attachEvent(window,"message",b),(i.syncMuid||i.autoCapture.onLoad)&&_(awa.ct.domReadyTasksWrapper)}},capturePageView:T,captureContentUpdate:x,capturePageAction:function(e,t){k(e,t)},captureContentPageAction:function(e){k(null,e)},capturePageUnload:A,captureCorsDisallowed:function(e){if(e){var t={}
U(t),R({name:"Ms.Cll.Javascript.CorsDisallowed",data:{eventName:e.eventName,pageName:I(),uri:e.uri||K(),market:t.market,impressionGuid:l.getImpressionGuid(),serverImpressionGuid:t.serverImpressionGuid},flags:t.isSensitive?n:void 0},e,t.env,!1)}},captureEventTooLong:function(e){if(e){var t={}
U(t),R({name:"Ms.Cll.Javascript.EventTooLong",data:{eventName:e.eventName,payloadLength:e.payloadLength,pageName:e.pageName||I(),uri:e.uri||K(),market:t.market,impressionGuid:l.getImpressionGuid(),serverImpressionGuid:t.serverImpressionGuid},flags:t.isSensitive?n:void 0},e,t.env,!1)}},captureClientError:function(e){if(e){var t={}
U(t),R({name:"Ms.Webi.ClientError",data:{errorInfo:JSON.stringify(e.errorInfo),wasDisplayed:e.displayedToUser||!1,impressionGuid:l.getImpressionGuid(),pageName:e.pageName||I(),uri:e.uri||K(),market:t.market,serverImpressionGuid:t.serverImpressionGuid},flags:t.isSensitive?n:void 0},e,t.env,!1)}},captureEventDrop:function(e){if(e&&a.invalidEvents){var t={}
U(t),R({name:"Ms.Cll.Javascript.EventDropped",data:{eventName:e.eventName,droppedInfo:e.droppedInfo,pageName:e.pageName||I(),uri:e.uri||K(),market:t.market,impressionGuid:l.getImpressionGuid(),serverImpressionGuid:t.serverImpressionGuid},flags:t.isSensitive?n:void 0},e,t.env,!1)}},captureQos:function(e){var t={}
U(t)
var r=e.data
r.serverImpressionGuid=t.serverImpressionGuid,r.market=t.market,r.pageName=I(),r.uri=K(),R(e,void 0,t.env,!1)},captureSwap:function(e){},domReadyTasksWrapper:function(){awa.ct.domReadyTasks()},onDomReadyDo:_,domReadyTasks:function(){i.syncMuid&&function(){var e=d.getMuidHost(i.muidDomain||"microsoft.com")
if(e){var t=(window.location.protocol||"http:")+"//"+e+"/c.gif?DI=4050&did=1&t=",r=document.createElement("IMG")
r.style.display="none",r.src=t,r.hidden="",r["aria-hidden"]="true",r.role="presentation"}else awa.logger.logWarning("Unable to get a muid host for the configured muidDomain '"+i.muidDomain+"'.  Unable to sync muid")}(),a.onLoad&&("complete"===document.readyState?S():d.attachEvent(window,"load",S))},getTimeToClick:D,getPageContent:O,getUri:K,testHook:{isBehaviorValid:$,getValidBehavior:G,collectMetaTagsAndSetEventProperty:U,getElementContent:N,getPageContent:O,debounce:E,getScreenResolution:q,getViewportDimensions:V}}}(),awa.service=function(){var e=awa.timespanHandler,t=!0,r=!1,n=null,i=function(i){if("function"==typeof jQuery){t&&($.support.cors=!0)
var a,o=i.additionalHeaders||{},s=i.body,l=s?JSON.stringify(s):i.data||void 0,u=i.maxRetry||0,d=0,c=$.noop,f=i.operationName||i.url,p=i.errorFormatter||function(e){return e},m=awa.ids,h={url:i.url,type:i.method,data:l,crossDomain:!0,headers:{},success:i.success,timeout:i.timeout,error:i.error,jsonp:i.jsonp,jsonpCallback:i.jsonpCallback,cache:i.cache,beforeSend:function(e){if(c(e),i.contractVersion&&e.setRequestHeader("MS-Contract-Version",i.contractVersion),(!awa.utils.isValueAssigned(i.addCvToRequestHeader)&&r||i.addCvToRequestHeader)&&awa.cv.isValid(a)&&e.setRequestHeader("MS-CV",a),o)for(var t in o)e.setRequestHeader(t,o[t])}}
i.dataType&&(h.dataType=i.dataType),i.noCacheBusting||(h.cache=!1),i.contentType&&(h.contentType=i.contentType),i.accept&&(h.headers.Accept=i.accept),i.accepts&&(h.accepts=i.accepts),i.async&&(h.async=i.async),i.xhrFields&&(h.xhrFields=i.xhrFields),i.complete&&(h.complete=i.complete),i.contents&&(h.contents=i.contents),i.context&&(h.context=i.context),i.dataFilter&&(h.dataFilter=i.dataFilter),i.global&&(h.global=i.global),i.ifModified&&(h.ifModified=i.ifModified),i.isLocal&&(h.isLocal=i.isLocal),i.mimeType&&(h.mimeType=i.mimeType),i.password&&(h.password=i.password),awa.utils.isValueAssigned(i.processData)&&(h.processData=i.processData),i.scriptCharset&&(h.scriptCharset=i.scriptCharset),i.statusCode&&(h.statusCode=i.statusCode),i.traditional&&(h.traditional=i.traditional),i.type&&(h.type=i.type),i.username&&(h.username=i.username),i.xhr&&(h.xhr=i.xhr),a=awa.cv.isValid(i.cV)?i.cV:awa.cv.increment()
var g=function(e,t,r){var o=e.getResponseHeader("Content-Length"),s={name:"Ms.Webi.OutgoingRequest",cV:a,data:{baseData:{operationName:i.currentOperationName||awa.sanitizeUrl(document.location.toString()),targetUri:n?n(h.url):h.url,latencyMs:r,serviceErrorCode:!t&&e.responseJSON&&e.responseJSON.code&&!isNaN(e.responseJSON.code)?e.responseJSON.code:-1,succeeded:t,requestMethod:h.type,responseContentType:h.dataType,protocolStatusCode:e.status.toString(),dependencyOperationName:f,dependencyOperationVersion:i.version&&i.version.toString(),dependencyName:i.serviceName,dependencyType:"WebService",responseSizeBytes:o&&parseInt(o,10)},baseType:"Ms.Qos.OutgoingServiceRequest",impressionGuid:m.getImpressionGuid(),message:t?void 0:awa.utils.stringifyField("errorMessage",e.errorThrown),retryCount:d,customData:i.customDataCallBack&&"function"==typeof i.customDataCallBack?JSON.stringify(i.customDataCallBack(e)):void 0}}
i.QosCallback&&"function"==typeof i.QosCallback&&i.QosCallback(e,s),awa.ct.captureQos(s)},v=function(){var t=f+"_Retry_"+d
return e.recordTimeSpan(t),$.ajax(h).then(function(r,n,i){var a=e.recordTimeSpan(t,!0)
return g(i,!0,a),i},function(r,n){var o=e.recordTimeSpan(t,!0)
g(r,!1,o)
var s=$.Deferred()
return u>d&&(0===r.status||r.status>=500&&r.status<600)?(d++,a=awa.cv.isValid(i.cV)?awa.cv.incrementExternal(a):awa.cv.increment(),setTimeout(function(){v().done(s.resolve).fail(s.reject)},50)):s.reject(r,n),s.promise()})}
return v().then(function(e,t,r){return r},function(e){return p(e,i)})}awa.logger.logError("jQuery is not defined, cannot use service module")}
return{post:function(e){return i(awa.utils.extend({},e,{method:"POST"}))},get:function(e){return i(awa.utils.extend({maxRetry:1},e,{method:"GET"}))},put:function(e){return i(awa.utils.extend({},e,{method:"PUT"}))},del:function(e){return i(awa.utils.extend({},e,{method:"DELETE"}))},patch:function(e){return i(awa.utils.extend({},e,{method:"PATCH"}))},doNotChangeSupportCors:function(){t=!1},alwaysAddCvToRequestHeader:function(){r=!0},setTargetUriOverride:function(e){"function"==typeof e?n=e:"string"==typeof e&&(n=function(){return e})}}}(),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).oneDS=e.oneDS||{})}(this,function(e){"use strict"
var t="function",r="object",n="undefined",i="prototype",a=Object,o=a[i],s=a.create,l=a.defineProperty,u=o.hasOwnProperty,d=null
function c(e){void 0===e&&(e=!0)
var t=!1===e?null:d
return t||(typeof globalThis!==n&&(t=globalThis),t||typeof self===n||(t=self),t||typeof window===n||(t=window),t||typeof global===n||(t=global),d=t),t}function f(e){throw new TypeError(e)}(c()||{}).Symbol,(c()||{}).Reflect
var p=function(e,t){return(p=a.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)}
function m(e,n){function a(){this.constructor=e}typeof n!==t&&null!==n&&f("Class extends value "+String(n)+" is not a constructor or null"),p(e,n),e[i]=null===n?function(e){if(s)return s(e)
if(null==e)return{}
var n=typeof e
function a(){}return n!==r&&n!==t&&f("Object prototype may only be an Object:"+e),a[i]=e,new a}(n):(a[i]=n[i],new a)}var h="initialize",g="name",v="identifier",y="push",b="isInitialized",_="config",I="logger",C="length",P="time",w="processNext",E="getProcessTelContext",T="getPlugin",S="teardown",x="messageId",k="message",A="isAsync",M="_doTeardown",R="update",D="getNext",O="diagLog",N="setNextPlugin",L="createNew",F="indexOf",U="userAgent",j="nodeType",z="apply",q="replace",V="enableDebugExceptions",B="logInternalMessage",H="toLowerCase",W="call",$="isChildEvt",G="getCtx",K="setCtx",X="complete",J="",Q="core",Y="disabled",Z="extensionConfig",ee="processTelemetry",te="priority",re="errorToConsole",ne="warnToConsole",ie="getPerfMgr",ae="__proto__",oe="constructor",se=l,le=a.freeze,ue=Array.isArray,de=o.toString,ce=u.toString,fe=ce[W](a),pe=/-([a-z])/g,me=/([^\w\d_$])/g,he=/^(\d+[\w\d_$])/,ge=Object.getPrototypeOf
function ve(e){return void 0===e||typeof e===n}function ye(e){return null===e||ve(e)}function be(e){return!(!e||typeof e!==r)}function _e(e){return!(!e||typeof e!==t)}function Ie(e){var t=e
return t&&function(e){return"string"==typeof e}(t)&&(t=(t=(t=t[q](pe,function(e,t){return t.toUpperCase()}))[q](me,"_"))[q](he,function(e,t){return"_"+t})),t}function Ce(e,t){return!(!e||!t)&&-1!==e[F](t)}var Pe=ue||function(e){return!(!e||"[object Array]"!==de[W](e))}
function we(e){var r=!1
if(e&&"object"==typeof e){var n=ge?ge(e):function(e){if(e){if(ge)return ge(e)
var t=e[ae]||e[i]||e[oe]
if(t)return t}return null}(e)
n?(n[oe]&&u[W](n,oe)&&(n=n[oe]),r=typeof n===t&&ce[W](n)===fe):r=!0}return r}function Ee(e,t,r){var n=e[C]
try{for(var i=0;i<n&&!(i in e&&-1===t[W](r||e,e[i],i,e));i++);}catch(e){}}var Te,Se=le||function(e){return e}
function xe(){var e=Date
return e.now?e.now():(new e).getTime()}function ke(e,t){return ye(e)?t:e}function Ae(e,t,r,n,i){e&&t&&r&&(!1!==i||ve(e[t]))&&(e[t]=function(e,t){var r=null,n=null
return _e(e)?r=e:n=e,function(){var e=arguments
if(r&&(n=r()),n)return n[t][z](n,e)}}(r,n))}var Me="undefined",Re="constructor",De="prototype",Oe="function",Ne="_dynInstFuncs",Le="_isDynProxy",Fe="_dynClass",Ue="_dynCls$",je="_dynInstChk",ze=je,qe="_dfOpts",Ve="_unknown_",Be="__proto__",He="_dyn"+Be,We="_dynInstProto",$e="useBaseInst",Ge="setInstFuncs",Ke=Object,Xe=Ke.getPrototypeOf,Je=Ke.getOwnPropertyNames
var Qe,Ye=(typeof globalThis!==Me&&(Qe=globalThis),Qe||typeof self===Me||(Qe=self),Qe||typeof window===Me||(Qe=window),Qe||typeof global===Me||(Qe=global),Qe||{}),Ze=Ye.__dynProto$Gbl||(Ye.__dynProto$Gbl={o:(Te={},Te[Ge]=!0,Te[$e]=!0,Te),n:1e3})
function et(e,t){return e&&Ke[De].hasOwnProperty.call(e,t)}function tt(e){return e&&(e===Ke[De]||e===Array[De])}function rt(e){return tt(e)||e===Function[De]}function nt(e){var t
if(e){if(Xe)return Xe(e)
var r=e[Be]||e[De]||(e[Re]?e[Re][De]:null)
t=e[He]||r,et(e,He)||(delete e[We],t=e[He]=e[We]||e[He],e[We]=r)}return t}function it(e,t){var r=[]
if(Je)r=Je(e)
else for(var n in e)"string"==typeof n&&et(e,n)&&r.push(n)
if(r&&r.length>0)for(var i=0;i<r.length;i++)t(r[i])}function at(e,t,r){return t!==Re&&typeof e[t]===Oe&&(r||et(e,t))}function ot(e){throw new TypeError("DynamicProto: "+e)}function st(e,t){for(var r=e.length-1;r>=0;r--)if(e[r]===t)return!0
return!1}function lt(e,t,r,n,i){function a(e,t){var r=function(){return(function(e,t,r,n){var i=null
if(e&&et(r,Fe)){var a=e[Ne]||{}
if((i=(a[r[Fe]]||{})[t])||ot("Missing ["+t+"] "+Oe),!i[je]&&!1!==a[ze]){for(var o=!et(e,t),s=nt(e),l=[];o&&s&&!rt(s)&&!st(l,s);){var u=s[t]
if(u){o=u===n
break}l.push(s),s=nt(s)}try{o&&(e[t]=i),i[je]=1}catch(e){a[ze]=!1}}}return i}(this,t,e,r)||function(e,t,r){var n=t[e]
return n===r&&(n=nt(t)[e]),typeof n!==Oe&&ot("["+e+"] is not a "+Oe),n}(t,e,r)).apply(this,arguments)}
return r[Le]=1,r}if(!tt(e)){var o=r[Ne]=r[Ne]||{},s=o[t]=o[t]||{}
!1!==o[ze]&&(o[ze]=!!i),it(r,function(t){at(r,t,!1)&&r[t]!==n[t]&&(s[t]=r[t],delete r[t],(!et(e,t)||e[t]&&!e[t][Le])&&(e[t]=a(e,t)))})}}function ut(e,t){return et(e,De)?e.name||t||Ve:((e||{})[Re]||{}).name||t||Ve}function dt(e,t,r,n){et(e,De)||ot("theClass is an invalid class definition.")
var i=e[De];(function(e,t){if(Xe){for(var r=[],n=nt(t);n&&!rt(n)&&!st(r,n);){if(n===e)return!0
r.push(n),n=nt(n)}return!1}return!0})(i,t)||ot("["+ut(e)+"] not in hierarchy of ["+ut(t)+"]")
var a=null
et(i,Fe)?a=i[Fe]:(a=Ue+ut(e,"_")+"$"+Ze.n,Ze.n++,i[Fe]=a)
var o=dt[qe],s=!!o[$e]
s&&n&&void 0!==n[$e]&&(s=!!n[$e])
var l=function(e){var t={}
return it(e,function(r){!t[r]&&at(e,r,!1)&&(t[r]=e[r])}),t}(t)
r(t,function(e,t,r,n){function i(e,t,r){var i=t[r]
if(i[Le]&&n){var a=e[Ne]||{}
!1!==a[ze]&&(i=(a[t[Fe]]||{})[r]||i)}return function(){return i.apply(e,arguments)}}var a={}
it(r,function(e){a[e]=i(t,r,e)})
for(var o=nt(e),s=[];o&&!rt(o)&&!st(s,o);)it(o,function(e){!a[e]&&at(o,e,!Xe)&&(a[e]=i(t,o,e))}),s.push(o),o=nt(o)
return a}(i,t,l,s))
var u=!!Xe&&!!o[Ge]
u&&n&&(u=!!n[Ge]),lt(i,a,t,l,!1!==u)}dt[qe]=Ze.o
var ct="window",ft="document",pt="navigator",mt="console",ht="performance",gt="JSON",vt="crypto",yt="msCrypto",bt="msie",_t="trident/",It=null,Ct=null
function Pt(e){var t=c()
return t&&t[e]?t[e]:e===ct&&wt()?window:null}function wt(){return Boolean(typeof window===r&&window)}function Et(){return Boolean(typeof navigator===r&&navigator)?navigator:Pt(pt)}function Tt(){return Boolean(typeof JSON===r&&JSON||null!==Pt(gt))}function St(){return Tt()?JSON||Pt(gt):null}function xt(e){var t=Object[i].toString[W](e),r=J
return"[object Error]"===t?r="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e[g]+"'":Tt()&&(r=St().stringify(e)),t+r}var kt=null
function At(e){var t,r=kt
return r||!0===e.disableDbgExt||(r=kt||((t=Pt("Microsoft"))&&(kt=t.ApplicationInsights),kt)),r?r.ChromeDbgExt:null}var Mt="AI (Internal): ",Rt="AI: ",Dt="AITR_"
function Ot(e){return e?'"'+e[q](/\"/g,J)+'"':J}function Nt(e,t){var r=typeof console!==n?console:Pt(mt)
if(r){var i="log"
r[e]&&(i=e),_e(r[i])&&r[i](t)}}var Lt=function(){function e(e,t,r,n){void 0===r&&(r=!1)
this[x]=e,this[k]=(r?Rt:Mt)+e
var i=J
Tt()&&(i=St().stringify(n))
var a=(t?" message:"+Ot(t):J)+(n?" props:"+Ot(i):J)
this[k]+=a}return e.dataType="MessageData",e}()
function Ft(e,t){return(e||{})[I]||new Ut(t)}var Ut=function(){function e(t){this.identifier="DiagnosticLogger",this.queue=[]
var r,n,i,a,o=0,s={}
dt(e,this,function(e){function l(t,r){if(!(o>=i)){var a=!0,l=Dt+r[x]
if(s[l]?a=!1:s[l]=!0,a&&(t<=n&&(e.queue[y](r),o++,u(1===t?"error":"warn",r)),o===i)){var d="Internal events throttle limit per PageView reached for this app.",c=new Lt(23,d,!1)
e.queue[y](c),1===t?e[re](d):e[ne](d)}}}function u(e,r){var n=At(t||{})
n&&n[O]&&n[O](e,r)}(function(e){r=ke(e.loggingLevelConsole,0),n=ke(e.loggingLevelTelemetry,1),i=ke(e.maxMessageLimit,25),a=ke(e[V],!1)})(t||{}),e.consoleLoggingLevel=function(){return r},e.telemetryLoggingLevel=function(){return n},e.maxInternalMessageLimit=function(){return i},e[V]=function(){return a},e.throwInternal=function(t,n,i,o,d){void 0===d&&(d=!1)
var c=new Lt(n,i,d,o)
if(a)throw xt(c)
var f=1===t?re:ne
if(ve(c[k]))u("throw"+(1===t?"Critical":"Warning"),c)
else{if(d){var p=+c[x]
!s[p]&&r>=t&&(e[f](c[k]),s[p]=!0)}else r>=t&&e[f](c[k])
l(t,c)}},e[ne]=function(e){Nt("warn",e),u("warning",e)},e[re]=function(e){Nt("error",e),u("error",e)},e.resetInternalMessageCount=function(){o=0,s={}},e[B]=l})}return e.__ieDyn=1,e}()
function jt(e,t,r,n,i,a){void 0===a&&(a=!1),function(e){return e||new Ut}(e).throwInternal(t,r,n,i,a)}var zt="ctx",qt="ParentContextKey",Vt="ChildrenContextKey",Bt=function(){function e(t,r,n){var i,a=this,o=!1;(a.start=xe(),a[g]=t,a[A]=n,a[$]=function(){return!1},_e(r))&&(o=function(e,t,r,n){if(se)try{var i={enumerable:!0,configurable:!0}
return r&&(i.get=r),n&&(i.set=n),se(e,t,i),!0}catch(e){}return!1}(a,"payload",function(){return!i&&_e(r)&&(i=r(),r=null),i}))
a[G]=function(t){return t?t===e[qt]||t===e[Vt]?a[t]:(a[zt]||{})[t]:null},a[K]=function(t,r){if(t)if(t===e[qt])a[t]||(a[$]=function(){return!0}),a[t]=r
else if(t===e[Vt])a[t]=r
else{(a[zt]=a[zt]||{})[t]=r}},a[X]=function(){var t=0,n=a[G](e[Vt])
if(Pe(n))for(var i=0;i<n[C];i++){var s=n[i]
s&&(t+=s[P])}a[P]=xe()-a.start,a.exTime=a[P]-t,a[X]=function(){},!o&&_e(r)&&(a.payload=r())}}return e.ParentContextKey="parent",e.ChildrenContextKey="childEvts",e}(),Ht="CoreUtils.doPerf"
var Wt=4294967296,$t=4294967295,Gt=!1,Kt=123456789,Xt=987654321
function Jt(){try{var e=2147483647&xe();(t=(Math.random()*Wt^e)+e)<0&&(t>>>=0),Kt=123456789+t&$t,Xt=987654321-t&$t,Gt=!0}catch(e){}var t}function Qt(e){var t=0,r=Pt(vt)||Pt(yt)
return r&&r.getRandomValues&&(t=r.getRandomValues(new Uint32Array(1))[0]&$t),0===t&&function(){var e=Et()
if(e&&(e[U]!==Ct||null===It)){var t=((Ct=e[U])||J)[H]()
It=Ce(t,bt)||Ce(t,_t)}return It}()&&(Gt||Jt(),t=function(e){var t=((Xt=36969*(65535&Xt)+(Xt>>16)&$t)<<16)+(65535&(Kt=18e3*(65535&Kt)+(Kt>>16)&$t))>>>0&$t|0
e||(t>>>=0)
return t}()&$t),0===t&&(t=Math.floor(Wt*Math.random()|0)),e||(t>>>=0),t}var Yt=l,Zt="2.8.9",er="."+function(e){void 0===e&&(e=22)
for(var t=Qt()>>>0,r=0,n=J;n[C]<e;)r++,n+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&t),t>>>=6,5===r&&(t=(Qt()<<2&4294967295|3&t)>>>0,r=0)
return n}(6),tr=0
function rr(e){return 1===e[j]||9===e[j]||!+e[j]}function nr(e,t){var r=t[e.id]
if(!r){r={}
try{rr(t)&&(function(e,t,r){if(Yt)try{return Yt(e,t,{value:r,enumerable:!1,configurable:!0}),!0}catch(e){}return!1}(t,e.id,r)||(t[e.id]=r))}catch(e){}}return r}var ir,ar=ir={id:function(e,t){return void 0===t&&(t=!1),Ie(e+tr+++(t?"."+Zt:J)+er)}("_aiData-"+("plugin"||J)+"."+Zt),accept:function(e){return rr(e)},get:function(e,t,r,n){var i=e[ir.id]
return i?i[Ie(t)]:(n&&((i=nr(ir,e))[Ie(t)]=r),r)},kill:function(e,t){if(e&&e[t])try{delete e[t]}catch(e){}}}
function or(e){return ar.get(e,"state",{},!0)}var sr="TelemetryPluginChain",lr="_hasRun",ur="_getTelCtx",dr=0
function cr(e,t,r,n){var i=null,a=[]
null!==n&&(i=n?function(e,t,r){for(;e;){if(e[T]()===r)return e
e=e[D]()}return pr([r],t[_]||{},t)}(e,r,n):e)
var o={_next:function(){var e=i
if(i=e?e[D]():null,!e){var t=a
t&&t[C]>0&&(Ee(t,function(e){try{e.func[W](e.self,e.args)}catch(e){jt(r[I],2,73,"Unexpected Exception during onComplete - "+xt(e))}}),a=[])}return e},ctx:{core:function(){return r},diagLog:function(){return Ft(r,t)},getCfg:function(){return t},getExtCfg:s,getConfig:function(e,r,n){void 0===n&&(n=!1)
var i,a=s(e,null)
a&&!ye(a[r])?i=a[r]:t&&!ye(t[r])&&(i=t[r])
return ye(i)?n:i},hasNext:function(){return!!i},getNext:function(){return i},setNext:function(e){i=e},iterate:function(e){var t
for(;t=o._next();){var r=t[T]()
r&&e(r)}},onComplete:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n]
e&&a[y]({func:e,self:ve(t)?o.ctx:t,args:r})}}}
function s(e,r,n){var i
if(void 0===r&&(r={}),void 0===n&&(n=0),t){var a=t[Z]
a&&e&&(i=a[e])}if(i){if(be(r)&&0!==n){var o=function e(t,r,n,i,a,o){var s=arguments,l=s[0]||{},d=s[C],c=!1,f=1
for(d>0&&"boolean"==typeof l&&(c=l,l=s[f]||{},f++),be(l)||(l={});f<d;f++){var p=s[f],m=Pe(p),h=be(p)
for(var g in p)if(m&&g in p||h&&u[W](p,g)){var v=p[g],y=void 0
if(c&&v&&((y=Pe(v))||we(v))){var b=l[g]
y?Pe(b)||(b=[]):we(b)||(b={}),v=e(c,b,v)}void 0!==v&&(l[g]=v)}}return l}(!0,r,i)
t&&2===n&&function(e,t){if(e)for(var r in e)u[W](e,r)&&t[W](e,r,e[r])}(r,function(e){if(ye(o[e])){var r=t[e]
ye(r)||(o[e]=r)}}),i=o}}else i=r
return i}return o}function fr(e,t,r,n){var i=cr(e,t,r,n),a=i.ctx
return a[w]=function(e){var t=i._next()
return t&&t[ee](e,a),!t},a[L]=function(e,n){return void 0===e&&(e=null),Pe(e)&&(e=pr(e,t,r,n)),fr(e||a[D](),t,r,n)},a}function pr(e,t,r,n){var i=null,a=!n
if(Pe(e)&&e[C]>0){var o=null
Ee(e,function(e){if(a||n!==e||(a=!0),a&&e&&_e(e[ee])){var s=function(e,t,r){var n,i=null,a=_e(e[ee]),o=_e(e[N])
n=e?e[v]+"-"+e[te]+"-"+dr++:"Unknown-0-"+dr++
var s={getPlugin:function(){return e},getNext:function(){return i},processTelemetry:function(n,u){l(u=u||function(){var n
return e&&_e(e[ur])&&(n=e[ur]()),n||(n=fr(s,t,r)),n}(),function(t){if(!e||!a)return!1
var r=or(e)
return!r[S]&&!r[Y]&&(o&&e[N](i),e[ee](n,t),!0)},"processTelemetry",function(){return{item:n}},!n.sync)||u[w](n)},unload:function(t,r){l(t,function(){var n=!1
if(e){var i=or(e),a=e[Q]||i[Q]
!e||a&&a!==t.core()||i[S]||(i[Q]=null,i[S]=!0,i[b]=!1,e[S]&&!0===e[S](t,r)&&(n=!0))}return n},"unload",function(){},r[A])||t[w](r)},update:function(t,r){l(t,function(){var n=!1
if(e){var i=or(e),a=e[Q]||i[Q]
!e||a&&a!==t.core()||i[S]||e[R]&&!0===e[R](t,r)&&(n=!0)}return n},"update",function(){},!1)||t[w](r)},_id:n,_setNext:function(e){i=e}}
function l(t,r,a,o,s){var l=!1,u=e?e[v]:sr,d=t[lr]
return d||(d=t[lr]={}),t.setNext(i),e&&function(e,t,r,n,i){if(e){var a=e
if(a[ie]&&(a=a[ie]()),a){var o=void 0,s=a[G](Ht)
try{if(o=a.create(t(),n,i)){if(s&&o[K]&&(o[K](Bt[qt],s),s[G]&&s[K])){var l=s[G](Bt[Vt])
l||(l=[],s[K](Bt[Vt],l)),l[y](o)}return a[K](Ht,o),r(o)}}catch(e){o&&o[K]&&o[K]("exception",e)}finally{o&&a.fire(o),a[K](Ht,s)}}}r()}(t[Q](),function(){return u+":"+a},function(){d[n]=!0
try{var e=i?i._id:J
e&&(d[e]=!1),l=r(t)}catch(e){var o=!i||d[i._id]
o&&(l=!0),i&&o||jt(t[O](),1,73,"Plugin ["+u+"] failed during "+a+" - "+xt(e)+", run flags: "+xt(d))}},o,s),l}return Se(s)}(e,t,r)
i||(i=s),o&&o._setNext(s),o=s}})}return n&&!i?pr([n],t,r):i}var mr,hr="getPlugin",gr=function(){function e(){var t,r,n,i,a,o=this
function s(e){void 0===e&&(e=null)
var t=e
if(!t){var i=r||fr(null,{},o[Q])
t=n&&n[hr]?i[L](null,n[hr]):i[L](null,n)}return t}function l(e,t,i){var a,s,l,u,d,c
e&&(s=Z,u=null,d=ye,c=l=[],(a=e)&&((c=a[s])===l||d&&!d(c)||u&&!u(l)||(c=l,a[s]=c))),!i&&t&&(i=t[E]()[D]())
var f=n
n&&n[hr]&&(f=n[hr]()),o[Q]=t,r=fr(i,e,t,f)}function u(){var e
t=!1,o[Q]=null,r=null,n=null,a=[],e=[],i={add:function(t){t&&e[y](t)},run:function(t,r){Ee(e,function(e){try{e(t,r)}catch(e){jt(t[O](),2,73,"Unexpected error calling unload handler - "+xt(e))}}),e=[]}}}u(),dt(e,o,function(e){e[h]=function(e,r,n,i){l(e,r,i),t=!0},e[S]=function(t,r){var o,s=e[Q]
if(s&&(!t||s===t[Q]())){var l,d=!1,c=t||function e(t,r,n){var i=r[_]||{},a=cr(t,i,r,n),o=a.ctx
return o[w]=function(e){var t=a._next()
return t&&t.unload(o,e),!t},o[L]=function(t,n){return void 0===t&&(t=null),Pe(t)&&(t=pr(t,i,r,n)),e(t||o[D](),r,n)},o}(null,s,n&&n[hr]?n[hr]():n),f=r||((o={reason:0})[A]=!1,o)
return e[M]&&!0===e[M](c,f,p)?l=!0:p(),l}function p(){if(!d){d=!0,i.run(c,r)
var e=a
a=[],Ee(e,function(e){e.rm()}),!0===l&&c[w](f),u()}}},e[R]=function(t,r){var i=e[Q]
if(i&&(!t||i===t[Q]())){var a,o=!1,s=t||function e(t,r,n){var i=r[_]||{},a=cr(t,i,r,n).ctx
return a[w]=function(e){return a.iterate(function(t){_e(t[R])&&t[R](a,e)})},a[L]=function(t,n){return void 0===t&&(t=null),Pe(t)&&(t=pr(t,i,r,n)),e(t||a[D](),r,n)},a}(null,i,n&&n[hr]?n[hr]():n),u=r||{reason:0}
return e._doUpdate&&!0===e._doUpdate(s,u,d)?a=!0:d(),a}function d(){o||(o=!0,l(s.getCfg(),s.core(),s[D]()))}},e._addHook=function(e){e&&(Pe(e)?a=a.concat(e):a[y](e))},Ae(e,"_addUnloadCb",function(){return i},"add")}),o[O]=function(e){return s(e)[O]()},o[b]=function(){return t},o.setInitialized=function(e){t=e},o[N]=function(e){n=e},o[w]=function(e,t){t?t[w](e):n&&_e(n[ee])&&n[ee](e,null)},o._getTelCtx=s}return e.__ieDyn=1,e}();(mr={})[0]=0,mr[2]=6,mr[1]=1,mr[3]=7,mr[4098]=6,mr[4097]=1,mr[4099]=7,Boolean(Boolean(typeof document===r&&document)?document:Pt(ft)),Boolean(wt()?window:Pt(ct))
var vr=function(){var e=Pt(ht)
return e&&e.now?e.now():xe()}
var yr=function(){return function(){}}(),br=function(){function e(e,t){this._base="",this._currentElement=0,this._base64CharSet="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",this._cv1Constants=new yr,this._cv2Constants=new yr,this._cvVersionAtLatestValidityCheck=2,this._traceLogger=Ft(t),this._cv1Constants.maxCorrelationVectorLength=63,this._cv1Constants.baseLength=16,this._cv1Constants.validationPattern=new RegExp("^["+this._base64CharSet+"]{"+this._cv1Constants.baseLength.toString()+"}(.[0-9]+)*$"),this._cv2Constants.maxCorrelationVectorLength=127,this._cv2Constants.baseLength=22,this._cv2Constants.validationPattern=new RegExp("^["+this._base64CharSet+"]{"+this._cv2Constants.baseLength.toString()+"}(.[0-9]+)*$"),this._currentCvConstants=this._cv2Constants,this.init(e)}return e.prototype.isInit=function(){return this.isValid(this.storedCv())},e.prototype.storedCv=function(){return this._base.concat(".",this._currentElement.toString())},e.prototype.getValue=function(){var e=this.storedCv()
if(this.isValid(e))return e},e.prototype.getRelatedCv=function(){return this._relatedCv},e.prototype.incrementExternal=function(e){if(this.isValid(e)){var t=e.split("."),r=t.length
t[r-1]=(parseInt(t[r-1],10)+1).toString()
for(var n="",i=0;i<r;i++)n+=t[i],i<r-1&&(n+=".")
var a=t[0].length===this._cv2Constants.baseLength?this._cv2Constants.maxCorrelationVectorLength:this._cv1Constants.maxCorrelationVectorLength
if(n.length<=a)return n}},e.prototype.canExtend=function(){var e=this.storedCv()
return!!this.isValid(e)&&this._isLeqThanMaxCorrelationVectorLength(e.length+2)},e.prototype.canIncrement=function(){return!!this.isValid(this.storedCv())&&this._isLeqThanMaxCorrelationVectorLength(this._base.length+1+(this._currentElement+1+"").length)},e.prototype.setValue=function(e){if(this.isValid(e)){var t=e.lastIndexOf(".")
return t>1?(this._base=e.substr(0,t),this._currentElement=parseInt(e.substr(t+1),10)):(this._base=e,this._currentElement=0),!0}return jt(this._traceLogger,2,516,"Cannot set invalid correlation vector value"),!1},e.prototype.setValueLegacy=function(e){return this.setValue(e),this.getValue()},e.prototype.seed=function(){for(var e="",t=0;t<this._currentCvConstants.baseLength;t++)e+=this._base64CharSet.charAt(Math.floor(Math.random()*this._base64CharSet.length))
return e},e.prototype.extend=function(){if(this.canExtend())return this._base=this._base.concat(".",this._currentElement.toString()),this._currentElement=0,this.storedCv()},e.prototype.increment=function(){if(this.canIncrement())return this._currentElement=this._currentElement+1,this.storedCv()},e.prototype.validateWithCv1=function(e){if(this._cv1Constants.validationPattern.test(e)&&e.length<=this._cv1Constants.maxCorrelationVectorLength)return!0},e.prototype.validateWithCv2=function(e){if(this._cv2Constants.validationPattern.test(e)&&e.length<=this._cv2Constants.maxCorrelationVectorLength)return!0},e.prototype.useCv1=function(){this._currentCvConstants=this._cv1Constants},e.prototype.useCv2=function(){this._currentCvConstants=this._cv2Constants},e.prototype.isValid=function(e){if(e){var t=e.split(".")[0]
if(t){if(16===t.length)return this._cvVersionAtLatestValidityCheck=1,this.validateWithCv1(e)
if(22===t.length)return this._cvVersionAtLatestValidityCheck=2,this.validateWithCv2(e)}}},e.prototype.init=function(e){return e?this.setValue(e):(this._base=this.seed(),this._currentElement=0),this.getValue()},e.prototype.initLegacy=function(e){return this.init(e)},e.prototype._isLeqThanMaxCorrelationVectorLength=function(e){return 1===this._cvVersionAtLatestValidityCheck?e<=this._cv1Constants.maxCorrelationVectorLength:e<=this._cv2Constants.maxCorrelationVectorLength},e}(),_r=function(e){function t(t){var r=e.call(this)||this
return r.identifier="CorrelationVectorPlugin",r.priority=159,r.version="3.2.8",r._cvInitialValue=t,r._cv=r._cvInitialValue?new br(r._cvInitialValue):new br,r}return m(t,e),t.prototype.initialize=function(t,r,n){e.prototype.initialize.call(this,t,r,n)},t.prototype.processTelemetry=function(e,t){(function(e,t){var r=e
r.timings=r.timings||{},r.timings.processTelemetryStart=r.timings.processTelemetryStart||{},r.timings.processTelemetryStart[t]=vr()})(e,this.identifier),e.ext=e.ext||{},e.ext.mscv=e.ext.mscv||{},e.ext.mscv.cV||this._cv&&this._cv.isInit()&&(e.ext.mscv.cV=this._cv.getValue()),this.processNext(e,t)},t.prototype.getCv=function(){return this._cv||jt(this.diagLog(),2,513,"Correlation Vector has not been initialized."),this._cv},t}(gr)
e.CorrelationVectorPlugin=_r,e.Cv=br,function(e,t,r){var n=Object.defineProperty
if(n)try{return n(e,"__esModule",r)}catch(e){}r&&void 0!==typeof r.value&&(e.__esModule=r.value)}(e,0,{value:!0})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).oneDS=e.oneDS||{})}(this,function(e){"use strict"
var t="function",r="object",n="undefined",i="prototype",a=Object,o=a[i],s=a.assign,l=a.create,u=a.defineProperty,d=o.hasOwnProperty,c=null
function f(e){void 0===e&&(e=!0)
var t=!1===e?null:c
return t||(typeof globalThis!==n&&(t=globalThis),t||typeof self===n||(t=self),t||typeof window===n||(t=window),t||typeof global===n||(t=global),c=t),t}function p(e){throw new TypeError(e)}(f()||{}).Symbol,(f()||{}).Reflect
var m,h=s||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])o.hasOwnProperty.call(t,i)&&(e[i]=t[i])
return e},g=function(e,t){return(g=a.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)}
function v(e,n){function a(){this.constructor=e}typeof n!==t&&null!==n&&p("Class extends value "+String(n)+" is not a constructor or null"),g(e,n),e[i]=null===n?function(e){if(l)return l(e)
if(null==e)return{}
var n=typeof e
function a(){}return n!==r&&n!==t&&p("Object prototype may only be an Object:"+e),a[i]=e,new a}(n):(a[i]=n[i],new a)}var y="undefined",b="constructor",_="prototype",I="function",C="_dynInstFuncs",P="_isDynProxy",w="_dynClass",E="_dynCls$",T="_dynInstChk",S=T,x="_dfOpts",k="_unknown_",A="__proto__",M="_dyn"+A,R="_dynInstProto",D="useBaseInst",O="setInstFuncs",N=Object,L=N.getPrototypeOf,F=N.getOwnPropertyNames
var U,j=(typeof globalThis!==y&&(U=globalThis),U||typeof self===y||(U=self),U||typeof window===y||(U=window),U||typeof global===y||(U=global),U||{}),z=j.__dynProto$Gbl||(j.__dynProto$Gbl={o:(m={},m[O]=!0,m[D]=!0,m),n:1e3})
function q(e,t){return e&&N[_].hasOwnProperty.call(e,t)}function V(e){return e&&(e===N[_]||e===Array[_])}function B(e){return V(e)||e===Function[_]}function H(e){var t
if(e){if(L)return L(e)
var r=e[A]||e[_]||(e[b]?e[b][_]:null)
t=e[M]||r,q(e,M)||(delete e[R],t=e[M]=e[R]||e[M],e[R]=r)}return t}function W(e,t){var r=[]
if(F)r=F(e)
else for(var n in e)"string"==typeof n&&q(e,n)&&r.push(n)
if(r&&r.length>0)for(var i=0;i<r.length;i++)t(r[i])}function $(e,t,r){return t!==b&&typeof e[t]===I&&(r||q(e,t))}function G(e){throw new TypeError("DynamicProto: "+e)}function K(e,t){for(var r=e.length-1;r>=0;r--)if(e[r]===t)return!0
return!1}function X(e,t,r,n,i){function a(e,t){var r=function(){return(function(e,t,r,n){var i=null
if(e&&q(r,w)){var a=e[C]||{}
if((i=(a[r[w]]||{})[t])||G("Missing ["+t+"] "+I),!i[T]&&!1!==a[S]){for(var o=!q(e,t),s=H(e),l=[];o&&s&&!B(s)&&!K(l,s);){var u=s[t]
if(u){o=u===n
break}l.push(s),s=H(s)}try{o&&(e[t]=i),i[T]=1}catch(e){a[S]=!1}}}return i}(this,t,e,r)||function(e,t,r){var n=t[e]
return n===r&&(n=H(t)[e]),typeof n!==I&&G("["+e+"] is not a "+I),n}(t,e,r)).apply(this,arguments)}
return r[P]=1,r}if(!V(e)){var o=r[C]=r[C]||{},s=o[t]=o[t]||{}
!1!==o[S]&&(o[S]=!!i),W(r,function(t){$(r,t,!1)&&r[t]!==n[t]&&(s[t]=r[t],delete r[t],(!q(e,t)||e[t]&&!e[t][P])&&(e[t]=a(e,t)))})}}function J(e,t){return q(e,_)?e.name||t||k:((e||{})[b]||{}).name||t||k}function Q(e,t,r,n){q(e,_)||G("theClass is an invalid class definition.")
var i=e[_];(function(e,t){if(L){for(var r=[],n=H(t);n&&!B(n)&&!K(r,n);){if(n===e)return!0
r.push(n),n=H(n)}return!1}return!0})(i,t)||G("["+J(e)+"] not in hierarchy of ["+J(t)+"]")
var a=null
q(i,w)?a=i[w]:(a=E+J(e,"_")+"$"+z.n,z.n++,i[w]=a)
var o=Q[x],s=!!o[D]
s&&n&&void 0!==n[D]&&(s=!!n[D])
var l=function(e){var t={}
return W(e,function(r){!t[r]&&$(e,r,!1)&&(t[r]=e[r])}),t}(t)
r(t,function(e,t,r,n){function i(e,t,r){var i=t[r]
if(i[P]&&n){var a=e[C]||{}
!1!==a[S]&&(i=(a[t[w]]||{})[r]||i)}return function(){return i.apply(e,arguments)}}var a={}
W(r,function(e){a[e]=i(t,r,e)})
for(var o=H(e),s=[];o&&!B(o)&&!K(s,o);)W(o,function(e){!a[e]&&$(o,e,!L)&&(a[e]=i(t,o,e))}),s.push(o),o=H(o)
return a}(i,t,l,s))
var u=!!L&&!!o[O]
u&&n&&(u=!!n[O]),X(i,a,t,l,!1!==u)}Q[x]=z.o
var Y="initialize",Z="name",ee="identifier",te="push",re="isInitialized",ne="config",ie="logger",ae="length",oe="time",se="processNext",le="getProcessTelContext",ue="getPlugin",de="splice",ce="teardown",fe="messageId",pe="message",me="isAsync",he="_doTeardown",ge="update",ve="getNext",ye="diagLog",be="setNextPlugin",_e="createNew",Ie="indexOf",Ce="substring",Pe="userAgent",we="split",Ee="substr",Te="nodeType",Se="apply",xe="replace",ke="enableDebugExceptions",Ae="logInternalMessage",Me="toLowerCase",Re="call",De="type",Oe="handler",Ne="isChildEvt",Le="getCtx",Fe="setCtx",Ue="complete",je="traceId",ze="traceFlags",qe="version",Ve="",Be="core",He="disabled",We="extensionConfig",$e="processTelemetry",Ge="priority",Ke="errorToConsole",Xe="warnToConsole",Je="getPerfMgr",Qe="toISOString",Ye="indexOf",Ze="trim",et="__proto__",tt="constructor",rt=u,nt=a.freeze,it=a.keys,at=String[i][Ze],ot=Date[i][Qe],st=Array.isArray,lt=o.toString,ut=d.toString,dt=ut[Re](a),ct=/-([a-z])/g,ft=/([^\w\d_$])/g,pt=/^(\d+[\w\d_$])/,mt=Object.getPrototypeOf
function ht(e){if(e){if(mt)return mt(e)
var t=e[et]||e[i]||e[tt]
if(t)return t}return null}function gt(e){return void 0===e||typeof e===n}function vt(e){return null===e||gt(e)}function yt(e){return!(!e||typeof e!==r)}function bt(e){return!(!e||typeof e!==t)}function _t(e){var t=e
return t&&wt(t)&&(t=(t=(t=t[xe](ct,function(e,t){return t.toUpperCase()}))[xe](ft,"_"))[xe](pt,function(e,t){return"_"+t})),t}function It(e,t){if(e)for(var r in e)d[Re](e,r)&&t[Re](e,r,e[r])}function Ct(e,t){return!(!e||!t)&&-1!==e[Ie](t)}var Pt=st||function(e){return!(!e||"[object Array]"!==lt[Re](e))}
function wt(e){return"string"==typeof e}function Et(e){return"number"==typeof e}function Tt(e){var r=!1
if(e&&"object"==typeof e){var n=mt?mt(e):ht(e)
n?(n[tt]&&d[Re](n,tt)&&(n=n[tt]),r=typeof n===t&&ut[Re](n)===dt):r=!0}return r}function St(e){if(e)return ot?e[Qe]():function(e){if(e&&e.getUTCFullYear){var t=function(e){var t=String(e)
return 1===t[ae]&&(t="0"+t),t}
return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+String((e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}(e)}function xt(e,t,r){var n=e[ae]
try{for(var i=0;i<n&&!(i in e&&-1===t[Re](r||e,e[i],i,e));i++);}catch(e){}}function kt(e){return e&&(e=at&&e[Ze]?e[Ze]():e[xe]?e[xe](/^\s+|(?=\s)\s+$/g,Ve):e),e}var At=!{toString:null}.propertyIsEnumerable("toString"),Mt=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]
function Rt(e){var n=typeof e
if(n===t||n===r&&null!==e||p("objKeys called on non-object"),!At&&it)return it(e)
var i=[]
for(var a in e)e&&d[Re](e,a)&&i[te](a)
if(At)for(var o=Mt[ae],s=0;s<o;s++)e&&d[Re](e,Mt[s])&&i[te](Mt[s])
return i}function Dt(e){return nt&&It(e,function(e,t){(Pt(t)||yt(t))&&nt(t)}),Ot(e)}var Ot=nt||function(e){return e}
function Nt(){var e=Date
return e.now?e.now():(new e).getTime()}function Lt(e){return(t=e)&&"[object Error]"===lt[Re](t)?e[Z]:Ve
var t}function Ft(e,t){return vt(e)?t:e}function Ut(e,t,r,n,i){e&&t&&r&&(!1!==i||gt(e[t]))&&(e[t]=function(e,t){var r=null,n=null
return bt(e)?r=e:n=e,function(){var e=arguments
if(r&&(n=r()),n)return n[t][Se](n,e)}}(r,n))}var jt="window",zt="document",qt="documentMode",Vt="navigator",Bt="location",Ht="console",Wt="performance",$t="JSON",Gt="crypto",Kt="msCrypto",Xt="msie",Jt="trident/",Qt="XMLHttpRequest",Yt=null,Zt=null,er=!1
function tr(e){var t=f()
return t&&t[e]?t[e]:e===jt&&rr()?window:null}function rr(){return Boolean(typeof window===r&&window)}function nr(){return Boolean(typeof document===r&&document)?document:tr(zt)}function ir(){return Boolean(typeof navigator===r&&navigator)?navigator:tr(Vt)}function ar(e){if(e&&er){var t=tr("__mockLocation")
if(t)return t}return typeof location===r&&location?location:tr(Bt)}function or(){return tr(Wt)}function sr(){return Boolean(typeof JSON===r&&JSON||null!==tr($t))}function lr(){return sr()?JSON||tr($t):null}function ur(e){var t=Object[i].toString[Re](e),r=Ve
return"[object Error]"===t?r="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e[Z]+"'":sr()&&(r=lr().stringify(e)),t+r}var dr=null
function cr(e){var t,r=dr
return r||!0===e.disableDbgExt||(r=dr||((t=tr("Microsoft"))&&(dr=t.ApplicationInsights),dr)),r?r.ChromeDbgExt:null}var fr="AI (Internal): ",pr="AI: ",mr="AITR_"
function hr(e){return e?'"'+e[xe](/\"/g,Ve)+'"':Ve}function gr(e,t){var r=typeof console!==n?console:tr(Ht)
if(r){var i="log"
r[e]&&(i=e),bt(r[i])&&r[i](t)}}var vr=function(){function e(e,t,r,n){void 0===r&&(r=!1)
this[fe]=e,this[pe]=(r?pr:fr)+e
var i=Ve
sr()&&(i=lr().stringify(n))
var a=(t?" message:"+hr(t):Ve)+(n?" props:"+hr(i):Ve)
this[pe]+=a}return e.dataType="MessageData",e}()
var yr=function(){function e(t){this.identifier="DiagnosticLogger",this.queue=[]
var r,n,i,a,o=0,s={}
Q(e,this,function(e){function l(t,r){if(!(o>=i)){var a=!0,l=mr+r[fe]
if(s[l]?a=!1:s[l]=!0,a&&(t<=n&&(e.queue[te](r),o++,u(1===t?"error":"warn",r)),o===i)){var d="Internal events throttle limit per PageView reached for this app.",c=new vr(23,d,!1)
e.queue[te](c),1===t?e[Ke](d):e[Xe](d)}}}function u(e,r){var n=cr(t||{})
n&&n[ye]&&n[ye](e,r)}(function(e){r=Ft(e.loggingLevelConsole,0),n=Ft(e.loggingLevelTelemetry,1),i=Ft(e.maxMessageLimit,25),a=Ft(e[ke],!1)})(t||{}),e.consoleLoggingLevel=function(){return r},e.telemetryLoggingLevel=function(){return n},e.maxInternalMessageLimit=function(){return i},e[ke]=function(){return a},e.throwInternal=function(t,n,i,o,d){void 0===d&&(d=!1)
var c=new vr(n,i,d,o)
if(a)throw ur(c)
var f=1===t?Ke:Xe
if(gt(c[pe]))u("throw"+(1===t?"Critical":"Warning"),c)
else{if(d){var p=+c[fe]
!s[p]&&r>=t&&(e[f](c[pe]),s[p]=!0)}else r>=t&&e[f](c[pe])
l(t,c)}},e[Xe]=function(e){gr("warn",e),u("warning",e)},e[Ke]=function(e){gr("error",e),u("error",e)},e.resetInternalMessageCount=function(){o=0,s={}},e[Ae]=l})}return e.__ieDyn=1,e}()
function br(e,t,r,n,i,a){void 0===a&&(a=!1),function(e){return e||new yr}(e).throwInternal(t,r,n,i,a)}var _r="ctx",Ir="ParentContextKey",Cr="ChildrenContextKey",Pr=function(){function e(t,r,n){var i,a=this,o=!1;(a.start=Nt(),a[Z]=t,a[me]=n,a[Ne]=function(){return!1},bt(r))&&(o=function(e,t,r,n){if(rt)try{var i={enumerable:!0,configurable:!0}
return r&&(i.get=r),n&&(i.set=n),rt(e,t,i),!0}catch(e){}return!1}(a,"payload",function(){return!i&&bt(r)&&(i=r(),r=null),i}))
a[Le]=function(t){return t?t===e[Ir]||t===e[Cr]?a[t]:(a[_r]||{})[t]:null},a[Fe]=function(t,r){if(t)if(t===e[Ir])a[t]||(a[Ne]=function(){return!0}),a[t]=r
else if(t===e[Cr])a[t]=r
else{(a[_r]=a[_r]||{})[t]=r}},a[Ue]=function(){var t=0,n=a[Le](e[Cr])
if(Pt(n))for(var i=0;i<n[ae];i++){var s=n[i]
s&&(t+=s[oe])}a[oe]=Nt()-a.start,a.exTime=a[oe]-t,a[Ue]=function(){},!o&&bt(r)&&(a.payload=r())}}return e.ParentContextKey="parent",e.ChildrenContextKey="childEvts",e}(),wr="CoreUtils.doPerf"
var Er=4294967296,Tr=4294967295,Sr=!1,xr=123456789,kr=987654321
function Ar(){try{var e=2147483647&Nt();(t=(Math.random()*Er^e)+e)<0&&(t>>>=0),xr=123456789+t&Tr,kr=987654321-t&Tr,Sr=!0}catch(e){}var t}function Mr(e){var t=0,r=tr(Gt)||tr(Kt)
return r&&r.getRandomValues&&(t=r.getRandomValues(new Uint32Array(1))[0]&Tr),0===t&&function(){var e=ir()
if(e&&(e[Pe]!==Zt||null===Yt)){var t=((Zt=e[Pe])||Ve)[Me]()
Yt=Ct(t,Xt)||Ct(t,Jt)}return Yt}()&&(Sr||Ar(),t=function(e){var t=((kr=36969*(65535&kr)+(kr>>16)&Tr)<<16)+(65535&(xr=18e3*(65535&xr)+(xr>>16)&Tr))>>>0&Tr|0
e||(t>>>=0)
return t}()&Tr),0===t&&(t=Math.floor(Er*Math.random()|0)),e||(t>>>=0),t}var Rr=u,Dr="2.8.9",Or="."+function(e){void 0===e&&(e=22)
for(var t=Mr()>>>0,r=0,n=Ve;n[ae]<e;)r++,n+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&t),t>>>=6,5===r&&(t=(Mr()<<2&4294967295|3&t)>>>0,r=0)
return n}(6),Nr=0
function Lr(e){return 1===e[Te]||9===e[Te]||!+e[Te]}function Fr(e,t){var r=t[e.id]
if(!r){r={}
try{Lr(t)&&(function(e,t,r){if(Rr)try{return Rr(e,t,{value:r,enumerable:!1,configurable:!0}),!0}catch(e){}return!1}(t,e.id,r)||(t[e.id]=r))}catch(e){}}return r}function Ur(e,t){return void 0===t&&(t=!1),_t(e+Nr+++(t?"."+Dr:Ve)+Or)}function jr(e){var t={id:Ur("_aiData-"+(e||Ve)+"."+Dr),accept:function(e){return Lr(e)},get:function(e,r,n,i){var a=e[t.id]
return a?a[_t(r)]:(i&&((a=Fr(t,e))[_t(r)]=n),n)},kill:function(e,t){if(e&&e[t])try{delete e[t]}catch(e){}}}
return t}var zr="on",qr="attachEvent",Vr="addEventListener",Br="events"
Ur("aiEvtPageHide"),Ur("aiEvtPageShow")
var Hr=/\.[\.]+/g,Wr=/[\.]+$/,$r=1,Gr=jr("events"),Kr=/^([^.]*)(?:\.(.+)|)/
function Xr(e){return e&&e[xe]?e[xe](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,Ve):e}function Jr(e,t){var r
if(t){var n=Ve
Pt(t)?(n=Ve,xt(t,function(e){(e=Xr(e))&&("."!==e[0]&&(e="."+e),n+=e)})):n=Xr(t),n&&("."!==n[0]&&(n="."+n),e=(e||Ve)+n)}var i=Kr.exec(e||Ve)||[]
return(r={})[De]=i[1],r.ns=(i[2]||Ve).replace(Hr,".").replace(Wr,Ve)[we](".").sort().join("."),r}function Qr(e,t,r,n,i){var a
void 0===i&&(i=!1)
var o=!1
if(e)try{var s=Jr(t,n)
if((o=function(e,t,r,n){var i=!1
return e&&t&&t[De]&&r&&(e[Vr]?(e[Vr](t[De],r,n),i=!0):e[qr]&&(e[qr](zr+t[De],r),i=!0)),i}(e,s,r,i))&&Gr.accept(e)){var l=((a={guid:$r++,evtName:s})[Oe]=r,a.capture=i,a);(function(e,t,r){void 0===r&&(r=!0)
var n=Gr.get(e,Br,{},r),i=n[t]
return i||(i=n[t]=[]),i})(e,s.type)[te](l)}}catch(e){}return o}function Yr(){for(var e,t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],r=Ve,n=0;n<4;n++)r+=t[15&(e=Mr())]+t[e>>4&15]+t[e>>8&15]+t[e>>12&15]+t[e>>16&15]+t[e>>20&15]+t[e>>24&15]+t[e>>28&15]
var i=t[8+(3&Mr())|0]
return r[Ee](0,8)+r[Ee](9,4)+"4"+r[Ee](13,3)+i+r[Ee](16,3)+r[Ee](19,12)}var Zr="00",en="ff",tn="00000000000000000000000000000000",rn="0000000000000000"
function nn(e,t,r){return!(!e||e[ae]!==t||e===r)&&!!e.match(/^[\da-f]*$/)}function an(e,t,r){return nn(e,t)?e:r}function on(e,t,r,n){var i
return(i={})[qe]=nn(n,2,en)?n:Zr,i[je]=sn(e)?e:Yr(),i.spanId=ln(t)?t:Yr()[Ee](0,16),i.traceFlags=r>=0&&r<=255?r:1,i}function sn(e){return nn(e,32,tn)}function ln(e){return nn(e,16,rn)}function un(e){if(e){var t=function(e){(isNaN(e)||e<0||e>255)&&(e=1)
for(var t=e.toString(16);t[ae]<2;)t="0"+t
return t}(e[ze])
nn(t,2)||(t="01")
var r=e[qe]||Zr
return"00"!==r&&"ff"!==r&&(r=Zr),"".concat(r,"-").concat(an(e.traceId,32,tn),"-").concat(an(e.spanId,16,rn),"-").concat(t)}return""}var dn=jr("plugin")
function cn(e){return dn.get(e,"state",{},!0)}var fn="TelemetryPluginChain",pn="_hasRun",mn="_getTelCtx",hn=0
function gn(e,t,r,n){var i=null,a=[]
null!==n&&(i=n?function(e,t,r){for(;e;){if(e[ue]()===r)return e
e=e[ve]()}return yn([r],t[ne]||{},t)}(e,r,n):e)
var o={_next:function(){var e=i
if(i=e?e[ve]():null,!e){var t=a
t&&t[ae]>0&&(xt(t,function(e){try{e.func[Re](e.self,e.args)}catch(e){br(r[ie],2,73,"Unexpected Exception during onComplete - "+ur(e))}}),a=[])}return e},ctx:{core:function(){return r},diagLog:function(){return function(e,t){return(e||{})[ie]||new yr(t)}(r,t)},getCfg:function(){return t},getExtCfg:s,getConfig:function(e,r,n){void 0===n&&(n=!1)
var i,a=s(e,null)
a&&!vt(a[r])?i=a[r]:t&&!vt(t[r])&&(i=t[r])
return vt(i)?n:i},hasNext:function(){return!!i},getNext:function(){return i},setNext:function(e){i=e},iterate:function(e){var t
for(;t=o._next();){var r=t[ue]()
r&&e(r)}},onComplete:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n]
e&&a[te]({func:e,self:gt(t)?o.ctx:t,args:r})}}}
function s(e,r,n){var i
if(void 0===r&&(r={}),void 0===n&&(n=0),t){var a=t[We]
a&&e&&(i=a[e])}if(i){if(yt(r)&&0!==n){var o=function e(t,r,n,i,a,o){var s=arguments,l=s[0]||{},u=s[ae],c=!1,f=1
for(u>0&&"boolean"==typeof l&&(c=l,l=s[f]||{},f++),yt(l)||(l={});f<u;f++){var p=s[f],m=Pt(p),h=yt(p)
for(var g in p)if(m&&g in p||h&&d[Re](p,g)){var v=p[g],y=void 0
if(c&&v&&((y=Pt(v))||Tt(v))){var b=l[g]
y?Pt(b)||(b=[]):Tt(b)||(b={}),v=e(c,b,v)}void 0!==v&&(l[g]=v)}}return l}(!0,r,i)
t&&2===n&&It(r,function(e){if(vt(o[e])){var r=t[e]
vt(r)||(o[e]=r)}}),i=o}}else i=r
return i}return o}function vn(e,t,r,n){var i=gn(e,t,r,n),a=i.ctx
return a[se]=function(e){var t=i._next()
return t&&t[$e](e,a),!t},a[_e]=function(e,n){return void 0===e&&(e=null),Pt(e)&&(e=yn(e,t,r,n)),vn(e||a[ve](),t,r,n)},a}function yn(e,t,r,n){var i=null,a=!n
if(Pt(e)&&e[ae]>0){var o=null
xt(e,function(e){if(a||n!==e||(a=!0),a&&e&&bt(e[$e])){var s=function(e,t,r){var n,i=null,a=bt(e[$e]),o=bt(e[be])
n=e?e[ee]+"-"+e[Ge]+"-"+hn++:"Unknown-0-"+hn++
var s={getPlugin:function(){return e},getNext:function(){return i},processTelemetry:function(n,u){l(u=u||function(){var n
return e&&bt(e[mn])&&(n=e[mn]()),n||(n=vn(s,t,r)),n}(),function(t){if(!e||!a)return!1
var r=cn(e)
return!r[ce]&&!r[He]&&(o&&e[be](i),e[$e](n,t),!0)},"processTelemetry",function(){return{item:n}},!n.sync)||u[se](n)},unload:function(t,r){l(t,function(){var n=!1
if(e){var i=cn(e),a=e[Be]||i[Be]
!e||a&&a!==t.core()||i[ce]||(i[Be]=null,i[ce]=!0,i[re]=!1,e[ce]&&!0===e[ce](t,r)&&(n=!0))}return n},"unload",function(){},r[me])||t[se](r)},update:function(t,r){l(t,function(){var n=!1
if(e){var i=cn(e),a=e[Be]||i[Be]
!e||a&&a!==t.core()||i[ce]||e[ge]&&!0===e[ge](t,r)&&(n=!0)}return n},"update",function(){},!1)||t[se](r)},_id:n,_setNext:function(e){i=e}}
function l(t,r,a,o,s){var l=!1,u=e?e[ee]:fn,d=t[pn]
return d||(d=t[pn]={}),t.setNext(i),e&&function(e,t,r,n,i){if(e){var a=e
if(a[Je]&&(a=a[Je]()),a){var o=void 0,s=a[Le](wr)
try{if(o=a.create(t(),n,i)){if(s&&o[Fe]&&(o[Fe](Pr[Ir],s),s[Le]&&s[Fe])){var l=s[Le](Pr[Cr])
l||(l=[],s[Fe](Pr[Cr],l)),l[te](o)}return a[Fe](wr,o),r(o)}}catch(e){o&&o[Fe]&&o[Fe]("exception",e)}finally{o&&a.fire(o),a[Fe](wr,s)}}}r()}(t[Be](),function(){return u+":"+a},function(){d[n]=!0
try{var e=i?i._id:Ve
e&&(d[e]=!1),l=r(t)}catch(e){var o=!i||d[i._id]
o&&(l=!0),i&&o||br(t[ye](),1,73,"Plugin ["+u+"] failed during "+a+" - "+ur(e)+", run flags: "+ur(d))}},o,s),l}return Ot(s)}(e,t,r)
i||(i=s),o&&o._setNext(s),o=s}})}return n&&!i?yn([n],t,r):i}var bn="getPlugin",_n=function(){function e(){var t,r,n,i,a,o=this
function s(e){void 0===e&&(e=null)
var t=e
if(!t){var i=r||vn(null,{},o[Be])
t=n&&n[bn]?i[_e](null,n[bn]):i[_e](null,n)}return t}function l(e,t,i){var a,s,l,u,d,c
e&&(s=We,u=null,d=vt,c=l=[],(a=e)&&((c=a[s])===l||d&&!d(c)||u&&!u(l)||(c=l,a[s]=c))),!i&&t&&(i=t[le]()[ve]())
var f=n
n&&n[bn]&&(f=n[bn]()),o[Be]=t,r=vn(i,e,t,f)}function u(){var e
t=!1,o[Be]=null,r=null,n=null,a=[],e=[],i={add:function(t){t&&e[te](t)},run:function(t,r){xt(e,function(e){try{e(t,r)}catch(e){br(t[ye](),2,73,"Unexpected error calling unload handler - "+ur(e))}}),e=[]}}}u(),Q(e,o,function(e){e[Y]=function(e,r,n,i){l(e,r,i),t=!0},e[ce]=function(t,r){var o,s=e[Be]
if(s&&(!t||s===t[Be]())){var l,d=!1,c=t||function e(t,r,n){var i=r[ne]||{},a=gn(t,i,r,n),o=a.ctx
return o[se]=function(e){var t=a._next()
return t&&t.unload(o,e),!t},o[_e]=function(t,n){return void 0===t&&(t=null),Pt(t)&&(t=yn(t,i,r,n)),e(t||o[ve](),r,n)},o}(null,s,n&&n[bn]?n[bn]():n),f=r||((o={reason:0})[me]=!1,o)
return e[he]&&!0===e[he](c,f,p)?l=!0:p(),l}function p(){if(!d){d=!0,i.run(c,r)
var e=a
a=[],xt(e,function(e){e.rm()}),!0===l&&c[se](f),u()}}},e[ge]=function(t,r){var i=e[Be]
if(i&&(!t||i===t[Be]())){var a,o=!1,s=t||function e(t,r,n){var i=r[ne]||{},a=gn(t,i,r,n).ctx
return a[se]=function(e){return a.iterate(function(t){bt(t[ge])&&t[ge](a,e)})},a[_e]=function(t,n){return void 0===t&&(t=null),Pt(t)&&(t=yn(t,i,r,n)),e(t||a[ve](),r,n)},a}(null,i,n&&n[bn]?n[bn]():n),u=r||{reason:0}
return e._doUpdate&&!0===e._doUpdate(s,u,d)?a=!0:d(),a}function d(){o||(o=!0,l(s.getCfg(),s.core(),s[ve]()))}},e._addHook=function(e){e&&(Pt(e)?a=a.concat(e):a[te](e))},Ut(e,"_addUnloadCb",function(){return i},"add")}),o[ye]=function(e){return s(e)[ye]()},o[re]=function(){return t},o.setInitialized=function(e){t=e},o[be]=function(e){n=e},o[se]=function(e,t){t?t[se](e):n&&bt(n[$e])&&n[$e](e,null)},o._getTelCtx=s}return e.__ieDyn=1,e}(),In="_aiHooks",Cn=["req","rsp","hkErr","fnErr"]
function Pn(e,t){if(e)for(var r=0;r<e[ae]&&!t(e[r],r);r++);}function wn(e,t,r,n,i){i>=0&&i<=2&&Pn(e,function(e,a){var o=e.cbks,s=o[Cn[i]]
if(s){t.ctx=function(){return n[a]=n[a]||{}}
try{s[Se](t.inst,r)}catch(e){var l=t.err
try{var u=o[Cn[2]]
u&&(t.err=e,u[Se](t.inst,r))}catch(e){}finally{t.err=l}}}})}function En(e,t,r){var n,i,a=null
return e&&(i=t,(n=e)&&d[Re](n,i)?a=e:r&&(a=En(ht(e),t,!1))),a}function Tn(e,t,r,n){var i=r&&r[In]
if(!i){var a=function(e){return function(){var t,r=arguments,n=e.h,i=((t={})[Z]=e.n,t.inst=this,t.ctx=null,t.set=function(e,t){(r=s([],r))[e]=t,o=s([i],r)},t),a=[],o=s([i],r)
function s(e,t){return Pn(t,function(t){e[te](t)}),e}i.evt=tr("event"),wn(n,i,o,a,0)
var l=e.f
if(l)try{i.rslt=l[Se](this,r)}catch(e){throw i.err=e,wn(n,i,o,a,3),e}return wn(n,i,o,a,1),i.rslt}}(i={i:0,n:t,f:r,h:[]})
a[In]=i,e[t]=a}var o={id:i.i,cbks:n,rm:function(){var e=this.id
Pn(i.h,function(t,r){if(t.id===e)return i.h[de](r,1),1})}}
return i.i++,i.h[te](o),o}function Sn(e,r,n,i){if(void 0===i&&(i=!0),e&&r&&n){var a=En(e,r,i)
if(a){var o=a[r]
if(typeof o===t)return Tn(a,r,o,n)}}return null}var xn,kn=""
function An(e){return!(e===kn||vt(e))}function Mn(e){void 0===e&&(e="D")
var t,r=(t=Yr())[Ce](0,8)+"-"+t[Ce](8,12)+"-"+t[Ce](12,16)+"-"+t[Ce](16,20)+"-"+t[Ce](20)
return"B"===e?r="{"+r+"}":"P"===e?r="("+r+")":"N"===e&&(r=r.replace(/-/g,kn)),r}function Rn(e,t,r,n,a){var o={},s=!1,l=0,u=arguments.length,d=arguments
for("[object Boolean]"===Object[i].toString.call(d[0])&&(s=d[0],l++);l<u;l++){It(d[l],function(e,t){s&&t&&yt(t)?Pt(t)?(o[e]=o[e]||[],xt(t,function(t,r){t&&yt(t)?o[e][r]=Rn(!0,o[e][r],t):o[e][r]=t})):o[e]=Rn(!0,o[e],t):o[e]=t})}return o}(xn={})[0]=0,xn[2]=6,xn[1]=1,xn[3]=7,xn[4098]=6,xn[4097]=1,xn[4099]=7,Boolean(nr()),Boolean(rr()?window:tr(jt))
var Dn=function(){var e=or()
return e&&e.now?e.now():Nt()}
var On=function(){function e(t){var r=Mn(),n=Yr()
Q(e,this,function(e){e.getTraceId=function(){return t&&t.getTraceCtx&&t.getTraceCtx().getTraceId()||n},e.getLastPageViewId=function(){return r}})}return e.__ieDyn=1,e}(),Nn="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Ln="not_specified",Fn="iKey",Un="length",jn="toLowerCase",zn="toString",qn="name",Vn="stringify",Bn="pathname",Hn="properties",Wn="measurements",$n="duration",Gn="substring",Kn=""
function Xn(e){(isNaN(e)||e<0)&&(e=0),e=Math.round(e)
var t=Kn+e%1e3,r=Kn+Math.floor(e/1e3)%60,n=Kn+Math.floor(e/6e4)%60,i=Kn+Math.floor(e/36e5)%24,a=Math.floor(e/864e5)
return t=1===t[Un]?"00"+t:2===t[Un]?"0"+t:t,r=r[Un]<2?"0"+r:r,n=n[Un]<2?"0"+n:n,i=i[Un]<2?"0"+i:i,(a>0?a+".":Kn)+i+":"+n+":"+r+"."+t}var Jn,Qn,Yn=(Jn={},It({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]},function(e,t){Jn[e]=t[1],Jn[t[0]]=t[1]}),Dt(Jn))
function Zn(e,t,r){var n=t[Un],i=ei(e,t)
if(i[Un]!==n){for(var a=0,o=i;void 0!==r[o];)a++,o=i[Gn](0,147)+oi(a)
i=o}return i}function ei(e,t){var r
return t&&(t=kt(t[zn]()))[Un]>150&&(r=t[Gn](0,150),br(e,2,57,"name is too long.  It has been truncated to 150 characters.",{name:t},!0)),r||t}function ti(e,t,r){var n
return void 0===r&&(r=1024),t&&(r=r||1024,(t=kt(t)).toString()[Un]>r&&(n=t[zn]()[Gn](0,r),br(e,2,61,"string value is too long. It has been truncated to "+r+" characters.",{value:t},!0))),n||t}function ri(e,t){return ai(e,t,2048,66)}function ni(e,t){if(t){var r={}
It(t,function(t,n){if(yt(n)&&sr())try{n=lr()[Vn](n)}catch(t){br(e,2,49,"custom property is not valid",{exception:t},!0)}n=ti(e,n,8192),t=Zn(e,t,r),r[t]=n}),t=r}return t}function ii(e,t){if(t){var r={}
It(t,function(t,n){t=Zn(e,t,r),r[t]=n}),t=r}return t}function ai(e,t,r,n){var i
return t&&(t=kt(t))[Un]>r&&(i=t[Gn](0,r),br(e,2,n,"input is too long, it has been truncated to "+r+" characters.",{data:t},!0)),i||t}function oi(e){var t="00"+e
return t.substr(t[Un]-3)}(Qn={MAX_NAME_LENGTH:150,MAX_ID_LENGTH:128,MAX_PROPERTY_LENGTH:8192,MAX_STRING_LENGTH:1024,MAX_URL_LENGTH:2048,MAX_MESSAGE_LENGTH:32768,MAX_EXCEPTION_LENGTH:32768}).sanitizeKeyAndAddUniqueness=Zn,Qn.sanitizeKey=ei,Qn.sanitizeString=ti,Qn.sanitizeUrl=ri,Qn.sanitizeMessage=function(e,t){var r
return t&&t[Un]>32768&&(r=t[Gn](0,32768),br(e,2,56,"message is too long, it has been truncated to 32768 characters.",{message:t},!0)),r||t},Qn.sanitizeException=function(e,t){var r
if(t){var n=""+t
n[Un]>32768&&(r=n[Gn](0,32768),br(e,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:t},!0))}return r||t},Qn.sanitizeProperties=ni,Qn.sanitizeMeasurements=ii,Qn.sanitizeId=function(e,t){return t?ai(e,t,128,69)[zn]():t},Qn.sanitizeInput=ai,Qn.padNumber=oi,Qn.trim=kt
var si=nr()||{},li=0,ui=[null,null,null,null,null]
function di(e){var t=li,r=ui,n=r[t]
return si.createElement?r[t]||(n=r[t]=si.createElement("a")):n={host:function(e,t){var r=ci(e,t)||""
if(r){var n=r.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i)
if(null!=n&&n[Un]>3&&wt(n[2])&&n[2][Un]>0)return n[2]+(n[3]||"")}return r}(e,!0)},n.href=e,++t>=r[Un]&&(t=0),li=t,n}function ci(e,t){var r=null
if(e){var n=e.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i)
if(null!=n&&n[Un]>2&&wt(n[2])&&n[2][Un]>0&&(r=n[2]||"",t&&n[Un]>2)){var i=(n[1]||"")[jn](),a=n[3]||""
"http"===i&&":80"===a?a="":"https"===i&&":443"===a&&(a=""),r+=a}}return r}var fi=["https://dc.services.visualstudio.com/v2/track","https://breeze.aimon.applicationinsights.io/v2/track","https://dc-int.services.visualstudio.com/v2/track"]
function pi(e){return-1!==function(e,t,r){if(e){if(e[Ye])return e[Ye](t,r)
var n=e[ae],i=r||0
try{for(var a=Math.max(i>=0?i:n-Math.abs(i),0);a<n;a++)if(a in e&&e[a]===t)return a}catch(e){}}return-1}(fi,e[jn]())}var mi={correlationIdPrefix:"cid-v1:",canIncludeCorrelationHeader:function(e,t,r){if(!t||e&&e.disableCorrelationHeaders)return!1
if(e&&e.correlationHeaderExcludePatterns)for(var n=0;n<e.correlationHeaderExcludePatterns[Un];n++)if(e.correlationHeaderExcludePatterns[n].test(t))return!1
var i=di(t).host[jn]()
if(!i||-1===i.indexOf(":443")&&-1===i.indexOf(":80")||(i=(ci(t,!0)||"")[jn]()),(!e||!e.enableCorsCorrelation)&&i&&i!==r)return!1
var a,o=e&&e.correlationHeaderDomains
if(o&&(xt(o,function(e){var t=new RegExp(e.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"))
a=a||t.test(i)}),!a))return!1
var s=e&&e.correlationHeaderExcludedDomains
if(!s||0===s[Un])return!0
for(n=0;n<s[Un];n++){if(new RegExp(s[n].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*")).test(i))return!1}return i&&i[Un]>0},getCorrelationContext:function(e){if(e){var t=mi.getCorrelationContextValue(e,Yn[1])
if(t&&t!==mi.correlationIdPrefix)return t}},getCorrelationContextValue:function(e,t){if(e)for(var r=e.split(","),n=0;n<r[Un];++n){var i=r[n].split("=")
if(2===i[Un]&&i[0]===t)return i[1]}}}
function hi(){var e=or()
if(e&&e.now&&e.timing){var t=e.now()+e.timing.navigationStart
if(t>0)return t}return Nt()}function gi(e,t){var r=null
return 0===e||0===t||vt(e)||vt(t)||(r=t-e),r}var vi=function(){function e(e,t,r,n,i,a,o,s,l,u,d,c){void 0===l&&(l="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0}
this.ver=2,this.id=t,this[$n]=Xn(i),this.success=a,this.resultCode=o+"",this.type=ti(e,l)
var f=function(e,t,r,n){var i,a=n,o=n
if(t&&t[Un]>0){var s=di(t)
if(i=s.host,!a)if(null!=s[Bn]){var l=0===s.pathname[Un]?"/":s[Bn]
"/"!==l.charAt(0)&&(l="/"+l),o=s[Bn],a=ti(e,r?r+" "+l:l)}else a=ti(e,t)}else i=n,a=n
return{target:i,name:a,data:o}}(e,r,s,n)
this.data=ri(e,n)||f.data,this.target=ti(e,f.target),u&&(this.target="".concat(this.target," | ").concat(u)),this[qn]=ti(e,f[qn]),this[Hn]=ni(e,d),this[Wn]=ii(e,c)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",e.dataType="RemoteDependencyData",e}()
function yi(e){var t="ai."+e+"."
return function(e){return t+e}}var bi,_i=yi("application"),Ii=yi("device"),Ci=yi("location"),Pi=yi("operation"),wi=yi("session"),Ei=yi("user"),Ti=yi("cloud"),Si=yi("internal")
function xi(e,t,r,n,i,a){var o
r=ti(n,r)||Ln,(vt(e)||vt(t)||vt(r))&&function(e){throw new Error(e)}("Input doesn't contain all required fields")
var s=""
e[Fn]&&(s=e[Fn],delete e[Fn])
var l=((o={})[qn]=r,o.time=St(new Date),o.iKey=s,o.ext=a||{},o.tags=[],o.data={},o.baseType=t,o.baseData=e,o)
return vt(i)||It(i,function(e,t){l.data[e]=t}),l}var ki={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"}
new(function(e){function t(){return e.call(this)||this}return v(t,e),t}((bi={applicationVersion:_i("ver"),applicationBuild:_i("build"),applicationTypeId:_i("typeId"),applicationId:_i("applicationId"),applicationLayer:_i("layer"),deviceId:Ii("id"),deviceIp:Ii("ip"),deviceLanguage:Ii("language"),deviceLocale:Ii("locale"),deviceModel:Ii("model"),deviceFriendlyName:Ii("friendlyName"),deviceNetwork:Ii("network"),deviceNetworkName:Ii("networkName"),deviceOEMName:Ii("oemName"),deviceOS:Ii("os"),deviceOSVersion:Ii("osVersion"),deviceRoleInstance:Ii("roleInstance"),deviceRoleName:Ii("roleName"),deviceScreenResolution:Ii("screenResolution"),deviceType:Ii("type"),deviceMachineName:Ii("machineName"),deviceVMName:Ii("vmName"),deviceBrowser:Ii("browser"),deviceBrowserVersion:Ii("browserVersion"),locationIp:Ci("ip"),locationCountry:Ci("country"),locationProvince:Ci("province"),locationCity:Ci("city"),operationId:Pi("id"),operationName:Pi("name"),operationParentId:Pi("parentId"),operationRootId:Pi("rootId"),operationSyntheticSource:Pi("syntheticSource"),operationCorrelationVector:Pi("correlationVector"),sessionId:wi("id"),sessionIsFirst:wi("isFirst"),sessionIsNew:wi("isNew"),userAccountAcquisitionDate:Ei("accountAcquisitionDate"),userAccountId:Ei("accountId"),userAgent:Ei("userAgent"),userId:Ei("id"),userStoreRegion:Ei("storeRegion"),userAuthUserId:Ei("authUserId"),userAnonymousUserAcquisitionDate:Ei("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:Ei("authUserAcquisitionDate"),cloudName:Ti("name"),cloudRole:Ti("role"),cloudRoleVer:Ti("roleVer"),cloudRoleInstance:Ti("roleInstance"),cloudEnvironment:Ti("environment"),cloudLocation:Ti("location"),cloudDeploymentUnit:Ti("deploymentUnit"),internalNodeName:Si("nodeName"),internalSdkVersion:Si("sdkVersion"),internalAgentVersion:Si("agentVersion"),internalSnippet:Si("snippet"),internalSdkSrc:Si("sdkSrc")},function(){var e=this
bi&&It(bi,function(t,r){e[t]=r})})))
var Ai="AppInsightsPropertiesPlugin",Mi="duration",Ri="properties",Di="requestUrl",Oi="inst",Ni="length",Li="traceID",Fi="spanID",Ui="traceFlags",ji="context",zi="traceId",qi="spanId",Vi="core",Bi="includeCorrelationHeaders",Hi="canIncludeCorrelationHeader",Wi="getAbsoluteUrl",$i="headers",Gi="requestHeaders",Ki="appId",Xi="setRequestHeader",Ji="trackDependencyDataInternal",Qi="distributedTracingMode",Yi="startTime",Zi="toLowerCase",ea="enableRequestHeaderTracking",ta="enableAjaxErrorStatusText",ra="enableAjaxPerfTracking",na="maxAjaxCallsPerView",ia="enableResponseHeaderTracking",aa="excludeRequestFromAutoTrackingPatterns",oa="addRequestContext",sa="disableAjaxTracking",la="disableFetchTracking",ua="status",da="statusText",ca="headerMap",fa="openDone",pa="sendDone",ma="requestSentTime",ha="abortDone",ga="getTraceId",va="getTraceFlags",ya="method",ba="errorStatusText",_a="stateChangeAttached",Ia="responseText",Ca="responseFinishedTime",Pa="CreateTrackItem",wa="response",Ea="getAllResponseHeaders",Ta="getPartAProps",Sa="getCorrelationContext",xa="perfMark",ka="ajaxPerfLookupDelay",Aa="name",Ma="perfTiming",Ra="ajaxDiagnosticsMessage",Da="correlationContext",Oa="ajaxTotalDuration",Na="eventTraceCtx"
function La(e,t,r){var n=0,i=e[t],a=e[r]
return i&&a&&(n=gi(i,a)),n}function Fa(e,t,r,n,i){var a=0,o=La(r,n,i)
return o&&(a=Ua(e,t,Xn(o))),a}function Ua(e,t,r){var n=0
e&&t&&r&&((e.ajaxPerf=e.ajaxPerf||{})[t]=r,n=1)
return n}var ja=function(){return function(){this[fa]=!1,this.setRequestHeaderDone=!1,this[pa]=!1,this[ha]=!1,this[_a]=!1}}(),za=function(){function e(t,r,n,i){var a,o=n
this[xa]=null,this.completed=!1,this.requestHeadersSize=null,this[Gi]=null,this.responseReceivingDuration=null,this.callbackDuration=null,this[Oa]=null,this.aborted=0,this.pageUrl=null,this[Di]=null,this.requestSize=0,this[ya]=null,this[ua]=null,this[ma]=null,this.responseStartedTime=null,this[Ca]=null,this.callbackFinishedTime=null,this.endTime=null,this.xhrMonitoringState=new ja,this.clientFailure=0,this[Li]=t,this[Fi]=r,this[Ui]=null===i||void 0===i?void 0:i.getTraceFlags(),this[Na]=i?((a={})[zi]=i[ga](),a[qi]=i.getSpanId(),a[Ui]=i[va](),a):null,Q(e,this,function(e){e.getAbsoluteUrl=function(){return e[Di]?(t=e[Di],(n=di(t))&&(r=n.href),r):null
var t,r,n},e.getPathName=function(){return e[Di]?ri(o,(t=e[ya],r=e[Di],t?t.toUpperCase()+" "+r:r)):null
var t,r},e[Pa]=function(t,r,n){var i
if(e.ajaxTotalDuration=Math.round(1e3*gi(e.requestSentTime,e.responseFinishedTime))/1e3,e[Oa]<0)return null
var a=((i={id:"|"+e[Li]+"."+e[Fi],target:e[Wi]()})[Aa]=e.getPathName(),i.type=t,i[Yi]=null,i.duration=e[Oa],i.success=+e[ua]>=200&&+e[ua]<400,i.responseCode=+e[ua],i.method=e[ya],i[Ri]={HttpMethod:e[ya]},i);(e[ma]&&(a[Yi]=new Date,a[Yi].setTime(e[ma])),function(e,t){var r=e[Ma],n=t[Ri]||{},i=0,a="redirect",o=a+"Start",s=a="End"
if(r){i|=Fa(n,a,r,o,s),i|=Fa(n,"domainLookup",r,"domainLookupStart","domainLookupEnd"),i|=Fa(n,"connect",r,"connectStart","connectEnd"),i|=Fa(n,"request",r,"requestStart","requestEnd"),i|=Fa(n,"response",r,"responseStart","responseEnd"),i|=Fa(n,"networkConnect",r,"startTime","connectEnd"),i|=Fa(n,"sentRequest",r,"requestStart","responseEnd")
var l=r[Mi]
l||(l=La(r,"startTime","responseEnd")||0),i|=Ua(n,Mi,l),i|=Ua(n,"perfTotal",l)
var u=r.serverTiming
if(u){var d={}
xt(u,function(e,t){var r=_t(e.name||""+t),n=d[r]||{}
It(e,function(e,t){("name"!==e&&wt(t)||Et(t))&&(n[e]&&(t=n[e]+";"+t),!t&&wt(t)||(n[e]=t))}),d[r]=n}),i|=Ua(n,"serverTiming",d)}i|=Ua(n,"transferSize",r.transferSize),i|=Ua(n,"encodedBodySize",r.encodedBodySize),i|=Ua(n,"decodedBodySize",r.decodedBodySize)}else e[xa]&&(i|=Ua(n,"missing",e.perfAttempts))
i&&(t[Ri]=n)}(e,a),r)&&(Rt(e.requestHeaders)[Ni]>0&&((u=a[Ri]=a[Ri]||{})[Gi]=e[Gi]))
if(n){var o=n()
if(o){var s=o[Da]
if(s&&(a.correlationContext=s),o[ca])if(Rt(o.headerMap)[Ni]>0)(u=a[Ri]=a[Ri]||{}).responseHeaders=o[ca]
if(e.errorStatusText&&e[ua]>=400){var l=o.type,u=a[Ri]=a[Ri]||{}
""!==l&&"text"!==l||(u.responseText=o.responseText?o[da]+" - "+o.responseText:o[da]),"json"===l&&(u.responseText=o.response?o[da]+" - "+JSON.stringify(o[wa]):o[da])}}}return a},e[Ta]=function(){var t,r=null,n=e[Na]
if(n&&(n[zi]||n[qi])){var i=(r={})[ki.TraceExt]=((t={})[Li]=n[zi],t.parentID=n[qi],t)
vt(n[Ui])||(i[Ui]=n[Ui])}return r}})}return e.__ieDyn=1,e}(),qa="ai.ajxmn.",Va="diagLog",Ba="ajaxData",Ha="fetch",Wa="Failed to monitor XMLHttpRequest",$a=", monitoring data for this ajax call ",Ga=$a+"may be incorrect.",Ka=$a+"won't be sent.",Xa="Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",Ja="Failed to add custom defined request context as configured call back may missing a null check.",Qa="Failed to calculate the duration of the ",Ya=0
function Za(e){var t=!1
if(function(){var e=!1
try{e=!!tr(Qt)}catch(e){}return e}()){var r=XMLHttpRequest[i]
t=!(vt(r)||vt(r.open)||vt(r.send)||vt(r.abort))}var n=function(e){if(void 0===e&&(e=null),!e){var t=ir()||{}
e=t?(t[Pe]||Ve)[Me]():Ve}var r=(e||Ve)[Me]()
if(Ct(r,Xt)){var n=nr()||{}
return Math.max(parseInt(r[we](Xt)[1]),n[qt]||0)}if(Ct(r,Jt)){var i=parseInt(r[we](Jt)[1])
if(i)return i+4}return null}()
if(n&&n<9&&(t=!1),t)try{(new XMLHttpRequest)[Ba]={}
var a=XMLHttpRequest[i].open
XMLHttpRequest[i].open=a}catch(r){t=!1,to(e,15,"Failed to enable XMLHttpRequest monitoring, extension is not supported",{exception:ur(r)})}return t}function eo(e){var t=""
try{e&&e[Ba]&&e[Ba][Di]&&(t+="(url: '"+e[Ba][Di]+"')")}catch(e){}return t}function to(e,t,r,n,i){br(e[Va](),1,t,r,n,i)}function ro(e,t,r,n,i){br(e[Va](),2,t,r,n,i)}function no(e,t,r){return function(n){to(e,t,r,{ajaxDiagnosticsMessage:eo(n[Oi]),exception:ur(n.err)})}}function io(e,t){return e&&t?e.indexOf(t):-1}function ao(e,t,r){var n={id:t,fn:r}
return e.push(n),{remove:function(){xt(e,function(t,r){if(t.id===n.id)return e.splice(r,1),-1})}}}function oo(e,t,r,n){var i=!0
return xt(t,function(t,a){try{!1===t.fn.call(null,r)&&(i=!1)}catch(t){br(e&&e.logger,1,64,"Dependency "+n+" [#"+a+"] failed: "+Lt(t),{exception:ur(t)},!0)}}),i}var so=Dt(["*.blob.core.windows.net","*.blob.core.chinacloudapi.cn","*.blob.core.cloudapi.de","*.blob.core.usgovcloudapi.net"]),lo=[/https:\/\/[^\/]*(\.pipe\.aria|aria\.pipe|events\.data|collector\.azure)\.[^\/]+\/(OneCollector\/1|Collector\/3)\.0/i]
function uo(){var e
return(e={})[na]=500,e[sa]=!1,e[la]=!1,e[aa]=void 0,e.disableCorrelationHeaders=!1,e.distributedTracingMode=1,e.correlationHeaderExcludedDomains=so,e.correlationHeaderDomains=void 0,e.correlationHeaderExcludePatterns=void 0,e[Ki]=void 0,e.enableCorsCorrelation=!1,e[ea]=!1,e[ia]=!1,e[ta]=!1,e[ra]=!1,e.maxAjaxPerfLookupAttempts=3,e[ka]=25,e.ignoreHeaders=["Authorization","X-API-Key","WWW-Authenticate"],e[oa]=void 0,e.addIntEndpoints=!0,e}function co(){var e=uo()
return It(e,function(t){e[t]=void 0}),e}var fo=function(e){function t(){var r,n,a,o,s,l,u,d,c,p,m,g,v,y,b,_,I,C,P,w,E,T,S,x=e.call(this)||this
return x.identifier=t.identifier,x.priority=120,Q(t,x,function(e,x){var k=x._addHook
function A(){var e=ar()
r=!1,n=!1,a=e&&e.host&&e.host[Zi](),o=t.getEmptyConfig(),s=!1,l=!1,u=0,d=null,c=!1,p=!1,m=null,g=!1,v=0,y=!1,b={},_=!1,I=!1,C=null,P=null,w=null,E=0,T=[],S=[]}function M(e){var t=!0
return(e||o.ignoreHeaders)&&xt(o.ignoreHeaders,function(r){if(r[Zi]()===e[Zi]())return t=!1,-1}),t}function R(e,t,r){k(function(e,t,r){return e?Sn(e[i],t,r,!1):null}(e,t,r))}function D(e,t,r){var n=!1,i=((wt(t)?t:(t||{}).url||"")||"")[Zi]()
if(xt(C,function(e){var t=e
wt(e)&&(t=new RegExp(e)),n||(n=t.test(i))}),n)return n
var a=io(i,"?"),o=io(i,"#")
return(-1===a||-1!==o&&o<a)&&(a=o),-1!==a&&(i=i.substring(0,a)),vt(e)?vt(t)||(n="object"==typeof t&&!0===t[Nn]||!!r&&!0===r[Nn]):n=!0===e[Nn]||!0===i[Nn],!n&&i&&pi(i)&&(n=!0),n?b[i]||(b[i]=1):b[i]&&(n=!0),n}function O(e,t){var r=!0,i=n
return vt(e)||(r=!0===t||!vt(e[Ba])),i&&r}function N(){var t,r,n,i=null
return e[Vi]&&e[Vi].getTraceCtx&&(i=e[Vi].getTraceCtx(!1)),!i&&d&&d.telemetryTrace&&(t=d.telemetryTrace,n=t||{},i={getName:function(){return n[qn]},setName:function(e){r&&r.setName(e),n[qn]=e},getTraceId:function(){return n.traceID},setTraceId:function(e){r&&r.setTraceId(e),sn(e)&&(n.traceID=e)},getSpanId:function(){return n.parentID},setSpanId:function(e){r&&r.setSpanId(e),ln(e)&&(n.parentID=e)},getTraceFlags:function(){return n.traceFlags},setTraceFlags:function(e){r&&r.setTraceFlags(e),n.traceFlags=e}}),i}function L(e,t){if(t[Di]&&m&&g){var r=or()
if(r&&bt(r.mark)){var n=m+e+"#"+ ++Ya
r.mark(n)
var i=r.getEntriesByName(n)
i&&1===i[Ni]&&(t[xa]=i[0])}}}function F(e,t,r,n){var i=t[xa],a=or(),s=o.maxAjaxPerfLookupAttempts,l=o[ka],u=t[Di],d=0;(function o(){try{if(a&&i){d++
for(var c=null,f=a.getEntries(),p=f[Ni]-1;p>=0;p--){var m=f[p]
if(m){if("resource"===m.entryType)m.initiatorType!==e||-1===io(m[Aa],u)&&-1===io(u,m[Aa])||(c=m)
else if("mark"===m.entryType&&m[Aa]===i[Aa]){t[Ma]=c
break}if(m[Yi]<i[Yi]-1e3)break}}}!i||t[Ma]||d>=s||!1===t.async?(i&&bt(a.clearMarks)&&a.clearMarks(i[Aa]),t.perfAttempts=d,r()):setTimeout(o,l)}catch(e){n(e)}})()}function U(t){var r=""
try{vt(t)||(r+="(url: '".concat("string"==typeof t?t:t.url,"')"))}catch(t){to(e,15,"Failed to grab failed fetch diagnostics message",{exception:ur(t)})}return r}function j(t,r,n,i,a,o,l){function u(t,r,i){var a=i||{}
a.fetchDiagnosticsMessage=U(n),r&&(a.exception=ur(r)),ro(e,t,Qa+"fetch call"+Ka,a)}a&&(a[Ca]=hi(),a[ua]=r,F("fetch",a,function(){var t,l=a[Pa]("Fetch",s,o)
try{P&&(t=P({status:r,request:n,response:i}))}catch(t){ro(e,104,Ja)}if(l){void 0!==t&&(l[Ri]=h(h({},l.properties),t))
var d=a[Ta]()
z(S,e[Vi],a,l,null,d)}else u(14,null,{requestSentTime:a[ma],responseFinishedTime:a[Ca]})},function(e){u(18,e,null)}))}function z(t,r,n,i,a,o){var s,l=!0
t[Ni]>0&&(l=oo(r,t,((s={item:i})[Ri]=a,s.sysProperties=o,s.context=n?n[ji]:null,s),"initializer"))
l&&e[Ji](i,a,o)}A(),e.initialize=function(a,u,b,E){var T,A,q
e.isInitialized()||(x.initialize(a,u,b,E),A=Ur("ajax"),q=u&&u.evtNamespace&&u.evtNamespace(),w=q?Jr("xx",Pt(q)?[A].concat(q):[A,q]).ns[we]("."):A,function(r){var n=vn(null,r,e[Vi])
o=co(),It(uo(),function(e,r){o[e]=n.getConfig(t.identifier,e,r)})
var i=o[Qi]
if(s=o[ea],l=o[ta],g=o[ra],v=o[na],y=o[ia],C=[].concat(o[aa]||[],!1!==o.addIntEndpoints?lo:[]),P=o[oa],p=0===i||1===i,c=1===i||2===i,g){var a=r.instrumentationKey||"unkwn"
m=a[Ni]>5?qa+a.substring(a[Ni]-5)+".":qa+a+"."}_=!!o[sa],I=!!o[la]}(a),!Za(e)||_||n||(R(XMLHttpRequest,"open",{ns:w,req:function(t,r,n,i){if(!_){var a=t[Oi],o=a[Ba]
!D(a,n)&&O(a,!0)&&(o&&o.xhrMonitoringState[fa]||function(t,r,n,i){var a,o=N(),s=o&&o[ga]()||Yr(),u=Yr().substr(0,16),d=new za(s,u,e[Va](),null===(a=e.core)||void 0===a?void 0:a.getTraceCtx())
d[Ui]=o&&o[va](),d[ya]=r,d[Di]=n,d.xhrMonitoringState[fa]=!0,d[Gi]={},d.async=i,d[ba]=l,t[Ba]=d}(a,r,n,i),function(t){t[Ba].xhrMonitoringState[_a]=Qr(t,"readystatechange",function(){var r
try{t&&4===t.readyState&&O(t)&&function(t){var r=t[Ba]
function n(r,n){var i=n||{}
i.ajaxDiagnosticsMessage=eo(t),r&&(i.exception=ur(r)),ro(e,14,Qa+"ajax call"+Ka,i)}r[Ca]=hi(),r[ua]=t[ua],F("xmlhttprequest",r,function(){try{var i=r[Pa]("Ajax",s,function(){var r,n=((r={statusText:t[da]})[ca]=null,r[Da]=function(t){var r
try{var n=t[Ea]()
if(null!==n){var i=io(n[Zi](),Yn[8])
if(-1!==i){var a=t.getResponseHeader(Yn[0])
return mi[Sa](a)}}}catch(n){ro(e,18,Xa,((r={})[Ra]=eo(t),r.exception=ur(n),r))}}(t),r.type=t.responseType,r[Ia]=function(e){try{var t=e.responseType
if(""===t||"text"===t)return e[Ia]}catch(e){}return null}(t),r.response=t[wa],r)
if(y){var i=t[Ea]()
if(i){var a=kt(i).split(/[\r\n]+/),o={}
xt(a,function(e){var t=e.split(": "),r=t.shift(),n=t.join(": ")
M(r)&&(o[r]=n)}),n[ca]=o}}return n}),a=void 0
try{P&&(a=P({status:t[ua],xhr:t}))}catch(t){ro(e,104,Ja)}if(i){void 0!==a&&(i[Ri]=h(h({},i.properties),a))
var o=r[Ta]()
z(S,e[Vi],r,i,null,o)}else n(null,{requestSentTime:r[ma],responseFinishedTime:r[Ca]})}finally{try{t[Ba]=null}catch(e){}}},function(e){n(e,null)})}(t)}catch(i){var n=ur(i)
n&&-1!==io(n[Zi](),"c00c023f")||to(e,16,Wa+" 'readystatechange' event handler"+Ga,((r={})[Ra]=eo(t),r.exception=n,r))}},w)}(a))}},hkErr:no(e,15,Wa+".open"+Ga)}),R(XMLHttpRequest,"send",{ns:w,req:function(t,r){if(!_){var n=t[Oi],i=n[Ba]
O(n)&&!i.xhrMonitoringState[pa]&&(L("xhr",i),i[ma]=hi(),e[Bi](i,void 0,void 0,n),i.xhrMonitoringState[pa]=!0)}},hkErr:no(e,17,Wa+Ga)}),R(XMLHttpRequest,"abort",{ns:w,req:function(e){if(!_){var t=e[Oi],r=t[Ba]
O(t)&&!r.xhrMonitoringState[ha]&&(r.aborted=1,r.xhrMonitoringState[ha]=!0)}},hkErr:no(e,13,Wa+".abort"+Ga)}),R(XMLHttpRequest,"setRequestHeader",{ns:w,req:function(e,t,r){if(!_&&s){var n=e[Oi]
O(n)&&M(t)&&(n[Ba][Gi][t]=r)}},hkErr:no(e,71,Wa+".setRequestHeader"+Ga)}),n=!0),function(){var t=(a=f(),!a||vt(a.Request)||vt(a.Request[i])||vt(a[Ha])?null:a[Ha])
var a
if(!t)return
var o=f(),u=t.polyfill
I||r?u&&k(Sn(o,Ha,{ns:w,req:function(e,t,r){D(null,t,r)}})):(k(Sn(o,Ha,{ns:w,req:function(t,i,a){var o
if(!I&&r&&!D(null,i,a)&&(!u||!n)){var d=t.ctx()
o=function(t,r){var n,i=N(),a=i&&i[ga]()||Yr(),o=Yr().substr(0,16),u=new za(a,o,e[Va](),null===(n=e.core)||void 0===n?void 0:n.getTraceCtx())
u[Ui]=i&&i[va](),u[ma]=hi(),u[ba]=l,t instanceof Request?u[Di]=t?t.url:"":u[Di]=t
var d="GET"
r&&r[ya]?d=r[ya]:t&&t instanceof Request&&(d=t[ya])
u[ya]=d
var c={}
if(s){var f=new Headers((r?r[$i]:0)||t instanceof Request&&t[$i]||{})
f.forEach(function(e,t){M(t)&&(c[t]=e)})}return u[Gi]=c,L("fetch",u),u}(i,a)
var c=e[Bi](o,i,a)
c!==a&&t.set(1,c),d.data=o}},rsp:function(t,r){if(!I){var n=t.ctx().data
n&&(t.rslt=t.rslt.then(function(i){return j(t,(i||{})[ua],r,i,n,function(){var t,r=((t={statusText:i[da]})[ca]=null,t[Da]=function(t){if(t&&t[$i])try{var r=t[$i].get(Yn[0])
return mi[Sa](r)}catch(r){ro(e,18,Xa,{fetchDiagnosticsMessage:U(t),exception:ur(r)})}}(i),t)
if(y){var n={}
i.headers.forEach(function(e,t){M(t)&&(n[t]=e)}),r[ca]=n}return r}),i}).catch(function(e){throw j(t,0,r,null,n,null,{error:e.message}),e}))}},hkErr:no(e,15,"Failed to monitor Window.fetch"+Ga)})),r=!0)
u&&(o[Ha].polyfill=u)}(),(T=e[Vi].getPlugin(Ai))&&(d=T.plugin[ji]))},e._doTeardown=function(){A()},e.trackDependencyData=function(t,r){z(S,e[Vi],null,t,r)},e[Bi]=function(t,r,n,i){var l=e._currentWindowHost||a
if(function(e,t,r,n,i,a){var o
if(e[Ni]>0){var s=((o={})[Vi]=t,o.xhr=n,o.input=i,o.init=a,o.traceId=r[Li],o.spanId=r[Fi],o.traceFlags=r[Ui],o.context=r[ji]||{},o)
oo(t,e,s,"listener"),r[Li]=s[zi],r[Fi]=s[qi],r[Ui]=s[Ui],r[ji]=s[ji]}}(T,e[Vi],t,i,r,n),r){if(mi[Hi](o,t[Wi](),l)){n||(n={})
var u=new Headers(n[$i]||r instanceof Request&&r[$i]||{})
if(p){var f="|"+t[Li]+"."+t[Fi]
u.set(Yn[3],f),s&&(t[Gi][Yn[3]]=f)}if((h=o[Ki]||d&&d[Ki]())&&(u.set(Yn[0],Yn[2]+h),s&&(t[Gi][Yn[0]]=Yn[2]+h)),c){vt(g=t[Ui])&&(g=1)
var m=un(on(t[Li],t[Fi],g))
u.set(Yn[4],m),s&&(t[Gi][Yn[4]]=m)}n[$i]=u}return n}if(i){if(mi[Hi](o,t[Wi](),l)){if(p){f="|"+t[Li]+"."+t[Fi]
i[Xi](Yn[3],f),s&&(t[Gi][Yn[3]]=f)}var h
if((h=o[Ki]||d&&d[Ki]())&&(i[Xi](Yn[0],Yn[2]+h),s&&(t[Gi][Yn[0]]=Yn[2]+h)),c){var g
vt(g=t[Ui])&&(g=1)
m=un(on(t[Li],t[Fi],g))
i[Xi](Yn[4],m),s&&(t[Gi][Yn[4]]=m)}}return i}},e[Ji]=function(t,r,n){if(-1===v||u<v){2!==o[Qi]&&1!==o[Qi]||"string"!=typeof t.id||"."===t.id[t.id[Ni]-1]||(t.id+="."),vt(t[Yi])&&(t[Yi]=new Date)
var i=xi(t,vi.dataType,vi.envelopeType,e[Va](),r,n)
e[Vi].track(i)}else u===v&&to(e,55,"Maximum ajax per page view limit reached, ajax monitoring is paused until the next trackPageView(). In order to increase the limit set the maxAjaxCallsPerView configuration parameter.",!0);++u},e.addDependencyListener=function(e){return ao(T,E++,e)},e.addDependencyInitializer=function(e){return ao(S,E++,e)}}),x}return v(t,e),t.prototype.processTelemetry=function(e,t){this.processNext(e,t)},t.prototype.addDependencyInitializer=function(e){return null},t.identifier="AjaxDependencyPlugin",t.getDefaultConfig=uo,t.getEmptyConfig=co,t}(_n)
function po(e,t,r){var n=function(e,t){var r
e&&e[t]&&(r=e[t],delete e[t])
return r}(e,r)
return t[r]?t[r]:n}function mo(e,t){var r,n={},i=nr()
if(i){r=i.querySelectorAll("meta")
for(var a=0;a<r.length;a++){var o=r[a]
if(o.name)if(0===o.name.toLowerCase().indexOf(e))n[t?o.name.replace(e,""):o.name]=o.content}}return n}function ho(e){It(e,function(t,r){(!An(r)||"{}"===JSON.stringify(r)&&"callback"!==t)&&delete e[t]})}var go=function(){function e(){}return e.prototype._setCommonProperties=function(e,t){An(t.cV)&&(e.ext=e.ext||{},e.ext.mscv=e.ext.mscv||{},e.ext.mscv.cV=t.cV),e.baseData.operationName=t.operationName,e.baseData.latencyMs=t.latencyMs,e.baseData.serviceErrorCode=t.serviceErrorCode||-1,e.baseData.succeeded=t.succeeded,e.baseData.requestStatus=t.requestStatus,e.baseData.requestMethod=t.requestMethod,An(t.target)&&(e.baseData.target=t.target),An(t.responseContentType)&&(e.baseData.responseContentType=t.responseContentType),An(t.protocol)&&(e.baseData.protocol=t.protocol),An(t.protocolStatusCode)&&(e.baseData.protocolStatusCode=t.protocolStatusCode)},e}(),vo=function(){function e(){this._qosEvent=new go}return e.prototype._setQosProperties=function(e,t){this._qosEvent._setCommonProperties(e,t),An(t.callerIpAddress)&&(e.baseData.callerIpAddress=t.callerIpAddress),An(t.callerName)&&(e.baseData.callerName=t.callerName),An(t.requestSizeBytes)&&(e.baseData.requestSizeBytes=t.requestSizeBytes),An(t.operationVersion)&&(e.baseData.operationVersion=t.operationVersion)},e}(),yo=function(){function e(){this._qosEvent=new go}return e.prototype._setQosProperties=function(e,t){this._qosEvent._setCommonProperties(e,t),e.baseData.dependencyOperationName=t.dependencyOperationName,e.baseData.dependencyName=t.dependencyName,e.baseData.dependencyType=t.dependencyType||"WebService",An(t.dependencyOperationVersion)&&(e.baseData.dependencyOperationVersion=t.dependencyOperationVersion),An(t.responseSizeBytes)&&(e.baseData.responseSizeBytes=t.responseSizeBytes)},e}(),bo="MS-CV",_o=function(e){function t(){var r,n,i,a,o,s=e.call(this)||this
return s.identifier="QosPlugin",s.version="3.2.8",Q(t,s,function(e,t){function s(e){var t={enableCorsCorrelation:!1,correlationHeaderExcludedDomains:[],correlationHeaderExcludePatterns:null,disableCorrelationHeaders:!1,maxAjaxCallsPerView:-1,disableAjaxTracking:!1,disableFetchTracking:!1,enableCvHeaders:!1,appId:void 0,excludeRequestFromAutoTrackingPatterns:void 0,distributedTracingMode:1,correlationHeaderDomains:void 0,enableRequestHeaderTracking:!1,enableResponseHeaderTracking:!1,enableAjaxErrorStatusText:!1,enableAjaxPerfTracking:!1,maxAjaxPerfLookupAttempts:3,ajaxPerfLookupDelay:25,ignoreHeaders:["Authorization","X-API-Key","WWW-Authenticate"],addRequestContext:void 0,callback:{pageName:null,id:null},autoCapture:{msTags:!0},coreData:{requestUri:"",pageName:""}},r=[]
return It(t,function(e,t){t&&yt(t)&&r.push(e)}),function(e,t){ho(e),xt(t,function(t){yt(e[t])?ho(e[t]):delete e[t]})}(e,r),Rn(!0,t,e)}function l(t,r){d(t,r),e.core.track(t)}function u(){r=null,a={market:"",serverImpressionGuid:""},o={},n=new yo,i=new vo}function d(e,t){An(t)&&It(t,function(t,r){e.data[t]=r})}u(),e.includeCorrelationHeaders=function(r,n,i,a){var s=t.includeCorrelationHeaders(r,n,i,a)
if(o.enableCvHeaders){var l=e.getCv()
if(l&&(n||a)){l.increment()
var u=l.getValue()
n?(s||(s=i||{}),s.headers&&bt(s.headers.append)||(s.headers=new Headers(s.headers||n instanceof Request&&n.headers||{})),s.headers.append(bo,u)):s.setRequestHeader(bo,u)}}return s},e.initialize=function(n,i,l){var u=n.extensionConfig=n.extensionConfig||[]
u[e.identifier]=u[e.identifier]||{},o=e._qosConfig=s(u[e.identifier]),u[fo.identifier]=o,t.initialize(n,i,l)
var d,c,f,p=(d=e._qosConfig,f={},c=mo("awa-",!0),d.autoCapture&&d.autoCapture.msTags&&(f=mo("ms.",!1)),Rn(!0,c,f))
a.market=po(p,o.coreData,"market"),a.serverImpressionGuid=po(p,o.coreData,"serverImpressionGuid")
var m=(i.getPlugin("CorrelationVectorPlugin")||{}).plugin,h=(i.getPlugin("WebAnalyticsPlugin")||{}).plugin
h&&h.id?e.id=h.id:e.id=new On(i),o.enableCvHeaders&&(m?(o.enableCvHeaders=!0,r=m):(br(e.diagLog(),2,508,'Enable cV headers it is set to "true" in config.  However, cv plugin is not available. Disabling adding Cv in dependency requests '),o.enableCvHeaders=!1))},e.processTelemetry=function(t,r){(function(e,t){var r=e
r.timings=r.timings||{},r.timings.processTelemetryStart=r.timings.processTelemetryStart||{},r.timings.processTelemetryStart[t]=Dn()})(t,e.identifier)
var n=t
switch(n.baseType){case vi.dataType:"Ms.Qos.OutgoingServiceRequest"!==n.name&&(n.name="Ms.Web.OutgoingRequest",n.baseData=n.baseData||{},n.baseData.properties=n.baseData.properties||{},n.baseData.properties.parentId=n.baseData.properties.parentId||e.id.getLastPageViewId(),delete n.baseData.method),n.latency=1}e.processNext(n,r)},e.trackDependencyData=function(t,r){e.trackDependencyDataInternal(t,r)},e.trackDependencyDataInternal=function(r,n,i){var s,l,u=i||{},d=u[ki.TraceExt]
if(d){var c=u.dt=u.dt||{}
c.traceId=c.traceId||d.traceID,c.spanId=c.spanId||d.parentID,vt(d.traceFlags)||Et(c.traceFlags)||(c.traceFlags=d.traceFlags)}An(r.cV)&&(u.mscv={},u.mscv.cV=r.cV),r.id=o.callback&&o.callback.id?o.callback.id():Mn(),(n=n||{}).pageName=An(n.pageName)?n.pageName:function(e){if(e.callback&&"function"==typeof e.callback.pageName)return e.callback.pageName()
if(e.coreData&&e.coreData.pageName)return e.coreData.pageName
var t=(ar()||{}).pathname||"",r=t.replace(/(^\/+|\/+$)/g,"").split("/"),n=r.length
return t=r&&r[n-1]?r[n-1]:"Home"}(e._qosConfig),n.uri=An(n.uri)?n.uri:(s=e._qosConfig,l=ar()||{},s.coreData.requestUri?s.coreData.requestUri:l.href),n.market=An(n.market)?n.market:a.market,n.serverImpressionGuid=An(n.serverImpressionGuid)?n.serverImpressionGuid:a.serverImpressionGuid,t.trackDependencyDataInternal(r,n,u)},e.trackServiceOutgoingQos=function(e,t){var r={name:"Ms.Qos.OutgoingServiceRequest",baseType:"RemoteDependencyData",ext:{},baseData:{},data:{},latency:3}
n._setQosProperties(r,e),d(r,t),l(r)},e.trackServiceIncomingQos=function(e,t){var r={name:"Ms.Qos.IncomingServiceRequest",baseType:"RequestData",ext:{},baseData:{},data:{},latency:3}
i._setQosProperties(r,e),d(r,t),l(r)},e.getCv=function(){return r?r.getCv():null},e._doTeardown=function(e,r){t._doTeardown(e,r),u()}}),s}return v(t,e),t.__ieDyn=1,t}(fo),Io=function(){function e(){this._timers=[]}return e.prototype.recordTimeSpan=function(e,t){var r=(new Date).getTime()
if(t)return r-this._timers[e]
this._timers[e]=r},e}()
e.QosPlugin=_o,e.Timespan=Io,function(e,t,r){var n=Object.defineProperty
if(n)try{return n(e,"__esModule",r)}catch(e){}r&&void 0!==typeof r.value&&(e.__esModule=r.value)}(e,0,{value:!0})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).oneDS=e.oneDS||{})}(this,function(e){"use strict"
var t="function",r="object",n="undefined",i="prototype",a=Object,o=a[i],s=a.assign,l=a.create,u=a.defineProperty,d=o.hasOwnProperty,c=null
function f(e){void 0===e&&(e=!0)
var t=!1===e?null:c
return t||(typeof globalThis!==n&&(t=globalThis),t||typeof self===n||(t=self),t||typeof window===n||(t=window),t||typeof global===n||(t=global),c=t),t}function p(e){throw new TypeError(e)}function m(e){if(l)return l(e)
if(null==e)return{}
var n=typeof e
function a(){}return n!==r&&n!==t&&p("Object prototype may only be an Object:"+e),a[i]=e,new a}(f()||{}).Symbol,(f()||{}).Reflect
var h=s||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])o.hasOwnProperty.call(t,i)&&(e[i]=t[i])
return e},g=function(e,t){return(g=a.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)}
function v(e,r){function n(){this.constructor=e}typeof r!==t&&null!==r&&p("Class extends value "+String(r)+" is not a constructor or null"),g(e,r),e[i]=null===r?m(r):(n[i]=r[i],new n)}function y(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r]
return e}var b="initialize",_="name",I="getNotifyMgr",C="identifier",P="push",w="isInitialized",E="config",T="instrumentationKey",S="logger",x="length",k="time",A="processNext",M="getProcessTelContext",R="addNotificationListener",D="removeNotificationListener",O="stopPollingInternalLogs",N="onComplete",L="getPlugin",F="flush",U="_extensions",j="splice",z="teardown",q="messageId",V="message",B="isAsync",H="_doTeardown",W="update",$="getNext",G="diagLog",K="setNextPlugin",X="createNew",J="cookieCfg",Q="indexOf",Y="substring",Z="userAgent",ee="split",te="setEnabled",re="substr",ne="nodeType",ie="apply",ae="replace",oe="enableDebugExceptions",se="logInternalMessage",le="toLowerCase",ue="call",de="type",ce="handler",fe="listeners",pe="isChildEvt",me="getCtx",he="setCtx",ge="complete",ve="traceId",ye="spanId",be="traceFlags",_e="",Ie="channels",Ce="core",Pe="createPerfMgr",we="disabled",Ee="extensionConfig",Te="extensions",Se="processTelemetry",xe="priority",ke="eventsSent",Ae="eventsDiscarded",Me="eventsSendRequest",Re="perfEvent",De="errorToConsole",Oe="warnToConsole",Ne="getPerfMgr",Le="toISOString",Fe="endsWith",Ue="startsWith",je="indexOf",ze="map",qe="reduce",Ve="trim",Be="__proto__",He="constructor",We=u,$e=a.freeze,Ge=a.keys,Ke=String[i],Xe=Ke[Ve],Je=Ke[Fe],Qe=Ke[Ue],Ye=Date[i][Le],Ze=Array.isArray,et=o.toString,tt=d.toString,rt=tt[ue](a),nt=/-([a-z])/g,it=/([^\w\d_$])/g,at=/^(\d+[\w\d_$])/,ot=Object.getPrototypeOf
function st(e){if(e){if(ot)return ot(e)
var t=e[Be]||e[i]||e[He]
if(t)return t}return null}function lt(e){return void 0===e||typeof e===n}function ut(e){return null===e||lt(e)}function dt(e){return!ut(e)}function ct(e,t){return!(!e||!d[ue](e,t))}function ft(e){return!(!e||typeof e!==r)}function pt(e){return!(!e||typeof e!==t)}function mt(e){var t=e
return t&&It(t)&&(t=(t=(t=t[ae](nt,function(e,t){return t.toUpperCase()}))[ae](it,"_"))[ae](at,function(e,t){return"_"+t})),t}function ht(e,t){if(e)for(var r in e)d[ue](e,r)&&t[ue](e,r,e[r])}function gt(e,t){var r=!1
return e&&t&&!(r=e===t)&&(r=Je?e[Fe](t):function(e,t){var r=!1,n=t?t[x]:0,i=e?e[x]:0
if(n&&i&&i>=n&&!(r=e===t)){for(var a=i-1,o=n-1;o>=0;o--){if(e[a]!=t[o])return!1
a--}r=!0}return r}(e,t)),r}function vt(e,t){var r=!1
return e&&t&&!(r=e===t)&&(r=Qe?e[Ue](t):function(e,t){var r=!1,n=t?t[x]:0
if(e&&n&&e[x]>=n&&!(r=e===t)){for(var i=0;i<n;i++)if(e[i]!==t[i])return!1
r=!0}return r}(e,t)),r}function yt(e,t){return!(!e||!t)&&-1!==e[Q](t)}var bt=Ze||function(e){return!(!e||"[object Array]"!==et[ue](e))}
function _t(e){return!(!e||"[object Error]"!==et[ue](e))}function It(e){return"string"==typeof e}function Ct(e){return"number"==typeof e}function Pt(e){return"boolean"==typeof e}function wt(e){var r=!1
if(e&&"object"==typeof e){var n=ot?ot(e):st(e)
n?(n[He]&&d[ue](n,He)&&(n=n[He]),r=typeof n===t&&tt[ue](n)===rt):r=!0}return r}function Et(e){if(e)return Ye?e[Le]():function(e){if(e&&e.getUTCFullYear){var t=function(e){var t=String(e)
return 1===t[x]&&(t="0"+t),t}
return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+String((e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}(e)}function Tt(e,t,r){var n=e[x]
try{for(var i=0;i<n&&!(i in e&&-1===t[ue](r||e,e[i],i,e));i++);}catch(e){}}function St(e,t,r){if(e){if(e[je])return e[je](t,r)
var n=e[x],i=r||0
try{for(var a=Math.max(i>=0?i:n-Math.abs(i),0);a<n;a++)if(a in e&&e[a]===t)return a}catch(e){}}return-1}function xt(e,t,r){var n
if(e){if(e[ze])return e[ze](t,r)
var i=e[x],a=r||e
n=new Array(i)
try{for(var o=0;o<i;o++)o in e&&(n[o]=t[ue](a,e[o],e))}catch(e){}}return n}function kt(e,t,r){var n
if(e){if(e[qe])return e[qe](t,r)
var i=e[x],a=0
if(arguments[x]>=3)n=arguments[2]
else{for(;a<i&&!(a in e);)a++
n=e[a++]}for(;a<i;)a in e&&(n=t(n,e[a],a,e)),a++}return n}function At(e){return e&&(e=Xe&&e[Ve]?e[Ve]():e[ae]?e[ae](/^\s+|(?=\s)\s+$/g,_e):e),e}var Mt=!{toString:null}.propertyIsEnumerable("toString"),Rt=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]
function Dt(e){var n=typeof e
if(n===t||n===r&&null!==e||p("objKeys called on non-object"),!Mt&&Ge)return Ge(e)
var i=[]
for(var a in e)e&&d[ue](e,a)&&i[P](a)
if(Mt)for(var o=Rt[x],s=0;s<o;s++)e&&d[ue](e,Rt[s])&&i[P](Rt[s])
return i}function Ot(e,t,r,n){if(We)try{var i={enumerable:!0,configurable:!0}
return r&&(i.get=r),n&&(i.set=n),We(e,t,i),!0}catch(e){}return!1}function Nt(e){return $e&&ht(e,function(e,t){(bt(t)||ft(t))&&$e(t)}),Lt(e)}var Lt=$e||function(e){return e}
function Ft(){var e=Date
return e.now?e.now():(new e).getTime()}function Ut(e){return _t(e)?e[_]:_e}function jt(e,t,r,n,i){var a=r
return e&&((a=e[t])===r||i&&!i(a)||n&&!n(r)||(a=r,e[t]=a)),a}function zt(e,t,r){var n
return e?!(n=e[t])&&ut(n)&&(n=lt(r)?{}:r,e[t]=n):n=lt(r)?{}:r,n}function qt(e,t){return ut(e)?t:e}function Vt(e){return!!e}function Bt(e){throw new Error(e)}function Ht(e,t){var r=null,n=null
return pt(e)?r=e:n=e,function(){var e=arguments
if(r&&(n=r()),n)return n[t][ie](n,e)}}function Wt(e,t,r,n,i){e&&t&&r&&(!1!==i||lt(e[t]))&&(e[t]=Ht(r,n))}function $t(e,t,r,n){return e&&t&&ft(e)&&bt(r)&&Tt(r,function(r){It(r)&&Wt(e,r,t,r,n)}),e}function Gt(e){return e&&s&&(e=a(s({},e))),e}function Kt(e,t,r,n,i,a){var o=arguments,s=o[0]||{},l=o[x],u=!1,c=1
for(l>0&&Pt(s)&&(u=s,s=o[c]||{},c++),ft(s)||(s={});c<l;c++){var f=o[c],p=bt(f),m=ft(f)
for(var h in f){if(p&&h in f||m&&d[ue](f,h)){var g=f[h],v=void 0
if(u&&g&&((v=bt(g))||wt(g))){var y=s[h]
v?bt(y)||(y=[]):wt(y)||(y={}),g=Kt(u,y,g)}void 0!==g&&(s[h]=g)}}}return s}function Xt(e){var t={}
return ht(e,function(e,r){t[e]=r,t[r]=e}),Nt(t)}function Jt(e){var t={}
return ht(e,function(e,r){t[e]=r[1],t[r[0]]=r[1]}),Nt(t)}var Qt,Yt=Xt({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5}),Zt="undefined",er="constructor",tr="prototype",rr="function",nr="_dynInstFuncs",ir="_isDynProxy",ar="_dynClass",or="_dynCls$",sr="_dynInstChk",lr=sr,ur="_dfOpts",dr="_unknown_",cr="__proto__",fr="_dyn"+cr,pr="_dynInstProto",mr="useBaseInst",hr="setInstFuncs",gr=Object,vr=gr.getPrototypeOf,yr=gr.getOwnPropertyNames
var br,_r=(typeof globalThis!==Zt&&(br=globalThis),br||typeof self===Zt||(br=self),br||typeof window===Zt||(br=window),br||typeof global===Zt||(br=global),br||{}),Ir=_r.__dynProto$Gbl||(_r.__dynProto$Gbl={o:(Qt={},Qt[hr]=!0,Qt[mr]=!0,Qt),n:1e3})
function Cr(e,t){return e&&gr[tr].hasOwnProperty.call(e,t)}function Pr(e){return e&&(e===gr[tr]||e===Array[tr])}function wr(e){return Pr(e)||e===Function[tr]}function Er(e){var t
if(e){if(vr)return vr(e)
var r=e[cr]||e[tr]||(e[er]?e[er][tr]:null)
t=e[fr]||r,Cr(e,fr)||(delete e[pr],t=e[fr]=e[pr]||e[fr],e[pr]=r)}return t}function Tr(e,t){var r=[]
if(yr)r=yr(e)
else for(var n in e)"string"==typeof n&&Cr(e,n)&&r.push(n)
if(r&&r.length>0)for(var i=0;i<r.length;i++)t(r[i])}function Sr(e,t,r){return t!==er&&typeof e[t]===rr&&(r||Cr(e,t))}function xr(e){throw new TypeError("DynamicProto: "+e)}function kr(e,t){for(var r=e.length-1;r>=0;r--)if(e[r]===t)return!0
return!1}function Ar(e,t,r,n,i){function a(e,t){var r=function(){return(function(e,t,r,n){var i=null
if(e&&Cr(r,ar)){var a=e[nr]||{}
if((i=(a[r[ar]]||{})[t])||xr("Missing ["+t+"] "+rr),!i[sr]&&!1!==a[lr]){for(var o=!Cr(e,t),s=Er(e),l=[];o&&s&&!wr(s)&&!kr(l,s);){var u=s[t]
if(u){o=u===n
break}l.push(s),s=Er(s)}try{o&&(e[t]=i),i[sr]=1}catch(e){a[lr]=!1}}}return i}(this,t,e,r)||function(e,t,r){var n=t[e]
return n===r&&(n=Er(t)[e]),typeof n!==rr&&xr("["+e+"] is not a "+rr),n}(t,e,r)).apply(this,arguments)}
return r[ir]=1,r}if(!Pr(e)){var o=r[nr]=r[nr]||{},s=o[t]=o[t]||{}
!1!==o[lr]&&(o[lr]=!!i),Tr(r,function(t){Sr(r,t,!1)&&r[t]!==n[t]&&(s[t]=r[t],delete r[t],(!Cr(e,t)||e[t]&&!e[t][ir])&&(e[t]=a(e,t)))})}}function Mr(e,t){return Cr(e,tr)?e.name||t||dr:((e||{})[er]||{}).name||t||dr}function Rr(e,t,r,n){Cr(e,tr)||xr("theClass is an invalid class definition.")
var i=e[tr];(function(e,t){if(vr){for(var r=[],n=Er(t);n&&!wr(n)&&!kr(r,n);){if(n===e)return!0
r.push(n),n=Er(n)}return!1}return!0})(i,t)||xr("["+Mr(e)+"] not in hierarchy of ["+Mr(t)+"]")
var a=null
Cr(i,ar)?a=i[ar]:(a=or+Mr(e,"_")+"$"+Ir.n,Ir.n++,i[ar]=a)
var o=Rr[ur],s=!!o[mr]
s&&n&&void 0!==n[mr]&&(s=!!n[mr])
var l=function(e){var t={}
return Tr(e,function(r){!t[r]&&Sr(e,r,!1)&&(t[r]=e[r])}),t}(t)
r(t,function(e,t,r,n){function i(e,t,r){var i=t[r]
if(i[ir]&&n){var a=e[nr]||{}
!1!==a[lr]&&(i=(a[t[ar]]||{})[r]||i)}return function(){return i.apply(e,arguments)}}var a={}
Tr(r,function(e){a[e]=i(t,r,e)})
for(var o=Er(e),s=[];o&&!wr(o)&&!kr(s,o);)Tr(o,function(e){!a[e]&&Sr(o,e,!vr)&&(a[e]=i(t,o,e))}),s.push(o),o=Er(o)
return a}(i,t,l,s))
var u=!!vr&&!!o[hr]
u&&n&&(u=!!n[hr]),Ar(i,a,t,l,!1!==u)}Rr[ur]=Ir.o
var Dr="window",Or="document",Nr="navigator",Lr="history",Fr="location",Ur="console",jr="performance",zr="JSON",qr="crypto",Vr="msCrypto",Br="ReactNative",Hr="msie",Wr="trident/",$r="XMLHttpRequest",Gr=null,Kr=null,Xr=!1,Jr=null,Qr=null
function Yr(e,t){var r=!1
if(e){try{if(!(r=t in e)){var n=e[i]
n&&(r=t in n)}}catch(e){}if(!r)try{r=!lt((new e)[t])}catch(e){}}return r}function Zr(e){var t=f()
return t&&t[e]?t[e]:e===Dr&&en()?window:null}function en(){return Boolean(typeof window===r&&window)}function tn(){return en()?window:Zr(Dr)}function rn(){return Boolean(typeof document===r&&document)}function nn(){return rn()?document:Zr(Or)}function an(){return Boolean(typeof navigator===r&&navigator)}function on(){return an()?navigator:Zr(Nr)}function sn(){return Boolean(typeof history===r&&history)}function ln(e){if(e&&Xr){var t=Zr("__mockLocation")
if(t)return t}return typeof location===r&&location?location:Zr(Fr)}function un(){return Zr(jr)}function dn(){return Boolean(typeof JSON===r&&JSON||null!==Zr(zr))}function cn(){return dn()?JSON||Zr(zr):null}function fn(){var e=on()
return!(!e||!e.product)&&e.product===Br}function pn(){var e=on()
if(e&&(e[Z]!==Kr||null===Gr)){var t=((Kr=e[Z])||_e)[le]()
Gr=yt(t,Hr)||yt(t,Wr)}return Gr}function mn(e){var t=Object[i].toString[ue](e),r=_e
return"[object Error]"===t?r="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e[_]+"'":dn()&&(r=cn().stringify(e)),t+r}function hn(){return null===Qr&&(Qr=an()&&Boolean(on().sendBeacon)),Qr}function gn(e){var t=!1
try{t=!!Zr("fetch")
var r=Zr("Request")
t&&e&&r&&(t=Yr(r,"keepalive"))}catch(e){}return t}function vn(){return null===Jr&&(Jr=typeof XDomainRequest!==n)&&yn()&&(Jr=Jr&&!Yr(Zr($r),"withCredentials")),Jr}function yn(){var e=!1
try{e=!!Zr($r)}catch(e){}return e}var bn,_n=["eventsSent","eventsDiscarded","eventsSendRequest","perfEvent"],In=null
function Cn(e,t){return function(){var r=arguments,n=Pn(t)
if(n){var i=n.listener
i&&i[e]&&i[e][ie](i,r)}}}function Pn(e){var t,r=In
return r||!0===e.disableDbgExt||(r=In||((t=Zr("Microsoft"))&&(In=t.ApplicationInsights),In)),r?r.ChromeDbgExt:null}function wn(e){if(!bn){bn={}
for(var t=0;t<_n[x];t++)bn[_n[t]]=Cn(_n[t],e)}return bn}var En="AI (Internal): ",Tn="AI: ",Sn="AITR_"
function xn(e){return e?'"'+e[ae](/\"/g,_e)+'"':_e}function kn(e,t){var r=typeof console!==n?console:Zr(Ur)
if(r){var i="log"
r[e]&&(i=e),pt(r[i])&&r[i](t)}}var An=function(){function e(e,t,r,n){void 0===r&&(r=!1)
this[q]=e,this[V]=(r?Tn:En)+e
var i=_e
dn()&&(i=cn().stringify(n))
var a=(t?" message:"+xn(t):_e)+(n?" props:"+xn(i):_e)
this[V]+=a}return e.dataType="MessageData",e}()
function Mn(e,t){return(e||{})[S]||new Rn(t)}var Rn=function(){function e(t){this.identifier="DiagnosticLogger",this.queue=[]
var r,n,i,a,o=0,s={}
Rr(e,this,function(e){function l(t,r){if(!(o>=i)){var a=!0,l=Sn+r[q]
if(s[l]?a=!1:s[l]=!0,a&&(t<=n&&(e.queue[P](r),o++,u(1===t?"error":"warn",r)),o===i)){var d="Internal events throttle limit per PageView reached for this app.",c=new An(23,d,!1)
e.queue[P](c),1===t?e[De](d):e[Oe](d)}}}function u(e,r){var n=Pn(t||{})
n&&n[G]&&n[G](e,r)}(function(e){r=qt(e.loggingLevelConsole,0),n=qt(e.loggingLevelTelemetry,1),i=qt(e.maxMessageLimit,25),a=qt(e[oe],!1)})(t||{}),e.consoleLoggingLevel=function(){return r},e.telemetryLoggingLevel=function(){return n},e.maxInternalMessageLimit=function(){return i},e[oe]=function(){return a},e.throwInternal=function(t,n,i,o,d){void 0===d&&(d=!1)
var c=new An(n,i,d,o)
if(a)throw mn(c)
var f=1===t?De:Oe
if(lt(c[V]))u("throw"+(1===t?"Critical":"Warning"),c)
else{if(d){var p=+c[q]
!s[p]&&r>=t&&(e[f](c[V]),s[p]=!0)}else r>=t&&e[f](c[V])
l(t,c)}},e[Oe]=function(e){kn("warn",e),u("warning",e)},e[De]=function(e){kn("error",e),u("error",e)},e.resetInternalMessageCount=function(){o=0,s={}},e[se]=l})}return e.__ieDyn=1,e}()
function Dn(e){return e||new Rn}function On(e,t,r,n,i,a){void 0===a&&(a=!1),Dn(e).throwInternal(t,r,n,i,a)}function Nn(e,t){Dn(e)[Oe](t)}var Ln="ctx",Fn="ParentContextKey",Un="ChildrenContextKey",jn=null,zn=function(){function e(t,r,n){var i,a=this,o=!1;(a.start=Ft(),a[_]=t,a[B]=n,a[pe]=function(){return!1},pt(r))&&(o=Ot(a,"payload",function(){return!i&&pt(r)&&(i=r(),r=null),i}))
a[me]=function(t){return t?t===e[Fn]||t===e[Un]?a[t]:(a[Ln]||{})[t]:null},a[he]=function(t,r){if(t)if(t===e[Fn])a[t]||(a[pe]=function(){return!0}),a[t]=r
else if(t===e[Un])a[t]=r
else{(a[Ln]=a[Ln]||{})[t]=r}},a[ge]=function(){var t=0,n=a[me](e[Un])
if(bt(n))for(var i=0;i<n[x];i++){var s=n[i]
s&&(t+=s[k])}a[k]=Ft()-a.start,a.exTime=a[k]-t,a[ge]=function(){},!o&&pt(r)&&(a.payload=r())}}return e.ParentContextKey="parent",e.ChildrenContextKey="childEvts",e}(),qn=function(){function e(t){this.ctx={},Rr(e,this,function(e){e.create=function(e,t,r){return new zn(e,t,r)},e.fire=function(e){e&&(e[ge](),t&&pt(t[Re])&&t[Re](e))},e[he]=function(t,r){t&&((e[Ln]=e[Ln]||{})[t]=r)},e[me]=function(t){return(e[Ln]||{})[t]}})}return e.__ieDyn=1,e}(),Vn="CoreUtils.doPerf"
function Bn(e,t,r,n,i){if(e){var a=e
if(a[Ne]&&(a=a[Ne]()),a){var o=void 0,s=a[me](Vn)
try{if(o=a.create(t(),n,i)){if(s&&o[he]&&(o[he](zn[Fn],s),s[me]&&s[he])){var l=s[me](zn[Un])
l||(l=[],s[he](zn[Un],l)),l[P](o)}return a[he](Vn,o),r(o)}}catch(e){o&&o[he]&&o[he]("exception",e)}finally{o&&a.fire(o),a[he](Vn,s)}}}return r()}var Hn=4294967296,Wn=4294967295,$n=!1,Gn=123456789,Kn=987654321
function Xn(e){e<0&&(e>>>=0),Gn=123456789+e&Wn,Kn=987654321-e&Wn,$n=!0}function Jn(){try{var e=2147483647&Ft()
Xn((Math.random()*Hn^e)+e)}catch(e){}}function Qn(e){var t=0,r=Zr(qr)||Zr(Vr)
return r&&r.getRandomValues&&(t=r.getRandomValues(new Uint32Array(1))[0]&Wn),0===t&&pn()&&($n||Jn(),t=Yn()&Wn),0===t&&(t=Math.floor(Hn*Math.random()|0)),e||(t>>>=0),t}function Yn(e){var t=((Kn=36969*(65535&Kn)+(Kn>>16)&Wn)<<16)+(65535&(Gn=18e3*(65535&Gn)+(Gn>>16)&Wn))>>>0&Wn|0
return e||(t>>>=0),t}function Zn(e){void 0===e&&(e=22)
for(var t=Qn()>>>0,r=0,n=_e;n[x]<e;)r++,n+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&t),t>>>=6,5===r&&(t=(Qn()<<2&4294967295|3&t)>>>0,r=0)
return n}var ei=u,ti="2.8.9",ri="."+Zn(6),ni=0
function ii(e){return 1===e[ne]||9===e[ne]||!+e[ne]}function ai(e,t){var r=t[e.id]
if(!r){r={}
try{ii(t)&&(function(e,t,r){if(ei)try{return ei(e,t,{value:r,enumerable:!1,configurable:!0}),!0}catch(e){}return!1}(t,e.id,r)||(t[e.id]=r))}catch(e){}}return r}function oi(e,t){return void 0===t&&(t=!1),mt(e+ni+++(t?"."+ti:_e)+ri)}function si(e){var t={id:oi("_aiData-"+(e||_e)+"."+ti),accept:function(e){return ii(e)},get:function(e,r,n,i){var a=e[t.id]
return a?a[mt(r)]:(i&&((a=ai(t,e))[mt(r)]=n),n)},kill:function(e,t){if(e&&e[t])try{delete e[t]}catch(e){}}}
return t}var li="toGMTString",ui="toUTCString",di="cookie",ci="expires",fi="enabled",pi="isCookieUseDisabled",mi="disableCookiesUsage",hi="_ckMgr",gi=null,vi=null,yi=null,bi=nn(),_i={},Ii={}
function Ci(e){return!e||e.isEnabled()}function Pi(e,t){return!!(t&&e&&bt(e.ignoreCookies))&&-1!==e.ignoreCookies[Q](t)}function wi(e,t){var r
if(e)r=e.getCookieMgr()
else if(t){var n=t[J]
r=n[hi]?n[hi]:Ei(t)}return r||(r=function(e,t){var r=Ei[hi]||Ii[hi]
return r||(r=Ei[hi]=Ei(e,t),Ii[hi]=r),r}(t,(e||{})[S])),r}function Ei(e,t){var r,n=function(e){var t=e[J]=e[J]||{}
if(jt(t,"domain",e.cookieDomain,dt,ut),jt(t,"path",e.cookiePath||"/",null,ut),ut(t[fi])){var r=void 0
lt(e[pi])||(r=!e[pi]),lt(e[mi])||(r=!e[mi]),t[fi]=r}return t}(e||Ii),i=n.path||"/",a=n.domain,o=!1!==n[fi],s=((r={isEnabled:function(){var e=o&&Ti(t),r=Ii[hi]
return e&&r&&s!==r&&(e=Ci(r)),e}})[te]=function(e){o=!1!==e},r.set=function(e,t,r,o,l){var u=!1
if(Ci(s)&&!function(e,t){return!!(t&&e&&bt(e.blockedCookies)&&-1!==e.blockedCookies[Q](t))||Pi(e,t)}(n,e)){var d={},c=At(t||_e),f=c[Q](";")
if(-1!==f&&(c=At(t[Y](0,f)),d=Si(t[Y](f+1))),jt(d,"domain",o||a,Vt,lt),!ut(r)){var p=pn()
if(lt(d[ci])){var m=Ft()+1e3*r
if(m>0){var h=new Date
h.setTime(m),jt(d,ci,xi(h,p?li:ui)||xi(h,p?li:ui)||_e,Vt)}}p||jt(d,"max-age",_e+r,null,lt)}var g=ln()
g&&"https:"===g.protocol&&(jt(d,"secure",null,null,lt),null===vi&&(vi=!Mi((on()||{})[Z])),vi&&jt(d,"SameSite","None",null,lt)),jt(d,"path",l||i,null,lt),(n.setCookie||Ai)(e,ki(c,d)),u=!0}return u},r.get=function(e){var t=_e
return Ci(s)&&!Pi(n,e)&&(t=(n.getCookie||function(e){var t=_e
if(bi){var r=bi[di]||_e
yi!==r&&(_i=Si(r),yi=r),t=At(_i[e]||_e)}return t})(e)),t},r.del=function(e,t){var r=!1
return Ci(s)&&(r=s.purge(e,t)),r},r.purge=function(e,r){var i,a=!1
if(Ti(t)){var o=((i={}).path=r||"/",i[ci]="Thu, 01 Jan 1970 00:00:01 GMT",i)
pn()||(o["max-age"]="0"),(n.delCookie||Ai)(e,ki(_e,o)),a=!0}return a},r)
return s[hi]=s,s}function Ti(e){if(null===gi){gi=!1
try{gi=void 0!==(bi||{})[di]}catch(t){On(e,2,68,"Cannot access document.cookie - "+Ut(t),{exception:mn(t)})}}return gi}function Si(e){var t={}
e&&e[x]&&Tt(At(e)[ee](";"),function(e){if(e=At(e||_e)){var r=e[Q]("=");-1===r?t[e]=null:t[At(e[Y](0,r))]=At(e[Y](r+1))}})
return t}function xi(e,t){return pt(e[t])?e[t]():null}function ki(e,t){var r=e||_e
return ht(t,function(e,t){r+="; "+e+(ut(t)?_e:"="+t)}),r}function Ai(e,t){bi&&(bi[di]=e+"="+t)}function Mi(e){return!!It(e)&&(!(!yt(e,"CPU iPhone OS 12")&&!yt(e,"iPad; CPU OS 12"))||(!!(yt(e,"Macintosh; Intel Mac OS X 10_14")&&yt(e,"Version/")&&yt(e,"Safari"))||(!(!yt(e,"Macintosh; Intel Mac OS X 10_14")||!gt(e,"AppleWebKit/605.1.15 (KHTML, like Gecko)"))||(!(!yt(e,"Chrome/5")&&!yt(e,"Chrome/6"))||(!(!yt(e,"UnrealEngine")||yt(e,"Chrome"))||!(!yt(e,"UCBrowser/12")&&!yt(e,"UCBrowser/11")))))))}var Ri="on",Di="attachEvent",Oi="addEventListener",Ni="detachEvent",Li="removeEventListener",Fi="events",Ui="visibilitychange",ji="pagehide",zi="pageshow",qi="unload",Vi="beforeunload",Bi=oi("aiEvtPageHide"),Hi=oi("aiEvtPageShow"),Wi=/\.[\.]+/g,$i=/[\.]+$/,Gi=1,Ki=si("events"),Xi=/^([^.]*)(?:\.(.+)|)/
function Ji(e){return e&&e[ae]?e[ae](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,_e):e}function Qi(e,t){var r
if(t){var n=_e
bt(t)?(n=_e,Tt(t,function(e){(e=Ji(e))&&("."!==e[0]&&(e="."+e),n+=e)})):n=Ji(t),n&&("."!==n[0]&&(n="."+n),e=(e||_e)+n)}var i=Xi.exec(e||_e)||[]
return(r={})[de]=i[1],r.ns=(i[2]||_e).replace(Wi,".").replace($i,_e)[ee](".").sort().join("."),r}function Yi(e,t,r){void 0===r&&(r=!0)
var n=Ki.get(e,Fi,{},r),i=n[t]
return i||(i=n[t]=[]),i}function Zi(e,t,r,n){e&&t&&t[de]&&(e[Li]?e[Li](t[de],r,n):e[Ni]&&e[Ni](Ri+t[de],r))}function ea(e,t,r,n){for(var i=t[x];i--;){var a=t[i]
a&&(r.ns&&r.ns!==a.evtName.ns||n&&!n(a)||(Zi(e,a.evtName,a[ce],a.capture),t[j](i,1)))}}function ta(e,t){return t?Qi("xx",bt(t)?[e].concat(t):[e,t]).ns[ee]("."):e}function ra(e,t,r,n,i){var a
void 0===i&&(i=!1)
var o=!1
if(e)try{var s=Qi(t,n)
if((o=function(e,t,r,n){var i=!1
return e&&t&&t[de]&&r&&(e[Oi]?(e[Oi](t[de],r,n),i=!0):e[Di]&&(e[Di](Ri+t[de],r),i=!0)),i}(e,s,r,i))&&Ki.accept(e)){var l=((a={guid:Gi++,evtName:s})[ce]=r,a.capture=i,a)
Yi(e,s.type)[P](l)}}catch(e){}return o}function na(e,t,r,n,i){if(void 0===i&&(i=!1),e)try{var a=Qi(t,n),o=!1;(function(e,t,r){if(t[de])ea(e,Yi(e,t[de]),t,r)
else{var n=Ki.get(e,Fi,{})
ht(n,function(n,i){ea(e,i,t,r)}),0===Dt(n)[x]&&Ki.kill(e,Fi)}})(e,a,function(e){return!((!a.ns||r)&&e[ce]!==r)&&(o=!0,!0)}),o||Zi(e,a,r,i)}catch(e){}}function ia(e,t,r){var n=!1,i=tn()
i&&(n=ra(i,e,t,r),n=ra(i.body,e,t,r)||n)
var a=nn()
return a&&(n=ra(a,e,t,r)||n),n}function aa(e,t,r,n){var i=!1
return t&&e&&e[x]>0&&Tt(e,function(e){e&&(r&&-1!==St(r,e)||(i=ia(e,t,n)||i))}),i}function oa(e,t,r){e&&bt(e)&&Tt(e,function(e){e&&function(e,t,r){var n=tn()
n&&(na(n,e,t,r),na(n.body,e,t,r))
var i=nn()
i&&na(i,e,t,r)}(e,t,r)})}function sa(e,t,r){return function(e,t,r,n){var i=!1
return t&&e&&bt(e)&&!(i=aa(e,t,r,n))&&r&&r[x]>0&&(i=aa(e,t,null,n)),i}([Vi,qi,ji],e,t,r)}function la(e,t){oa([Vi,qi,ji],e,t)}function ua(e,t,r){var n=ta(Bi,r),i=aa([ji],e,t,n)
return t&&-1!==St(t,Ui)||(i=aa([Ui],function(t){var r=nn()
e&&r&&"hidden"===r.visibilityState&&e(t)},t,n)||i),!i&&t&&(i=ua(e,null,r)),i}function da(e,t){var r=ta(Bi,t)
oa([ji],e,r),oa([Ui],null,r)}function ca(){var e=pa()
return e[Y](0,8)+"-"+e[Y](8,12)+"-"+e[Y](12,16)+"-"+e[Y](16,20)+"-"+e[Y](20)}function fa(){var e=un()
return e&&e.now?e.now():Ft()}function pa(){for(var e,t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],r=_e,n=0;n<4;n++)r+=t[15&(e=Qn())]+t[e>>4&15]+t[e>>8&15]+t[e>>12&15]+t[e>>16&15]+t[e>>20&15]+t[e>>24&15]+t[e>>28&15]
var i=t[8+(3&Qn())|0]
return r[re](0,8)+r[re](9,4)+"4"+r[re](13,3)+i+r[re](16,3)+r[re](19,12)}var ma="00000000000000000000000000000000",ha="0000000000000000"
function ga(e,t,r){return!(!e||e[x]!==t||e===r)&&!!e.match(/^[\da-f]*$/)}function va(e){return ga(e,32,ma)}function ya(e){return ga(e,16,ha)}var ba=si("plugin")
function _a(e){return ba.get(e,"state",{},!0)}function Ia(e,t){for(var r,n=[],i=null,a=e[$]();a;){var o=a[L]()
if(o){i&&pt(i[K])&&pt(o[Se])&&i[K](o);(pt(o[w])?o[w]():(r=_a(o))[w])||n[P](o),i=o,a=a[$]()}}Tt(n,function(n){var i=e[Ce]()
n[b](e.getCfg(),i,t,e[$]()),r=_a(n),n[Ce]||r[Ce]||(r[Ce]=i),r[w]=!0,delete r[z]})}function Ca(e){return e.sort(function(e,t){var r=0
if(t){var n=pt(t[Se])
pt(e[Se])?r=n?e[xe]-t[xe]:1:n&&(r=-1)}else r=e?1:-1
return r})}var Pa="TelemetryPluginChain",wa="_hasRun",Ea="_getTelCtx",Ta=0
function Sa(e,t,r,n){var i=null,a=[]
null!==n&&(i=n?function(e,t,r){for(;e;){if(e[L]()===r)return e
e=e[$]()}return Ma([r],t[E]||{},t)}(e,r,n):e)
var o={_next:function(){var e=i
if(i=e?e[$]():null,!e){var t=a
t&&t[x]>0&&(Tt(t,function(e){try{e.func[ue](e.self,e.args)}catch(e){On(r[S],2,73,"Unexpected Exception during onComplete - "+mn(e))}}),a=[])}return e},ctx:{core:function(){return r},diagLog:function(){return Mn(r,t)},getCfg:function(){return t},getExtCfg:s,getConfig:function(e,r,n){void 0===n&&(n=!1)
var i,a=s(e,null)
a&&!ut(a[r])?i=a[r]:t&&!ut(t[r])&&(i=t[r])
return ut(i)?n:i},hasNext:function(){return!!i},getNext:function(){return i},setNext:function(e){i=e},iterate:function(e){var t
for(;t=o._next();){var r=t[L]()
r&&e(r)}},onComplete:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n]
e&&a[P]({func:e,self:lt(t)?o.ctx:t,args:r})}}}
function s(e,r,n){var i
if(void 0===r&&(r={}),void 0===n&&(n=0),t){var a=t[Ee]
a&&e&&(i=a[e])}if(i){if(ft(r)&&0!==n){var o=Kt(!0,r,i)
t&&2===n&&ht(r,function(e){if(ut(o[e])){var r=t[e]
ut(r)||(o[e]=r)}}),i=o}}else i=r
return i}return o}function xa(e,t,r,n){var i=Sa(e,t,r,n),a=i.ctx
return a[A]=function(e){var t=i._next()
return t&&t[Se](e,a),!t},a[X]=function(e,n){return void 0===e&&(e=null),bt(e)&&(e=Ma(e,t,r,n)),xa(e||a[$](),t,r,n)},a}function ka(e,t,r){var n=t[E]||{},i=Sa(e,n,t,r),a=i.ctx
return a[A]=function(e){var t=i._next()
return t&&t.unload(a,e),!t},a[X]=function(e,r){return void 0===e&&(e=null),bt(e)&&(e=Ma(e,n,t,r)),ka(e||a[$](),t,r)},a}function Aa(e,t,r){var n=t[E]||{},i=Sa(e,n,t,r).ctx
return i[A]=function(e){return i.iterate(function(t){pt(t[W])&&t[W](i,e)})},i[X]=function(e,r){return void 0===e&&(e=null),bt(e)&&(e=Ma(e,n,t,r)),Aa(e||i[$](),t,r)},i}function Ma(e,t,r,n){var i=null,a=!n
if(bt(e)&&e[x]>0){var o=null
Tt(e,function(e){if(a||n!==e||(a=!0),a&&e&&pt(e[Se])){var s=function(e,t,r){var n,i=null,a=pt(e[Se]),o=pt(e[K])
n=e?e[C]+"-"+e[xe]+"-"+Ta++:"Unknown-0-"+Ta++
var s={getPlugin:function(){return e},getNext:function(){return i},processTelemetry:function(n,u){l(u=u||function(){var n
return e&&pt(e[Ea])&&(n=e[Ea]()),n||(n=xa(s,t,r)),n}(),function(t){if(!e||!a)return!1
var r=_a(e)
return!r[z]&&!r[we]&&(o&&e[K](i),e[Se](n,t),!0)},"processTelemetry",function(){return{item:n}},!n.sync)||u[A](n)},unload:function(t,r){l(t,function(){var n=!1
if(e){var i=_a(e),a=e[Ce]||i[Ce]
!e||a&&a!==t.core()||i[z]||(i[Ce]=null,i[z]=!0,i[w]=!1,e[z]&&!0===e[z](t,r)&&(n=!0))}return n},"unload",function(){},r[B])||t[A](r)},update:function(t,r){l(t,function(){var n=!1
if(e){var i=_a(e),a=e[Ce]||i[Ce]
!e||a&&a!==t.core()||i[z]||e[W]&&!0===e[W](t,r)&&(n=!0)}return n},"update",function(){},!1)||t[A](r)},_id:n,_setNext:function(e){i=e}}
function l(t,r,a,o,s){var l=!1,u=e?e[C]:Pa,d=t[wa]
return d||(d=t[wa]={}),t.setNext(i),e&&Bn(t[Ce](),function(){return u+":"+a},function(){d[n]=!0
try{var e=i?i._id:_e
e&&(d[e]=!1),l=r(t)}catch(e){var o=!i||d[i._id]
o&&(l=!0),i&&o||On(t[G](),1,73,"Plugin ["+u+"] failed during "+a+" - "+mn(e)+", run flags: "+mn(d))}},o,s),l}return Lt(s)}(e,t,r)
i||(i=s),o&&o._setNext(s),o=s}})}return n&&!i?Ma([n],t,r):i}var Ra=500,Da="Channel has invalid priority - "
function Oa(e,t,r){t&&bt(t)&&t[x]>0&&(Tt(t=t.sort(function(e,t){return e[xe]-t[xe]}),function(e){e[xe]<Ra&&Bt(Da+e[C])}),e[P]({queue:Lt(t),chain:Ma(t,r[E],r)}))}function Na(){var e=[]
return{add:function(t){t&&e[P](t)},run:function(t,r){Tt(e,function(e){try{e(t,r)}catch(e){On(t[G](),2,73,"Unexpected error calling unload handler - "+mn(e))}}),e=[]}}}var La="getPlugin",Fa=function(){function e(){var t,r,n,i,a,o=this
function s(e){void 0===e&&(e=null)
var t=e
if(!t){var i=r||xa(null,{},o[Ce])
t=n&&n[La]?i[X](null,n[La]):i[X](null,n)}return t}function l(e,t,i){e&&jt(e,Ee,[],null,ut),!i&&t&&(i=t[M]()[$]())
var a=n
n&&n[La]&&(a=n[La]()),o[Ce]=t,r=xa(i,e,t,a)}function u(){t=!1,o[Ce]=null,r=null,n=null,a=[],i=Na()}u(),Rr(e,o,function(e){e[b]=function(e,r,n,i){l(e,r,i),t=!0},e[z]=function(t,r){var o,s=e[Ce]
if(s&&(!t||s===t[Ce]())){var l,d=!1,c=t||ka(null,s,n&&n[La]?n[La]():n),f=r||((o={reason:0})[B]=!1,o)
return e[H]&&!0===e[H](c,f,p)?l=!0:p(),l}function p(){if(!d){d=!0,i.run(c,r)
var e=a
a=[],Tt(e,function(e){e.rm()}),!0===l&&c[A](f),u()}}},e[W]=function(t,r){var i=e[Ce]
if(i&&(!t||i===t[Ce]())){var a,o=!1,s=t||Aa(null,i,n&&n[La]?n[La]():n),u=r||{reason:0}
return e._doUpdate&&!0===e._doUpdate(s,u,d)?a=!0:d(),a}function d(){o||(o=!0,l(s.getCfg(),s.core(),s[$]()))}},e._addHook=function(e){e&&(bt(e)?a=a.concat(e):a[P](e))},Wt(e,"_addUnloadCb",function(){return i},"add")}),o[G]=function(e){return s(e)[G]()},o[w]=function(){return t},o.setInitialized=function(e){t=e},o[K]=function(e){n=e},o[A]=function(e,t){t?t[A](e):n&&pt(n[Se])&&n[Se](e,null)},o._getTelCtx=s}return e.__ieDyn=1,e}(),Ua=function(e){function t(){var r,n,i=e.call(this)||this
function a(){r=0,n=[]}return i.identifier="TelemetryInitializerPlugin",i.priority=199,a(),Rr(t,i,function(e,t){e.addTelemetryInitializer=function(e){var t={id:r++,fn:e}
return n[P](t),{remove:function(){Tt(n,function(e,r){if(e.id===t.id)return n[j](r,1),-1})}}},e[Se]=function(t,r){for(var i=!1,a=n[x],o=0;o<a;++o){var s=n[o]
if(s)try{if(!1===s.fn[ie](null,[t])){i=!0
break}}catch(e){On(r[G](),1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+Ut(e),{exception:mn(e)},!0)}}i||e[A](t,r)},e[H]=function(){a()}}),i}return v(t,e),t.__ieDyn=1,t}(Fa),ja="Plugins must provide initialize method",za="_notificationManager",qa="SDK is still unloading...",Va="SDK is not initialized",Ba={loggingLevelConsole:1}
function Ha(e,t){return new qn(t)}function Wa(e,t){var r=!1
return Tt(t,function(t){if(t===e)return r=!0,-1}),r}var $a=function(){function e(){var t,r,n,i,a,o,s,l,u,d,c,f,p,h,g,v,H,W,$,G,K=0
Rr(e,this,function(e){function J(){r=!1,t=Kt(!0,{},Ba),e[E]=t,e[S]=new Rn(t),e[U]=[],g=new Ua,n=[],i=null,a=null,o=null,s=null,l=null,d=null,u=[],c=null,f=null,p=null,h=!1,v=null,H=oi("AIBaseCore",!0),W=Na(),G=null}function Q(){return xa(ee(),t,e)}function Y(r){var n=function(e,t,r){var n,i=[],a={}
return Tt(r,function(r){(ut(r)||ut(r[b]))&&Bt(ja)
var n=r[xe],o=r[C]
r&&n&&(ut(a[n])?a[n]=o:Nn(e,"Two extensions have same priority #"+n+" - "+a[n]+", "+o)),(!n||n<t)&&i[P](r)}),(n={all:r})[Ce]=i,n}(e[S],Ra,u)
d=n[Ce],l=null
var i=n.all
if(p=Lt(function(e,t,r){var n=[]
if(e&&Tt(e,function(e){return Oa(n,e,r)}),t){var i=[]
Tt(t,function(e){e[xe]>Ra&&i[P](e)}),Oa(n,i,r)}return n}(f,i,e)),c){var a=St(i,c);-1!==a&&i[j](a,1),-1!==(a=St(d,c))&&d[j](a,1),c._setQueue(p)}else c=function(e,t){function r(){return xa(null,t[E],t,null)}function n(e,t,r,n){var i=e?e[x]+1:1
function a(){0==--i&&(n&&n(),n=null)}i>0&&Tt(e,function(e){if(e&&e.queue[x]>0){var n=e.chain,o=t[X](n)
o[N](a),r(o)}else i--}),a()}var i=!1
return{identifier:"ChannelControllerPlugin",priority:Ra,initialize:function(t,r,n,a){i=!0,Tt(e,function(e){e&&e.queue[x]>0&&Ia(xa(e.chain,t,r),n)})},isInitialized:function(){return i},processTelemetry:function(t,i){n(e,i||r(),function(e){e[A](t)},function(){i[A](t)})},update:function(t,r){var i=r||{reason:0}
return n(e,t,function(e){e[A](i)},function(){t[A](i)}),!0},pause:function(){n(e,r(),function(e){e.iterate(function(e){e.pause&&e.pause()})},null)},resume:function(){n(e,r(),function(e){e.iterate(function(e){e.resume&&e.resume()})},null)},teardown:function(t,r){var a=r||{reason:0,isAsync:!1}
return n(e,t,function(e){e[A](a)},function(){t[A](a),i=!1}),!0},getChannel:function(t){var r=null
return e&&e[x]>0&&Tt(e,function(e){if(e&&e.queue[x]>0&&(Tt(e.queue,function(e){if(e[C]===t)return r=e,-1}),r))return-1}),r},flush:function(t,i,a,o){var s=1,l=!1,u=null
function d(){s--,l&&0===s&&(u&&(clearTimeout(u),u=null),i&&i(l),i=null)}return o=o||5e3,n(e,r(),function(e){e.iterate(function(e){if(e[F]){s++
var r=!1
e[F](t,function(){r=!0,d()},a)||r||(t&&null==u?u=setTimeout(function(){u=null,d()},o):d())}})},function(){l=!0,d()}),!0},_setQueue:function(t){e=t}}}(p,e)
i[P](c),d[P](c),e[U]=Ca(i),c[b](t,e,i),Ia(Q(),i),e[U]=Lt(Ca(d||[])).slice(),r&&function(t){var r=Aa(ee(),e)
e._updateHook&&!0===e._updateHook(r,t)||r[A](t)}(r)}function Z(t){var r,n=null,i=null
return Tt(e[U],function(e){if(e[C]===t&&e!==c&&e!==g)return i=e,-1}),!i&&c&&(i=c.getChannel(t)),i&&((r={plugin:i})[te]=function(e){_a(i)[we]=!e},r.isEnabled=function(){var e=_a(i)
return!e[z]&&!e[we]},r.remove=function(e,t){var r
void 0===e&&(e=!0)
var n=[i],a=((r={reason:1})[B]=e,r)
re(n,a,function(e){e&&Y({reason:32,removed:n}),t&&t(e)})},n=r),n}function ee(){if(!l){var r=(d||[]).slice();-1===St(r,g)&&r[P](g),l=Ma(Ca(r),t,e)}return l}function re(r,n,i){if(r&&r[x]>0){var a=ka(Ma(r,t,e),e)
a[N](function(){var e=!1,t=[]
Tt(u,function(n,i){Wa(n,r)?e=!0:t[P](n)}),u=t
var n=[]
f&&(Tt(f,function(t,i){var a=[]
Tt(t,function(t){Wa(t,r)?e=!0:a[P](t)}),n[P](a)}),f=n),i&&i(e)}),a[A](n)}else i(!1)}function ne(){var r=e[S]?e[S].queue:[]
r&&(Tt(r,function(r){var n,i=((n={})[_]=v||"InternalMessageId: "+r[q],n.iKey=qt(t[T]),n.time=Et(new Date),n.baseType=An.dataType,n.baseData={message:r[V]},n)
e.track(i)}),r[x]=0)}function ie(e,t,r,n){return c?c[F](e,t,r||6,n):(t&&t(!1),!0)}function ae(t){var r=e[S]
r?On(r,2,73,t):Bt(t)}J(),e[w]=function(){return r},e[b]=function(n,a,s,l){h&&Bt(qa),e[w]()&&Bt("Core should not be initialized more than once"),t=n||{},e[E]=t,ut(n[T])&&Bt("Please provide instrumentation key"),i=l,e[za]=l,function(){var e=qt(t.disableDbgExt)
!0===e&&$&&(i[D]($),$=null)
i&&!$&&!0!==e&&($=wn(t),i[R]($))}(),function(){var e=qt(t.enablePerfMgr)
!e&&o&&(o=null)
e&&zt(t,Pe,Ha)}(),zt(t,Ee,{}).NotificationManager=i,s&&(e[S]=s)
var d=zt(t,Te,[]);(u=[])[P].apply(u,y(y([],a),d)),f=zt(t,Ie,[]),Y(null),p&&0!==p[x]||Bt("No "+Ie+" available"),r=!0,e.releaseQueue()},e.getTransmissionControls=function(){var e=[]
return p&&Tt(p,function(t){e[P](t.queue)}),Lt(e)},e.track=function(r){r.iKey=r.iKey||t[T],r[k]=r[k]||Et(new Date),r.ver=r.ver||"4.0",!h&&e[w]()?Q()[A](r):n[P](r)},e[M]=Q,e[I]=function(){var t
return i||(i=m(((t={})[R]=function(e){},t[D]=function(e){},t[ke]=function(e){},t[Ae]=function(e,t){},t[Me]=function(e,t){},t)),e[za]=i),i},e[R]=function(e){i&&i[R](e)},e[D]=function(e){i&&i[D](e)},e.getCookieMgr=function(){return s||(s=Ei(t,e[S])),s},e.setCookieMgr=function(e){s=e},e[Ne]=function(){if(!a&&!o&&qt(t.enablePerfMgr)){var r=qt(t[Pe])
pt(r)&&(o=r(e,e[I]()))}return a||o||jn},e.setPerfMgr=function(e){a=e},e.eventCnt=function(){return n[x]},e.releaseQueue=function(){if(r&&n[x]>0){var e=n
n=[],Tt(e,function(e){Q()[A](e)})}},e.pollInternalLogs=function(e){v=e||null
var r=qt(t.diagnosticLogInterval)
return r&&r>0||(r=1e4),K&&clearInterval(K),K=setInterval(function(){ne()},r)},e[O]=function(){K&&(clearInterval(K),K=0,ne())},$t(e,function(){return g},["addTelemetryInitializer"]),e.unload=function(t,n,i){var a
void 0===t&&(t=!0),r||Bt(Va),h&&Bt(qa)
var o=((a={reason:50})[B]=t,a.flushComplete=!1,a),s=ka(ee(),e)
function l(t){o.flushComplete=t,h=!0,W.run(s,o),e[O](),s[A](o)}s[N](function(){J(),n&&n(o)},e),ie(t,l,6,i)||l(!1)},e[L]=Z,e.addPlugin=function(e,t,r,n){if(!e)return n&&n(!1),void ae(ja)
var i=Z(e[C])
if(i&&!t)return n&&n(!1),void ae("Plugin ["+e[C]+"] is already loaded!")
var a={reason:16}
function o(t){u[P](e),a.added=[e],Y(a),n&&n(!0)}if(i){var s=[i.plugin]
re(s,{reason:2,isAsync:!!r},function(e){e?(a.removed=s,a.reason|=32,o()):n&&n(!1)})}else o()},e.evtNamespace=function(){return H},e[F]=ie,e.getTraceCtx=function(e){var t,r
return G||(r={},G={getName:function(){return r[_]},setName:function(e){t&&t.setName(e),r[_]=e},getTraceId:function(){return r[ve]},setTraceId:function(e){t&&t.setTraceId(e),va(e)&&(r[ve]=e)},getSpanId:function(){return r[ye]},setSpanId:function(e){t&&t.setSpanId(e),ya(e)&&(r[ye]=e)},getTraceFlags:function(){return r[be]},setTraceFlags:function(e){t&&t.setTraceFlags(e),r[be]=e}}),G},e.setTraceCtx=function(e){G=e||null},Wt(e,"addUnloadCb",function(){return W},"add")})}return e.__ieDyn=1,e}()
function Ga(e,t,r,n){Tt(e,function(e){if(e&&e[t])if(r)setTimeout(function(){return n(e)},0)
else try{n(e)}catch(e){}})}var Ka,Xa=function(){function e(t){this.listeners=[]
var r=!!(t||{}).perfEvtsSendAll
Rr(e,this,function(e){e[R]=function(t){e.listeners[P](t)},e[D]=function(t){for(var r=St(e[fe],t);r>-1;)e.listeners[j](r,1),r=St(e[fe],t)},e[ke]=function(t){Ga(e[fe],ke,!0,function(e){e[ke](t)})},e[Ae]=function(t,r){Ga(e[fe],Ae,!0,function(e){e[Ae](t,r)})},e[Me]=function(t,r){Ga(e[fe],Me,r,function(e){e[Me](t,r)})},e[Re]=function(t){t&&(!r&&t[pe]()||Ga(e[fe],Re,!1,function(e){t[B]?setTimeout(function(){return e[Re](t)},0):e[Re](t)}))}})}return e.__ieDyn=1,e}(),Ja=function(e){function t(){var r=e.call(this)||this
return Rr(t,r,function(e,t){function r(t){var r=e[I]()
r&&r[Ae]([t],2)}e[b]=function(e,r,n,i){t[b](e,r,n||new Rn(e),i||new Xa(e))},e.track=function(n){Bn(e[Ne](),function(){return"AppInsightsCore:track"},function(){null===n&&(r(n),Bt("Invalid telemetry item")),function(e){ut(e[_])&&(r(e),Bt("telemetry name required"))}(n),t.track(n)},function(){return{item:n}},!n.sync)}}),r}return v(t,e),t.__ieDyn=1,t}($a)
Xt({CRITICAL:1,WARNING:2})
var Qa=Xt(((Ka={}).BrowserDoesNotSupportLocalStorage=0,Ka.BrowserCannotReadLocalStorage=1,Ka.BrowserCannotReadSessionStorage=2,Ka.BrowserCannotWriteLocalStorage=3,Ka.BrowserCannotWriteSessionStorage=4,Ka.BrowserFailedRemovalFromLocalStorage=5,Ka.BrowserFailedRemovalFromSessionStorage=6,Ka.CannotSendEmptyTelemetry=7,Ka.ClientPerformanceMathError=8,Ka.ErrorParsingAISessionCookie=9,Ka.ErrorPVCalc=10,Ka.ExceptionWhileLoggingError=11,Ka.FailedAddingTelemetryToBuffer=12,Ka.FailedMonitorAjaxAbort=13,Ka.FailedMonitorAjaxDur=14,Ka.FailedMonitorAjaxOpen=15,Ka.FailedMonitorAjaxRSC=16,Ka.FailedMonitorAjaxSend=17,Ka.FailedMonitorAjaxGetCorrelationHeader=18,Ka.FailedToAddHandlerForOnBeforeUnload=19,Ka.FailedToSendQueuedTelemetry=20,Ka.FailedToReportDataLoss=21,Ka.FlushFailed=22,Ka.MessageLimitPerPVExceeded=23,Ka.MissingRequiredFieldSpecification=24,Ka.NavigationTimingNotSupported=25,Ka.OnError=26,Ka.SessionRenewalDateIsZero=27,Ka.SenderNotInitialized=28,Ka.StartTrackEventFailed=29,Ka.StopTrackEventFailed=30,Ka.StartTrackFailed=31,Ka.StopTrackFailed=32,Ka.TelemetrySampledAndNotSent=33,Ka.TrackEventFailed=34,Ka.TrackExceptionFailed=35,Ka.TrackMetricFailed=36,Ka.TrackPVFailed=37,Ka.TrackPVFailedCalc=38,Ka.TrackTraceFailed=39,Ka.TransmissionFailed=40,Ka.FailedToSetStorageBuffer=41,Ka.FailedToRestoreStorageBuffer=42,Ka.InvalidBackendResponse=43,Ka.FailedToFixDepricatedValues=44,Ka.InvalidDurationValue=45,Ka.TelemetryEnvelopeInvalid=46,Ka.CreateEnvelopeError=47,Ka.CannotSerializeObject=48,Ka.CannotSerializeObjectNonSerializable=49,Ka.CircularReferenceDetected=50,Ka.ClearAuthContextFailed=51,Ka.ExceptionTruncated=52,Ka.IllegalCharsInName=53,Ka.ItemNotInArray=54,Ka.MaxAjaxPerPVExceeded=55,Ka.MessageTruncated=56,Ka.NameTooLong=57,Ka.SampleRateOutOfRange=58,Ka.SetAuthContextFailed=59,Ka.SetAuthContextFailedAccountName=60,Ka.StringValueTooLong=61,Ka.StartCalledMoreThanOnce=62,Ka.StopCalledWithoutStart=63,Ka.TelemetryInitializerFailed=64,Ka.TrackArgumentsNotSpecified=65,Ka.UrlTooLong=66,Ka.SessionStorageBufferFull=67,Ka.CannotAccessCookie=68,Ka.IdTooLong=69,Ka.InvalidEvent=70,Ka.FailedMonitorAjaxSetRequestHeader=71,Ka.SendBrowserInfoOnUserInit=72,Ka.PluginException=73,Ka.NotificationException=74,Ka.SnippetScriptLoadFailure=99,Ka.InvalidInstrumentationKey=100,Ka.CannotParseAiBlobValue=101,Ka.InvalidContentBlob=102,Ka.TrackPageActionEventFailed=103,Ka.FailedAddingCustomDefinedRequestContext=104,Ka.InMemoryStorageBufferFull=105,Ka.InstrumentationKeyDeprecation=106,Ka)),Ya="_aiHooks",Za=["req","rsp","hkErr","fnErr"]
function eo(e,t){if(e)for(var r=0;r<e[x]&&!t(e[r],r);r++);}function to(e,t,r,n,i){i>=0&&i<=2&&eo(e,function(e,a){var o=e.cbks,s=o[Za[i]]
if(s){t.ctx=function(){return n[a]=n[a]||{}}
try{s[ie](t.inst,r)}catch(e){var l=t.err
try{var u=o[Za[2]]
u&&(t.err=e,u[ie](t.inst,r))}catch(e){}finally{t.err=l}}}})}function ro(e,t,r,n){var i=r&&r[Ya]
if(!i){var a=function(e){return function(){var t,r=arguments,n=e.h,i=((t={})[_]=e.n,t.inst=this,t.ctx=null,t.set=function(e,t){(r=s([],r))[e]=t,o=s([i],r)},t),a=[],o=s([i],r)
function s(e,t){return eo(t,function(t){e[P](t)}),e}i.evt=Zr("event"),to(n,i,o,a,0)
var l=e.f
if(l)try{i.rslt=l[ie](this,r)}catch(e){throw i.err=e,to(n,i,o,a,3),e}return to(n,i,o,a,1),i.rslt}}(i={i:0,n:t,f:r,h:[]})
a[Ya]=i,e[t]=a}var o={id:i.i,cbks:n,rm:function(){var e=this.id
eo(i.h,function(t,r){if(t.id===e)return i.h[j](r,1),1})}}
return i.i++,i.h[P](o),o}function no(e,t,r,n){if(e&&t&&r){var i=function e(t,r,n){var i=null
return t&&(ct(t,r)?i=t:n&&(i=e(st(t),r,!1))),i}(e,t,n)||e
if(i)return ro(i,t,i[t],r)}return null}var io=Xt({NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,CustomerContent_GenericContent:32}),ao=Xt({Normal:1,CostDeferred:2,RealTime:3,Immediate:4})
Xt({Unspecified:0,String:1,Int32:2,UInt32:3,Int64:4,UInt64:5,Double:6,Bool:7,Guid:8,DateTime:9})
var oo=Xt({Normal:1,Critical:2}),so=Xt({NONE:0,ERROR:1,WARNING:2,INFORMATION:3})
Lt(h(h({},Qa),Xt({AuthHandShakeError:501,AuthRedirectFail:502,BrowserCannotReadLocalStorage:503,BrowserCannotWriteLocalStorage:504,BrowserDoesNotSupportLocalStorage:505,CannotParseBiBlobValue:506,CannotParseDataAttribute:507,CVPluginNotAvailable:508,DroppedEvent:509,ErrorParsingAISessionCookie:510,ErrorProvidedChannels:511,FailedToGetCookies:512,FailedToInitializeCorrelationVector:513,FailedToInitializeSDK:514,InvalidContentBlob:515,InvalidCorrelationValue:516,SessionRenewalDateIsZero:517,SendPostOnCompleteFailure:518,PostResponseHandler:519,SDKNotInitialized:520})))
var lo,uo="",co="https://browser.events.data.microsoft.com/OneCollector/1.0/",fo="version",po="properties",mo="1DS-Web-JS-3.2.8",ho="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",go="withCredentials",vo="timeout",yo=((lo={})[0]=0,lo[2]=6,lo[1]=1,lo[3]=7,lo[4098]=6,lo[4097]=1,lo[4099]=7,lo),bo=null,_o=Boolean(nn()),Io=Boolean(tn())
function Co(e){return!(e===uo||ut(e))}function Po(e){if(e){var t=e.indexOf("-")
if(t>-1)return e.substring(0,t)}return uo}function wo(e){return!!(e&&Ct(e)&&e>=1&&e<=4)}function Eo(e,t,r){if(!t&&!Co(t)||"string"!=typeof e)return null
var n=typeof t
if("string"===n||"number"===n||"boolean"===n||bt(t))t={value:t}
else if("object"!==n||d.call(t,"value")){if(ut(t.value)||t.value===uo||!It(t.value)&&!Ct(t.value)&&!Pt(t.value)&&!bt(t.value))return null}else t={value:r?JSON.stringify(t):t}
if(bt(t.value)&&!Ro(t.value))return null
if(!ut(t.kind)){if(bt(t.value)||!Mo(t.kind))return null
t.value=t.value.toString()}return t}function To(e,t,r){var n=-1
if(!lt(e))if(t>0&&(32===t?n=8192:t<=13&&(n=t<<5)),function(e){if(e>=0&&e<=9)return!0
return!1}(r))-1===n&&(n=0),n|=r
else{var i=yo[Oo(e)]||-1;-1!==n&&-1!==i?n|=i:6===i&&(n=i)}return n}function So(e,t,r){var n
return void 0===r&&(r=!0),e&&(n=e.get(t),r&&n&&decodeURIComponent&&(n=decodeURIComponent(n))),n||uo}function xo(e){void 0===e&&(e="D")
var t=ca()
return"B"===e?t="{"+t+"}":"P"===e?t="("+t+")":"N"===e&&(t=t.replace(/-/g,uo)),t}function ko(e,t,r,n,a){var o={},s=!1,l=0,u=arguments.length,d=arguments
for("[object Boolean]"===Object[i].toString.call(d[0])&&(s=d[0],l++);l<u;l++){ht(d[l],function(e,t){s&&t&&ft(t)?bt(t)?(o[e]=o[e]||[],Tt(t,function(t,r){t&&ft(t)?o[e][r]=ko(!0,o[e][r],t):o[e][r]=t})):o[e]=ko(!0,o[e],t):o[e]=t})}return o}var Ao=fa
function Mo(e){return 0===e||e>0&&e<=13||32===e}function Ro(e){return e.length>0}function Do(e,t){var r=e
r.timings=r.timings||{},r.timings.processTelemetryStart=r.timings.processTelemetryStart||{},r.timings.processTelemetryStart[t]=Ao()}function Oo(e){var t=0
if(null!==e&&void 0!==e){var n=typeof e
"string"===n?t=1:"number"===n?t=2:"boolean"===n?t=3:n===r&&(t=4,bt(e)?(t=4096,e.length>0&&(t|=Oo(e[0]))):d.call(e,"value")&&(t=8192|Oo(e.value)))}return t}var No={Version:"3.2.8",FullVersionString:mo,strUndefined:n,strObject:r,Undefined:n,arrForEach:Tt,arrIndexOf:St,arrMap:xt,arrReduce:kt,objKeys:Dt,toISOString:Et,isReactNative:fn,isString:It,isNumber:Ct,isBoolean:Pt,isFunction:pt,isArray:bt,isObject:ft,strTrim:At,isDocumentObjectAvailable:_o,isWindowObjectAvailable:Io,isValueAssigned:Co,getTenantId:Po,isBeaconsSupported:hn,isUint8ArrayAvailable:function(){return null===bo&&(bo=!lt(Uint8Array)&&!function(){var e=on()
if(!lt(e)&&e.userAgent){var t=e.userAgent.toLowerCase()
if((t.indexOf("safari")>=0||t.indexOf("firefox")>=0)&&t.indexOf("chrome")<0)return!0}return!1}()&&!fn()),bo},isLatency:wo,sanitizeProperty:Eo,getISOString:Et,useXDomainRequest:vn,getCommonSchemaMetaData:To,cookieAvailable:Ti,disallowsSameSiteNone:Mi,setCookie:function(e,t,r){Ti(null)&&wi(null).set(e,t,86400*r,null,"/")},deleteCookie:function(e){Ti(null)&&wi(null).del(e)},getCookie:function(e){return Ti(null)?So(wi(null),e):uo},createGuid:xo,extend:ko,getTime:Ao,isValueKind:Mo,isArrayValid:Ro,objDefineAccessors:Ot,addPageUnloadEventListener:sa,setProcessTelemetryTimings:Do,addEventHandler:ia,getFieldValueType:Oo,strEndsWith:gt,objForEachKey:ht},Lo={_canUseCookies:void 0,isTypeof:function(e,t){return typeof e===t},isUndefined:lt,isNullOrUndefined:ut,hasOwnProperty:ct,isFunction:pt,isObject:ft,isDate:function(e){return!(!e||"[object Date]"!==et[ue](e))},isArray:bt,isError:_t,isString:It,isNumber:Ct,isBoolean:Pt,toISOString:Et,arrForEach:Tt,arrIndexOf:St,arrMap:xt,arrReduce:kt,strTrim:At,objCreate:m,objKeys:Dt,objDefineAccessors:Ot,addEventHandler:ia,dateNow:Ft,isIE:pn,disableCookies:function(){wi(null).setEnabled(!1)},newGuid:ca,perfNow:fa,newId:Zn,randomValue:function(e){return e>0?Math.floor(Qn()/Wn*(e+1))>>>0:0},random32:Qn,mwcRandomSeed:function(e){e?Xn(e):Jn()},mwcRandom32:Yn,generateW3CId:pa}
var Fo=function(e){function t(){var r=e.call(this)||this
return r.pluginVersionStringArr=[],Rr(t,r,function(e,t){e.logger&&e.logger.queue||(e.logger=new Rn({loggingLevelConsole:1})),e.initialize=function(r,n,i,a){Bn(e,function(){return"AppInsightsCore.initialize"},function(){var o=e.pluginVersionStringArr
if(r){r.endpointUrl||(r.endpointUrl=co)
var s=r.propertyStorageOverride
!s||s.getProperty&&s.setProperty||Bt("Invalid property storage override passed."),r.channels&&Tt(r.channels,function(e){e&&Tt(e,function(e){if(e.identifier&&e.version){var t=e.identifier+"="+e.version
o.push(t)}})})}e.getWParam=function(){return"undefined"!=typeof document||r.enableWParam?0:-1},n&&Tt(n,function(e){if(e&&e.identifier&&e.version){var t=e.identifier+"="+e.version
o.push(t)}}),e.pluginVersionString=o.join(";"),e.pluginVersionStringArr=o
try{t.initialize(r,n,i,a),e.pollInternalLogs("InternalLog")}catch(t){var l=e.logger,u=mn(t);-1!==u.indexOf("channels")&&(u+="\n - Channels must be provided through config.channels only!"),On(l,1,514,"SDK Initialization Failed - no telemetry will be sent: "+u)}},function(){return{config:r,extensions:n,logger:i,notificationManager:a}})},e.track=function(r){Bn(e,function(){return"AppInsightsCore.track"},function(){var n=r
if(n){n.timings=n.timings||{},n.timings.trackStart=Ao(),wo(n.latency)||(n.latency=1)
var i=n.ext=n.ext||{}
i.sdk=i.sdk||{},i.sdk.ver=mo
var a=n.baseData=n.baseData||{}
a[po]=a[po]||{}
var o=a[po]
o[fo]=o[fo]||e.pluginVersionString||uo}t.track(n)},function(){return{item:r}},!r.sync)}}),r}return v(t,e),t.__ieDyn=1,t}(Ja),Uo="REAL_TIME",jo="NEAR_REAL_TIME",zo="BEST_EFFORT",qo="",Vo="POST",Bo="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Ho="drop",Wo="send",$o="rspFail",Go="oth",Ko="no-cache, no-store",Xo="application/x-json-stream",Jo="cache-control",Qo="content-type",Yo="kill-tokens",Zo="kill-duration",es="kill-duration-seconds",ts="time-delta-millis",rs="client-version",ns="client-id",is="time-delta-to-apply-millis",as="upload-time",os="apikey",ss="AuthMsaDeviceTicket",ls="msfpc",us="trace",ds="user"
function cs(e){var t=(e.ext||{}).intweb
return t&&Co(t[ls])?t[ls]:null}function fs(e){for(var t=null,r=0;null===t&&r<e.length;r++)t=cs(e[r])
return t}var ps=function(){function e(t,r){var n=r?[].concat(r):[],i=fs(n)
this.iKey=function(){return t},this.Msfpc=function(){return i||qo},this.count=function(){return n.length},this.events=function(){return n},this.addEvent=function(e){return!!e&&(n.push(e),i||(i=cs(e)),!0)},this.split=function(r,a){var o
if(r<n.length){var s=n.length-r
ut(a)||(s=a<s?a:s),o=n.splice(r,s),i=fs(n)}return new e(t,o)}}return e.create=function(t,r){return new e(t,r)},e}(),ms=function(){function e(){var t=!0,r=!0,n=!0,i="use-collector-delta",a=!1
Rr(e,this,function(e){e.allowRequestSending=function(){return t},e.firstRequestSent=function(){n&&(n=!1,a||(t=!1))},e.shouldAddClockSkewHeaders=function(){return r},e.getClockSkewHeaderValue=function(){return i},e.setClockSkew=function(e){a||(e?(i=e,r=!0,a=!0):r=!1,t=!0)}})}return e.__ieDyn=1,e}(),hs=1e3,gs=function(){function e(){var t={}
Rr(e,this,function(e){e.setKillSwitchTenants=function(e,r){if(e&&r)try{var n=(o=e.split(","),s=[],o&&Tt(o,function(e){s.push(At(e))}),s)
if("this-request-only"===r)return n
for(var i=parseInt(r,10)*hs,a=0;a<n.length;++a)t[n[a]]=Ft()+i}catch(e){return[]}var o,s
return[]},e.isTenantKilled=function(e){var r=t,n=At(e)
return void 0!==r[n]&&r[n]>Ft()||(delete r[n],!1)}})}return e.__ieDyn=1,e}(),vs=.8,ys=1.2,bs=3e3,_s=6e5
function Is(e){var t,r=bs*vs,n=bs*ys,i=Math.floor(Math.random()*(n-r))+r
return t=Math.pow(2,e)*i,Math.min(t,_s)}var Cs,Ps=20,ws=3984588,Es=65e3,Ts=2e6,Ss=Math.min(Ts,Es),xs="metadata",ks="f",As=/\./,Ms=function(){function e(t,r,n,i){var a=!!i,o=r,s={}
Rr(e,this,function(e){function r(e,t,i,l,u,d,c){ht(e,function(e,f){var p=null
if(f||Co(f)){var m=i,h=e,g=u,v=t
if(a&&!l&&As.test(e)){var y=e.split("."),b=y.length
if(b>1){g&&(g=g.slice())
for(var _=0;_<b-1;_++){var I=y[_]
v=v[I]=v[I]||{},m+="."+I,g&&g.push(I)}h=y[b-1]}}if(p=!(l&&function(e,t){var r=s[e]
return void 0===r&&(e.length>=7&&(r=vt(e,"ext.metadata")||vt(e,"ext.web")),s[e]=r),r}(m))&&o&&o.handleField(m,h)?o.value(m,h,f,n):Eo(h,f,n)){var C=p.value
if(v[h]=C,d&&d(g,h,p),c&&"object"==typeof C&&!bt(C)){var P=g
P&&(P=P.slice()).push(h),r(f,C,m+"."+h,l,P,d,c)}}}})}e.createPayload=function(e,t,r,n,i,a){return{apiKeys:[],payloadBlob:qo,overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:e,isTeardown:t,isSync:r,isBeacon:n,sendType:a,sendReason:i}},e.appendPayload=function(r,n,i){var a=r&&n&&!r.overflow
return a&&Bn(t,function(){return"Serializer:appendPayload"},function(){for(var t=n.events(),a=r.payloadBlob,o=r.numEvents,s=!1,l=[],u=[],d=r.isBeacon,c=d?Es:ws,f=d?Ss:Ts,p=0,m=0;p<t.length;){var h=t[p]
if(h){if(o>=i){r.overflow=n.split(p)
break}var g=e.getEventBlob(h)
if(g&&g.length<=f){var v=g.length
if(a.length+v>c){r.overflow=n.split(p)
break}a&&(a+="\n"),a+=g,++m>Ps&&(a.substr(0,1),m=0),s=!0,o++}else g?l.push(h):u.push(h),t.splice(p,1),p--}p++}if(l&&l.length>0&&r.sizeExceed.push(ps.create(n.iKey(),l)),u&&u.length>0&&r.failedEvts.push(ps.create(n.iKey(),u)),s){r.batches.push(n),r.payloadBlob=a,r.numEvents=o
var y=n.iKey();-1===St(r.apiKeys,y)&&r.apiKeys.push(y)}},function(){return{payload:r,theBatch:{iKey:n.iKey(),evts:n.events()},max:i}}),a},e.getEventBlob=function(e){try{return Bn(t,function(){return"Serializer.getEventBlob"},function(){var t={}
t.name=e.name,t.time=e.time,t.ver=e.ver,t.iKey="o:"+Po(e.iKey)
var n={},i=e.ext
i&&(t.ext=n,ht(i,function(e,t){r(t,n[e]={},"ext."+e,!0,null,null,!0)}))
var a=t.data={}
a.baseType=e.baseType
var o=a.baseData={}
return r(e.baseData,o,"baseData",!1,["baseData"],function(e,t,r){Rs(n,e,t,r)},!0),r(e.data,a,"data",!1,[],function(e,t,r){Rs(n,e,t,r)},!0),JSON.stringify(t)},function(){return{item:e}})}catch(e){return null}}})}return e.__ieDyn=1,e}()
function Rs(e,t,r,n){if(n&&e){var i=To(n.value,n.kind,n.propertyType)
if(i>-1){var a=e[xs]
a||(a=e[xs]={f:{}})
var o=a[ks]
if(o||(o=a[ks]={}),t)for(var s=0;s<t.length;s++){var l=t[s]
o[l]||(o[l]={f:{}})
var u=o[l][ks]
u||(u=o[l][ks]={}),o=u}o=o[r]={},bt(n.value)?o.a={t:i}:o.t=i}}}var Ds="sendAttempt",Os="&NoResponseBody=true",Ns=((Cs={})[1]="requeue",Cs[100]="requeue",Cs[200]="sent",Cs[8004]=Ho,Cs[8003]=Ho,Cs),Ls={},Fs={}
function Us(e,t,r){Ls[e]=t,!1!==r&&(Fs[t]=e)}function js(e){try{return e.responseText}catch(e){}return qo}function zs(e,t){var r=!1
if(e&&t){var n=Dt(e)
if(n&&n.length>0)for(var i=t.toLowerCase(),a=0;a<n.length;a++){var o=n[a]
if(o&&ct(t,o)&&o.toLowerCase()===i){r=!0
break}}}return r}function qs(e,t,r,n){t&&r&&r.length>0&&(n&&Ls[t]?(e.hdrs[Ls[t]]=r,e.useHdrs=!0):e.url+="&"+t+"="+r)}function Vs(e,t){return t&&(Ct(t)?e=[t].concat(e):bt(t)&&(e=t.concat(e))),e}Us(ss,ss,!1),Us(rs,rs),Us(ns,"Client-Id"),Us(os,os),Us(is,is),Us(as,as),Us("AuthXToken","AuthXToken")
var Bs=function(){function e(t,r,i,a,o){this._responseHandlers=[]
var s,l,u,d,c,f,p,m,h,g,v="?cors=true&"+Qo.toLowerCase()+"="+Xo,y=new gs,b=!1,_=new ms,I=!1,C=0,P=!0,w=[],E={},T=[],S=null,x=!1,k=!1,A=!1
Rr(e,this,function(e){var M=!0
function R(e,t){for(var r=0,n=null,i=0;null==n&&i<e.length;)1===(r=e[i])?vn()?n=D:yn()&&(n=N):2===r&&gn(t)&&(!t||t&&!m)?n=O:I&&3===r&&hn()&&(n=F),i++
return n?{_transport:r,_isSync:t,sendPOST:n}:null}function D(e,t,r){var n=new XDomainRequest
n.open(Vo,e.urlString),e.timeout&&(n.timeout=e.timeout),n.onload=function(){var e=js(n)
L(t,200,{},e),X(e)},n.onerror=function(){L(t,400,{})},n.ontimeout=function(){L(t,500,{})},n.onprogress=function(){},r?n.send(e.data):o.set(function(){n.send(e.data)},0)}function O(e,t,r){var n,i=e.urlString,a=!1,s=!1,l=((n={body:e.data,method:Vo})[Bo]=!0,n)
r&&(l.keepalive=!0,2===e._sendReason&&(a=!0,g&&(i+=Os))),M&&(l.credentials="include"),e.headers&&Dt(e.headers).length>0&&(l.headers=e.headers),fetch(i,l).then(function(e){var r={},n=qo,i=e.headers
i&&i.forEach(function(e,t){r[t]=e}),e.body&&e.text().then(function(e){n=e}),s||(s=!0,L(t,e.status,r,n),X(n))}).catch(function(e){s||(s=!0,L(t,0,{}))}),a&&!s&&(s=!0,L(t,200,{})),!s&&e.timeout>0&&o.set(function(){s||(s=!0,L(t,500,{}))},e.timeout)}function N(e,t,r){var n=e.urlString
function i(e,t,r){if(!e[r]&&t&&t.getResponseHeader){var n=t.getResponseHeader(r)
n&&(e[r]=At(n))}return e}function a(e){var t={}
return t=e.getAllResponseHeaders?function(e){var t={}
if(It(e)){var r=At(e).split(/[\r\n]+/)
Tt(r,function(e){if(e){var r=e.indexOf(": ")
if(-1!==r){var n=At(e.substring(0,r)).toLowerCase(),i=At(e.substring(r+1))
t[n]=i}else t[At(e)]=1}})}return t}(e.getAllResponseHeaders()):i(t=i(t=i(t,e,ts),e,Zo),e,es)}function o(e,r){L(t,e.status,a(e),r)}r&&e.disableXhrSync&&(r=!1)
var s=function(e,t,r,n,i,a){function o(e,t,r){try{e[t]=r}catch(e){}}void 0===n&&(n=!1),void 0===i&&(i=!1)
var s=new XMLHttpRequest
return n&&o(s,ho,n),r&&o(s,go,r),s.open(e,t,!i),r&&o(s,go,r),!i&&a&&o(s,vo,a),s}(Vo,n,M,!0,r,e.timeout)
ht(e.headers,function(e,t){s.setRequestHeader(e,t)}),s.onload=function(){var e=js(s)
o(s,e),X(e)},s.onerror=function(){o(s)},s.ontimeout=function(){o(s)},s.send(e.data)}function L(e,t,r,n){try{e(t,r,n)}catch(e){On(l,2,518,mn(e))}}function F(e,t,r){var n=200,i=e._thePayload,a=e.urlString+(g?Os:qo)
try{var o=on()
if(!o.sendBeacon(a,e.data))if(i){var s=[]
Tt(i.batches,function(e){if(s&&e&&e.count()>0){for(var t=e.events(),r=0;r<t.length;r++)if(!o.sendBeacon(a,S.getEventBlob(t[r]))){s.push(e.split(r))
break}}else s.push(e.split(0))}),J(s,8003,i.sendType,!0)}else n=0}catch(e){Nn(l,"Failed to send telemetry using sendBeacon API. Ex:"+mn(e)),n=0}finally{L(t,n,{},qo)}}function U(e){return 2===e||3===e}function j(e){return k&&U(e)&&(e=2),e}function z(){return!b&&C<r}function q(){var e=T
return T=[],e}function V(e,t,r){var n=!1
return e&&e.length>0&&!b&&u[t]&&S&&(n=0!==t||z()&&(r>0||_.allowRequestSending())),n}function B(e){var t={}
return e&&Tt(e,function(e,r){t[r]={iKey:e.iKey(),evts:e.events()}}),t}function H(e,r,n,i,a){if(e&&0!==e.length)if(b)J(e,1,i)
else{i=j(i)
try{var o=e,s=0!==i
Bn(d,function(){return"HttpManager:_sendBatches"},function(o){o&&(e=e.slice(0))
for(var l=[],d=null,c=Ao(),f=u[i]||(s?u[1]:u[0]),p=f&&f._transport,m=h&&(k||U(i)||3===p||f._isSync&&2===p);V(e,i,r);){var g=e.shift()
g&&g.count()>0&&(y.isTenantKilled(g.iKey())?l.push(g):(d=d||S.createPayload(r,n,s,m,a,i),S.appendPayload(d,g,t)?null!==d.overflow&&(e=[d.overflow].concat(e),d.overflow=null,G(d,c,Ao(),a),c=Ao(),d=null):(G(d,c,Ao(),a),c=Ao(),e=[g].concat(e),d=null)))}d&&G(d,c,Ao(),a),e.length>0&&(T=e.concat(T)),J(l,8004,i)},function(){return{batches:B(o),retryCount:r,isTeardown:n,isSynchronous:s,sendReason:a,useSendBeacon:U(i),sendType:i}},!s)}catch(e){On(l,2,48,"Unexpected Exception sending batch: "+mn(e))}}}function W(e,t){var r={url:v,hdrs:{},useHdrs:!1}
t?(r.hdrs=ko(r.hdrs,E),r.useHdrs=Dt(r.hdrs).length>0):ht(E,function(e,t){Fs[e]?qs(r,Fs[e],t,!1):(r.hdrs[e]=t,r.useHdrs=!0)}),qs(r,ns,"NO_AUTH",t),qs(r,rs,mo,t)
var n=qo
Tt(e.apiKeys,function(e){n.length>0&&(n+=","),n+=e}),qs(r,os,n,t),qs(r,as,Ft().toString(),t)
var i=function(e){for(var t=0;t<e.batches.length;t++){var r=e.batches[t].Msfpc()
if(r)return encodeURIComponent(r)}return qo}(e)
if(Co(i)&&(r.url+="&ext.intweb.msfpc="+i),_.shouldAddClockSkewHeaders()&&qs(r,is,_.getClockSkewHeaderValue(),t),d.getWParam){var a=d.getWParam()
a>=0&&(r.url+="&w="+a)}for(var o=0;o<w.length;o++)r.url+="&"+w[o].name+"="+w[o].value
return r}function $(e,t,r){e[t]=e[t]||{},e[t][s.identifier]=r}function G(t,r,a,o){if(t&&t.payloadBlob&&t.payloadBlob.length>0){var c=!!e.sendHook,h=u[t.sendType]
!U(t.sendType)&&t.isBeacon&&2===t.sendReason&&(h=u[2]||u[3]||h)
var g=A;(t.isBeacon||3===h._transport)&&(g=!1)
var v=W(t,g)
g=g||v.useHdrs
var b=Ao()
Bn(d,function(){return"HttpManager:_doPayloadSend"},function(){for(var u=0;u<t.batches.length;u++)for(var I=t.batches[u].events(),w=0;w<I.length;w++){var E=I[w]
if(x){var T=E.timings=E.timings||{}
$(T,"sendEventStart",b),$(T,"serializationStart",r),$(T,"serializationCompleted",a)}E[Ds]>0?E[Ds]++:E[Ds]=1}J(t.batches,1e3+(o||0),t.sendType,!0)
var S={data:t.payloadBlob,urlString:v.url,headers:v.hdrs,_thePayload:t,_sendReason:o,timeout:f,disableXhrSync:p,disableFetchKeepAlive:m}
g&&(zs(S.headers,Jo)||(S.headers[Jo]=Ko),zs(S.headers,Qo)||(S.headers[Qo]=Xo))
var A=null
h&&(A=function(r){_.firstRequestSent()
var a=function(r,a){(function(t,r,a,o){var l=9e3,u=null,d=!1,c=!1
try{var f=!0
if(typeof t!==n){if(r){_.setClockSkew(r[ts])
var p=r[Zo]||r["kill-duration-seconds"]
Tt(y.setKillSwitchTenants(r[Yo],p),function(e){Tt(a.batches,function(t){if(t.iKey()===e){u=u||[]
var r=t.split(0)
a.numEvents-=r.count(),u.push(r)}})})}if(200==t||204==t)return void(l=200);((h=t)>=300&&h<500&&408!=h&&429!=h||501==h||505==h||a.numEvents<=0)&&(f=!1),l=9e3+t%1e3}if(f){l=100
var m=a.retryCnt
0===a.sendType&&(m<i?(d=!0,K(function(){0===a.sendType&&C--,H(a.batches,m+1,a.isTeardown,k?2:a.sendType,5)},k,Is(m))):(c=!0,k&&(l=8001)))}}finally{d||(_.setClockSkew(),function(t,r,n,i){try{i&&s._backOffTransmission(),200===r&&(i||t.isSync||s._clearBackOff(),function(e){if(x){var t=Ao()
Tt(e,function(e){var r,n
e&&e.count()>0&&(r=e.events(),n=t,x&&Tt(r,function(e){var t=e.timings=e.timings||{}
$(t,"sendEventCompleted",n)}))})}}(t.batches)),J(t.batches,r,t.sendType,!0)}finally{0===t.sendType&&(C--,5!==n&&e.sendQueuedRequests(t.sendType,n))}}(a,l,o,c)),J(u,8004,a.sendType)}var h})(r,a,t,o)},u=t.isTeardown||t.isSync
try{h.sendPOST(r,a,u),e.sendListener&&e.sendListener(S,r,u,t.isBeacon)}catch(e){Nn(l,"Unexpected exception sending payload. Ex:"+mn(e)),L(a,0,{})}}),Bn(d,function(){return"HttpManager:_doPayloadSend.sender"},function(){if(A)if(0===t.sendType&&C++,c&&!t.isBeacon&&3!==h._transport){var r={data:S.data,urlString:S.urlString,headers:ko({},S.headers),timeout:S.timeout,disableXhrSync:S.disableXhrSync,disableFetchKeepAlive:S.disableFetchKeepAlive},n=!1
Bn(d,function(){return"HttpManager:_doPayloadSend.sendHook"},function(){try{e.sendHook(r,function(e){n=!0,P||e._thePayload||(e._thePayload=e._thePayload||S._thePayload,e._sendReason=e._sendReason||S._sendReason),A(e)},t.isSync||t.isTeardown)}catch(e){n||A(S)}})}else A(S)})},function(){return{thePayload:t,serializationStart:r,serializationCompleted:a,sendReason:o}},t.isSync)}t.sizeExceed&&t.sizeExceed.length>0&&J(t.sizeExceed,8003,t.sendType),t.failedEvts&&t.failedEvts.length>0&&J(t.failedEvts,8002,t.sendType)}function K(e,t,r){t?e():o.set(e,r)}function X(t){var r=e._responseHandlers
try{for(var n=0;n<r.length;n++)try{r[n](t)}catch(e){On(l,1,519,"Response handler failed: "+e)}if(t){var i=JSON.parse(t)
Co(i.webResult)&&Co(i.webResult[ls])&&c.set("MSFPC",i.webResult[ls],31536e3)}}catch(e){}}function J(e,t,r,n){if(e&&e.length>0&&a){var i=a[function(e){var t=Ns[e]
Co(t)||(t=Go,e>=9e3&&e<=9999?t=$o:e>=8e3&&e<=8999?t=Ho:e>=1e3&&e<=1999&&(t=Wo))
return t}(t)]
if(i){var o=0!==r
Bn(d,function(){return"HttpManager:_sendBatchesNotification"},function(){K(function(){try{i.call(a,e,t,o,r)}catch(e){On(l,1,74,"send request notification failed: "+e)}},n||o,0)},function(){return{batches:B(e),reason:t,isSync:o,sendSync:n,sendType:r}},!o)}}}e.initialize=function(e,t,r,n,i){var a
i||(i={}),v=e+v,A=!!lt(i.avoidOptions)||!i.avoidOptions,d=t,c=t.getCookieMgr(),x=!d.config.disableEventTimings
var o=!!d.config.enableCompoundKey
l=(s=r).diagLog()
var y=i.valueSanitizer,b=i.stringifyObjects
lt(i.enableCompoundKey)||(o=!!i.enableCompoundKey),f=i.xhrTimeout,p=!!i.disableXhrSync,m=!!i.disableFetchKeepAlive,g=!1!==i.addNoResponse,I=!fn(),S=new Ms(d,y,b,o),ut(i.useSendBeacon)||(I=!!i.useSendBeacon)
var _=n,C=i.alwaysUseXhrOverride?n:null,w=i.alwaysUseXhrOverride?n:null,E=[3,2]
if(!n){P=!1
var T=ln()
T&&T.protocol&&"file:"===T.protocol.toLowerCase()&&(M=!1)
var k=[]
fn()?(k=[2,1],E=[2,1,3]):k=[1,2,3],(n=R(k=Vs(k,i.transports),!1))||Nn(l,"No available transport to send events"),_=R(k,!0)}C||(C=R(E=Vs(E,i.unloadTransports),!0)),h=!P&&(I&&hn()||!m&&gn(!0)),(a={})[0]=n,a[1]=_||R([1,2,3],!0),a[2]=C||_||R([1],!0),a[3]=w||R([2,3],!0)||_||R([1],!0),u=a},e._getDbgPlgTargets=function(){return[u[0],y,S,u]},e.addQueryStringParameter=function(e,t){for(var r=0;r<w.length;r++)if(w[r].name===e)return void(w[r].value=t)
w.push({name:e,value:t})},e.addHeader=function(e,t){E[e]=t},e.canSendRequest=function(){return z()&&_.allowRequestSending()},e.sendQueuedRequests=function(e,t){lt(e)&&(e=0),k&&(e=j(e),t=2),V(T,e,0)&&H(q(),0,!1,e,t||0)},e.isCompletelyIdle=function(){return!b&&0===C&&0===T.length},e.setUnloading=function(e){k=e},e.addBatch=function(e){if(e&&e.count()>0){if(y.isTenantKilled(e.iKey()))return!1
T.push(e)}return!0},e.teardown=function(){T.length>0&&H(q(),0,!0,2,2)},e.pause=function(){b=!0},e.resume=function(){b=!1,e.sendQueuedRequests(0,4)},e.sendSynchronousBatch=function(e,t,r){e&&e.count()>0&&(ut(t)&&(t=1),k&&(t=j(t),r=2),H([e],0,!1,t,r||0))}})}return e.__ieDyn=1,e}()
function Hs(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n]
return setTimeout(e,t,r)}function Ws(e){clearTimeout(e)}function $s(e,t){return{set:e||Hs,clear:t||Ws}}var Gs,Ks=.25,Xs=500,Js=20,Qs=6,Ys=2,Zs=4,el=2,tl=1,rl="eventsDiscarded",nl="overrideInstrumentationKey",il="maxEventRetryAttempts",al="maxUnloadEventRetryAttempts",ol="addUnloadCb",sl=function(e){function t(){var r,n=e.call(this)||this
n.identifier="PostChannel",n.priority=1011,n.version="3.2.8"
var i,a,o,s,l,u,d,c=!1,f=[],p=null,m=!1,h=0,g=500,v=0,y=1e4,b={},_=Uo,I=null,C=null,P=0,w=0,E={},T=-1,S=!0,x=!1,k=Qs,A=Ys
return Rr(t,n,function(e,t){function n(e){"beforeunload"!==(e||tn().event).type&&(x=!0,a.setUnloading(x)),j(2,2)}function M(e){x=!1,a.setUnloading(x)}function R(e,t){if(e.sendAttempt||(e.sendAttempt=0),e.latency||(e.latency=1),e.ext&&e.ext[us]&&delete e.ext[us],e.ext&&e.ext[ds]&&e.ext[ds].id&&delete e.ext[ds].id,S&&(e.ext=Gt(e.ext),e.baseData&&(e.baseData=Gt(e.baseData)),e.data&&(e.data=Gt(e.data))),e.sync)if(P||m)e.latency=3,e.sync=!1
else if(a)return S&&(e=Gt(e)),void a.sendSynchronousBatch(ps.create(e.iKey,[e]),!0===e.sync?1:e.sync,3)
var r=e.latency,n=v,i=y
4===r&&(n=h,i=g)
var o=!1
if(n<i)o=!V(e,t)
else{var s=1,l=Js
4===r&&(s=4,l=1),o=!0,function(e,t,r,n){for(;r<=t;){var i=z(e,t,!0)
if(i&&i.count()>0){var a=i.split(0,n),o=a.count()
if(o>0)return 4===r?h-=o:v-=o,X(rl,[a],Yt.QueueFull),!0}r++}return B(),!1}(e.iKey,e.latency,s,l)&&(o=!V(e,t))}o&&K(rl,[e],Yt.QueueFull)}function D(e,t,r){var n=H(e,t,r)
return a.sendQueuedRequests(t,r),n}function O(){return v>0}function N(){if(T>=0&&H(T,0,l)&&a.sendQueuedRequests(0,l),h>0&&!C&&!m){var e=b[_][2]
e>=0&&(C=F(function(){C=null,D(4,0,1),N()},e))}var t=b[_][1]
!I&&!p&&t>=0&&!m&&(O()?I=F(function(){I=null,D(0===w?3:1,0,1),w++,w%=2,N()},t):w=0)}function L(){r=null,c=!1,f=[],p=null,m=!1,h=0,g=500,v=0,y=1e4,b={},_=Uo,I=null,C=null,P=0,w=0,i=null,E={},o=void 0,s=0,T=-1,l=null,S=!0,x=!1,k=Qs,A=Ys,u=null,d=$s(),a=new Bs(Xs,el,tl,{requeue:$,send:J,sent:Q,drop:Y,rspFail:Z,oth:ee},d),W(),E[4]={batches:[],iKeyMap:{}},E[3]={batches:[],iKeyMap:{}},E[2]={batches:[],iKeyMap:{}},E[1]={batches:[],iKeyMap:{}}
te()}function F(e,t){0===t&&P&&(t=1)
var r=1e3
return P&&(r=Is(P-1)),d.set(e,t*r)}function U(){return null!==I&&(d.clear(I),I=null,w=0,!0)}function j(e,t){U(),p&&(d.clear(p),p=null),m||D(1,e,t)}function z(e,t,r){var n=E[t]
n||(n=E[t=1])
var i=n.iKeyMap[e]
return!i&&r&&(i=ps.create(e),n.batches.push(i),n.iKeyMap[e]=i),i}function q(t,r){a.canSendRequest()&&!P&&(o>0&&v>o&&(r=!0),r&&null==p&&e.flush(t,null,20))}function V(e,t){S&&(e=Gt(e))
var r=e.latency,n=z(e.iKey,r,!0)
return!!n.addEvent(e)&&(4!==r?(v++,t&&0===e.sendAttempt&&q(!e.sync,s>0&&n.count()>=s)):h++,!0)}function B(){for(var e=0,t=0,r=function(r){var n=E[r]
n&&n.batches&&Tt(n.batches,function(n){4===r?e+=n.count():t+=n.count()})},n=1;n<=4;n++)r(n)
v=t,h=e}function H(t,r,n){var i=!1,o=0===r
return!o||a.canSendRequest()?Bn(e.core,function(){return"PostChannel._queueBatches"},function(){for(var e=[],r=4;r>=t;){var n=E[r]
n&&n.batches&&n.batches.length>0&&(Tt(n.batches,function(t){a.addBatch(t)?i=i||t&&t.count()>0:e=e.concat(t.events()),4===r?h-=t.count():v-=t.count()}),n.batches=[],n.iKeyMap={}),r--}e.length>0&&K(rl,e,Yt.KillSwitch),i&&T>=t&&(T=-1,l=0)},function(){return{latency:t,sendType:r,sendReason:n}},!o):(T=T>=0?Math.min(T,t):t,l=Math.max(l,n)),i}function W(){(b={})[Uo]=[2,1,0],b[jo]=[6,3,0],b[zo]=[18,9,0]}function $(t,r){var n=[],i=k
x&&(i=A),Tt(t,function(t){t&&t.count()>0&&Tt(t.events(),function(t){t&&(t.sync&&(t.latency=4,t.sync=!1),t.sendAttempt<i?(Do(t,e.identifier),R(t,!1)):n.push(t))})}),n.length>0&&K(rl,n,Yt.NonRetryableStatus),x&&j(2,2)}function G(t,r){var n=e._notificationManager||{},i=n[t]
if(i)try{i.apply(n,r)}catch(r){On(e.diagLog(),1,74,t+" notification failed: "+r)}}function K(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n]
t&&t.length>0&&G(e,[t].concat(r))}function X(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n]
t&&t.length>0&&Tt(t,function(t){t&&t.count()>0&&G(e,[t.events()].concat(r))})}function J(e,t,r){e&&e.length>0&&G("eventsSendRequest",[t>=1e3&&t<=1999?t-1e3:0,!0!==r])}function Q(e,t){X("eventsSent",e,t),N()}function Y(e,t){X(rl,e,t>=8e3&&t<=8999?t-8e3:Yt.Unknown)}function Z(e){X(rl,e,Yt.NonRetryableStatus),N()}function ee(e,t){X(rl,e,Yt.Unknown),N()}function te(){s=r&&r.disableAutoBatchFlushLimit?0:Math.max(Xs*(el+1),y/6)}L(),e._getDbgPlgTargets=function(){return[a]},e.initialize=function(s,l,c){Bn(l,function(){return"PostChannel:initialize"},function(){var f=l
t.initialize(s,l,c)
try{l[ol]
u=ta(oi(e.identifier),l.evtNamespace&&l.evtNamespace())
var p=e._getTelCtx()
s.extensionConfig[e.identifier]=s.extensionConfig[e.identifier]||{},r=p.getExtCfg(e.identifier),d=$s(r.setTimeoutOverride,r.clearTimeoutOverride),S=!r.disableOptimizeObj&&!!Zr("chrome"),function(e){var t=e.getWParam
e.getWParam=function(){var e=0
return r.ignoreMc1Ms0CookieProcessing&&(e|=2),e|t()}}(f),r.eventsLimitInMem>0&&(y=r.eventsLimitInMem),r.immediateEventLimit>0&&(g=r.immediateEventLimit),r.autoFlushEventsLimit>0&&(o=r.autoFlushEventsLimit),Ct(r[il])&&(k=r[il]),Ct(r[al])&&(A=r[al]),te(),r.httpXHROverride&&r.httpXHROverride.sendPOST&&(i=r.httpXHROverride),Co(s.anonCookieName)&&a.addQueryStringParameter("anoncknm",s.anonCookieName),a.sendHook=r.payloadPreprocessor,a.sendListener=r.payloadListener
var m=r.overrideEndpointUrl?r.overrideEndpointUrl:s.endpointUrl
e._notificationManager=l.getNotifyMgr(),a.initialize(m,e.core,e,i,r)
var h=s.disablePageUnloadEvents||[]
sa(n,h,u),ua(n,h,u),function e(t,r,n){var i=ta(Hi,n),a=aa([zi],t,r,i)
return!(a=aa([Ui],function(e){var r=nn()
t&&r&&"visible"===r.visibilityState&&t(e)},r,i)||a)&&r&&(a=e(t,null,n)),a}(M,s.disablePageShowEvents,u)}catch(t){throw e.setInitialized(!1),t}},function(){return{coreConfig:s,core:l,extensions:c}})},e.processTelemetry=function(t,n){Do(t,e.identifier)
var i=(n=e._getTelCtx(n)).getExtCfg(e.identifier),a=!!r.disableTelemetry
i&&(a=a||!!i.disableTelemetry)
var o=t
a||c||(r[nl]&&(o.iKey=r[nl]),i&&i[nl]&&(o.iKey=i[nl]),R(o,!0),x?j(2,2):N()),e.processNext(o,n)},e._doTeardown=function(e,t){var r,n
j(2,2),c=!0,a.teardown(),la(null,u),da(null,u),r=null,n=ta(Hi,u),oa([zi],r,n),oa([Ui],null,n),L()},e.setEventQueueLimits=function(e,t){y=e>0?e:1e4,o=t>0?t:0,te()
var r=v>e
if(!r&&s>0)for(var n=1;!r&&n<=3;n++){var i=E[n]
i&&i.batches&&Tt(i.batches,function(e){e&&e.count()>=s&&(r=!0)})}q(!0,r)},e.pause=function(){U(),m=!0,a.pause()},e.resume=function(){m=!1,a.resume(),N()},e.addResponseHandler=function(e){a._responseHandlers.push(e)},e._loadTransmitProfiles=function(e){U(),W(),_=Uo,N(),ht(e,function(e,t){var r=t.length
if(r>=2){var n=r>2?t[2]:0
if(t.splice(0,r-2),t[1]<0&&(t[0]=-1),t[1]>0&&t[0]>0){var i=t[0]/t[1]
t[0]=Math.ceil(i)*t[1]}n>=0&&t[1]>=0&&n>t[1]&&(n=t[1]),t.push(n),b[e]=t}})},e.flush=function(e,t,r){if(void 0===e&&(e=!0),!m)if(r=r||1,e)null==p?(U(),H(1,0,r),p=F(function(){p=null,function e(t,r){D(1,0,r)
B();(function e(t){a.isCompletelyIdle()?t():p=F(function(){p=null,e(t)},Ks)})(function(){t&&t(),f.length>0?p=F(function(){p=null,e(f.shift(),r)},0):(p=null,N())})}(t,r)},0)):f.push(t)
else{var n=U()
D(1,1,r),null!==t&&void 0!==t&&t(),n&&N()}},e.setMsaAuthTicket=function(e){a.addHeader(ss,e)},e.hasEvents=O,e._setTransmitProfile=function(e){_!==e&&void 0!==b[e]&&(U(),_=e,N())},e._backOffTransmission=function(){P<Zs&&(P++,U(),N())},e._clearBackOff=function(){P&&(P=0,U(),N())},Ot(e,"_setTimeoutOverride",function(){return d.set},function(e){d=$s(e,d.clear)}),Ot(e,"_clearTimeoutOverride",function(){return d.clear},function(e){d=$s(d.set,e)})}),n}return v(t,e),t.__ieDyn=1,t}(Fa),ll=Jt({UserExt:[0,"user"],DeviceExt:[1,"device"],TraceExt:[2,"trace"],WebExt:[3,"web"],AppExt:[4,"app"],OSExt:[5,"os"],SdkExt:[6,"sdk"],IntWebExt:[7,"intweb"],UtcExt:[8,"utc"],LocExt:[9,"loc"],CloudExt:[10,"cloud"],DtExt:[11,"dt"]}),ul=Jt({id:[0,"id"],ver:[1,"ver"],appName:[2,"name"],locale:[3,"locale"],expId:[4,"expId"],env:[5,"env"]}),dl=Jt({domain:[0,"domain"],browser:[1,"browser"],browserVer:[2,"browserVer"],screenRes:[3,"screenRes"],userConsent:[4,"userConsent"],consentDetails:[5,"consentDetails"]}),cl=Jt({locale:[0,"locale"],localId:[1,"localId"],id:[2,"id"]}),fl=Jt({osName:[0,"name"],ver:[1,"ver"]}),pl=Jt({ver:[0,"ver"],seq:[1,"seq"],installId:[2,"installId"],epoch:[3,"epoch"]}),ml=Jt({msfpc:[0,"msfpc"],anid:[1,"anid"],serviceName:[2,"serviceName"]}),hl=Jt({popSample:[0,"popSample"],eventFlags:[1,"eventFlags"]}),gl=Jt({tz:[0,"tz"]}),vl=Jt({sessionId:[0,"sesId"]}),yl=Jt({localId:[0,"localId"],deviceClass:[1,"deviceClass"],make:[2,"make"],model:[3,"model"]}),bl=Jt({role:[0,"role"],roleInstance:[1,"roleInstance"],roleVer:[2,"roleVer"]}),_l=Jt({traceId:[0,"traceID"],traceName:[1,"name"],parentId:[2,"parentID"]}),Il=Jt({traceId:[0,"traceId"],spanId:[1,"spanId"],traceFlags:[2,"traceFlags"]})
function Cl(){return void 0===Gs&&(Gs=!!wl(0)),Gs}function Pl(){return Cl()?wl(0):null}function wl(e){var t,r,n=null
try{var i=f()
if(!i)return null
r=new Date,(n=0===e?i.localStorage:i.sessionStorage)&&pt(n.setItem)&&(n.setItem(r,r),t=n.getItem(r)!==r,n.removeItem(r),t&&(n=null))}catch(e){n=null}return n}function El(){return this.getId()}function Tl(e){this.setId(e)}var Sl=function(){function e(){Rr(e,this,function(e){e.setId=function(t){e.customId=t},e.getId=function(){return It(e.customId)?e.customId:e.automaticId}})}return e._staticInit=void Ot(e.prototype,"id",El,Tl),e}(),xl="ai_session",kl=function(){function e(t,r){var n,i,a=Mn(t),o=wi(t)
Rr(e,this,function(t){var s,l={sessionRenewalMs:(s=r).sessionRenewalMs&&function(){return s.sessionRenewalMs},sessionExpirationMs:s.sessionExpirationMs&&function(){return s.sessionExpirationMs},cookieDomain:s.cookieDomain&&function(){return s.cookieDomain},namePrefix:s.namePrefix&&function(){return s.namePrefix},sessionAsGuid:function(){return s.sessionAsGuid},idLength:function(){return s.idLength?s.idLength:22}}
function u(e){var r=t.automaticSession,n=e.split("|")
n.length>0&&r.setId(n[0])
try{if(n.length>1){var i=+n[1]
r.acquisitionDate=+new Date(i),r.acquisitionDate=r.acquisitionDate>0?r.acquisitionDate:0}if(n.length>2){var o=+n[2]
r.renewalDate=+new Date(o),r.renewalDate=r.renewalDate>0?r.renewalDate:0}}catch(e){On(a,1,510,"Error parsing ai_session cookie, session will be reset: "+e)}0===r.renewalDate&&On(a,2,517,"AI session renewal date is 0, session will be reset.")}function d(){var e=t.automaticSession,r=(new Date).getTime(),n=t.config.sessionAsGuid()
!lt(n)&&n?Pt(n)?e.setId(xo()):e.setId(xo(n)):e.setId(Zn(l&&l.idLength?l.idLength():22)),e.acquisitionDate=r,e.renewalDate=r,c(e.getId(),e.acquisitionDate,e.renewalDate),Cl()||On(a,2,505,"Browser does not support local storage. Session durations will be inaccurate.")}function c(e,r,a){var s=r+t.config.sessionExpirationMs(),l=a+t.config.sessionRenewalMs(),u=new Date,d=[e,r,a]
s<l?u.setTime(s):u.setTime(l)
var c=t.config.cookieDomain?t.config.cookieDomain():null
o.set(i(),d.join("|")+";expires="+u.toUTCString(),null,c),n=(new Date).getTime()}pt(r.sessionExpirationMs)||(l.sessionExpirationMs=function(){return e.acquisitionSpan}),pt(r.sessionRenewalMs)||(l.sessionRenewalMs=function(){return e.renewalSpan}),t.config=l,i=function(){return t.config.namePrefix&&t.config.namePrefix()?xl+t.config.namePrefix():xl},t.automaticSession=new Sl,t.update=function(){t.automaticSession.getId()||function(){var e=o.get(i())
if(e&&pt(e.split))u(e)
else{var r=function(e,t){var r=Pl()
if(null!==r)try{return r.getItem(t)}catch(t){Gs=!1,On(e,1,503,"Browser failed read of local storage. "+t)}return null}(a,i())
r&&u(r)}t.automaticSession.getId()||d()}()
var r=t.automaticSession,s=t.config,l=(new Date).getTime(),f=l-r.acquisitionDate>s.sessionExpirationMs(),p=l-r.renewalDate>s.sessionRenewalMs()
if(f||p)d()
else{(!n||l-n>e.cookieUpdateInterval)&&(r.renewalDate=l,c(r.getId(),r.acquisitionDate,r.renewalDate))}},t.backup=function(){var e,r,n,o=t.automaticSession
e=o.getId(),r=o.acquisitionDate,n=o.renewalDate,function(e,t,r){var n=Pl()
if(null!==n)try{n.setItem(t,r)}catch(t){Gs=!1,On(e,1,504,"Browser failed write to local storage. "+t)}}(a,i(),[e,r,n].join("|"))}})}return e.acquisitionSpan=864e5,e.renewalSpan=18e5,e.cookieUpdateInterval=6e4,e}(),Al=["AX","EX","SF","CS","CF","CT","CU","DC","DF","H5","HL","WS","WP"]
function Ml(e,t){void 0===t&&(t=Al)
var r=null
if(e)for(var n=e.split(","),i=0;i<n.length;i++)Rl(n[i],t)&&(r?r+=","+n[i]:r=n[i])
return r}function Rl(e,t){if(void 0===t&&(t=Al),!e||e.length<4)return!1
for(var r=!1,n=e.substring(0,3).toString().toUpperCase(),i=0;i<t.length;i++)if(t[i]+":"===n&&e.length<=256){r=!0
break}return r}function Dl(){return this.getExpId()}var Ol=function(){function e(t,r){var n=null,i=Al.slice(0),a="Treatments",o=wi(r),s=t
Rr(e,this,function(e){if(rn()){var r=nn().documentElement
r&&(e.locale=r.lang)}function l(e){e!==n&&(n=Ml(e,i))}e.env=t.env?t.env:function(e){var t,r={},n=nn()
if(n){t=n&&n.querySelectorAll("meta")
for(var i=0;i<t.length;i++){var a=t[i]
if(a.name){var o=a.name.toLowerCase()
if(0===o.indexOf(e)){var s=a.name.replace(e,"")
r[s]=a.content}}}}return r}("awa-").env,e.getExpId=function(){return s.expId?(l(s.expId),n):(l(So(o,a)),n)}})}return e.validateAppExpId=Ml,e._staticInit=void Ot(e.prototype,"expId",Dl),e}(),Nl=function(){return function(){}}(),Ll=function(){return function(){}}()
function Fl(){return this.getMsfpc()}function Ul(){return this.getAnid()}var jl=function(){function e(t,r){var n=wi(r)
Rr(e,this,function(e){t.serviceName&&(e.serviceName=t.serviceName),e.getMsfpc=function(){return So(n,"MSFPC")},e.getAnid=function(){return So(n,"ANON").slice(0,34)}})}var t
return e._staticInit=(Ot(t=e.prototype,"msfpc",Fl),void Ot(t,"anid",Ul)),e}(),zl=function(){return function(){var e=(new Date).getTimezoneOffset(),t=e%60,r=(e-t)/60,n="+"
r>0&&(n="-"),r=Math.abs(r),t=Math.abs(t),this.tz=n+(r<10?"0"+r:r.toString())+":"+(t<10?"0"+t:t.toString())}}(),ql={WIN:/(windows|win32)/i,WINRT:/ arm;/i,WINPHONE:/windows\sphone\s\d+\.\d+/i,OSX:/(macintosh|mac os x)/i,IOS:/(ipad|iphone|ipod)(?=.*like mac os x)/i,LINUX:/(linux|joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk)/i,ANDROID:/android/i,CROS:/CrOS/i},Vl={5.1:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1","10.0":"10"},Bl="([\\d,.]+)",Hl="([\\d,_,.]+)",Wl="Unknown",$l=[{r:ql.WINPHONE,os:"Windows Phone"},{r:ql.WINRT,os:"Windows RT"},{r:ql.WIN,os:"Windows"},{r:ql.IOS,os:"iOS"},{r:ql.ANDROID,os:"Android"},{r:ql.LINUX,os:"Linux"},{r:ql.CROS,os:"Chrome OS"},{s:"x11",os:"Unix"},{s:"blackberry",os:"BlackBerry"},{s:"symbian",os:"Symbian"},{s:"nokia",os:"Nokia"},{r:ql.OSX,os:"Mac OS X"}]
function Gl(e,t){return"Windows"===t?Kl(e,"Windows NT"):"Android"===t?Kl(e,t):"Mac OS X"===t?function(e){var t=e.match(new RegExp("Mac OS X "+Hl))
if(t){var r=t[1].replace(/_/g,".")
if(r){var n=Xl(r)
if(n){var i=r.split(n)
return i[0]}return r}}return Wl}(e):"iOS"===t?function(e){var t=e.match(new RegExp("OS "+Hl))
if(t){var r=t[1].replace(/_/g,".")
if(r){var n=Xl(r)
if(n){var i=r.split(n)
return i[0]}return r}}return Wl}(e):Wl}function Kl(e,t){var r=e.match(new RegExp(t+" "+Bl))
return r?Vl[r[1]]?Vl[r[1]]:r[1]:Wl}function Xl(e){return e.indexOf(".")>-1?".":e.indexOf("_")>-1?"_":null}var Jl=function(){return function(e){if(e.populateOperatingSystemInfo){var t=on()||{},r=e.userAgent||t.userAgent||"",n=e.userAgentData||t.userAgentData||{}
if(r){var i=function(e){for(var t=0;t<$l.length;t++){var r=$l[t]
if(r.r&&e.match(r.r))return r.os
if(r.s&&-1!==e.indexOf(r.s))return r.os}return Wl}(r.toLowerCase())
this.name=i,this.ver=Gl(r,i)}this.name&&this.name!==Wl||!It(n.platform)||(this.name=n.platform)}}}(),Ql="MicrosoftApplicationsTelemetryDeviceId"
var Yl=function(){function e(t,r){var n=0
Rr(e,this,function(e){var i=t.propertyStorageOverride
e.seq=n,e.epoch=Qn(!1).toString()
var a=wi(r,t)
if(a.isEnabled()||i){var o=function(e,t,r){return t?t.getProperty(r)||"":So(e,r)}(a,i,Ql)
o||(o=ca()),function(e,t,r,n){t?t.setProperty(r,n):e.set(r,n,31536e3)}(a,i,Ql,o),e.installId=o}else a.purge(Ql)
e.getSequenceId=function(){return++n}})}return e.__ieDyn=1,e}(),Zl=function(){return function(e,t,r,n){if(this.traceId=t||pa(),e.enableDistributedTracing&&!r&&(r=pa().substring(0,16)),this.parentId=r,e.enableApplicationInsightsTrace){this.name=n
var i=ln()
i&&i.pathname&&(this.name=i.pathname)}}}(),eu="setLocalId"
function tu(){return this.getLocalId()}function ru(e){this[eu](e)}var nu=function(){function e(t,r,n){var i,a=r,o=wi(n,t)
Rr(e,this,function(r){if(o&&o.isEnabled()&&(f(),a.enableApplicationInsightsUser)){var n=So(o,e.userCookieName)
if(n){var s=n.split(e.cookieSeparator)
s.length>0&&(r.id=s[0])}if(!r.id){r.id=Zn(t&&!lt(t.idLength)?t.idLength:22)
var l=Et(new Date)
r.accountAcquisitionDate=l
var u=[r.id,l],d=a.cookieDomain?a.cookieDomain:void 0
o.set(e.userCookieName,u.join(e.cookieSeparator),31536e3,d)}}if("undefined"!=typeof navigator){var c=navigator
r.locale=c.userLanguage||c.language}function f(){if(!a.hashIdentifiers&&!a.dropIdentifiers){var e=So(o,"MUID")
e&&(i="t:"+e)}return i}r.getLocalId=function(){return i||f()},r[eu]=function(e){i=e}})}return e.cookieSeparator="|",e.userCookieName="ai_user",e._staticInit=void Ot(e.prototype,"localId",tu,ru),e}(),iu=1048576,au=2097152,ou=function(){return function(e){this.popSample=100,this.eventFlags=0,e.hashIdentifiers&&(this.eventFlags=this.eventFlags|iu),e.dropIdentifiers&&(this.eventFlags=this.eventFlags|au)}}(),su="([\\d,.]+)",lu="Unknown",uu="Edg/",du=[{ua:"OPR/",b:"Opera"},{ua:"PhantomJS",b:"PhantomJS"},{ua:"Edge",b:"Edge"},{ua:uu,b:"Edge"},{ua:"Electron",b:"Electron"},{ua:"Chrome",b:"Chrome"},{ua:"Trident",b:"MSIE"},{ua:"MSIE ",b:"MSIE"},{ua:"Firefox",b:"Firefox"},{ua:"Safari",b:"Safari"},{ua:"SkypeShell",b:"SkypeShell"}],cu=[{br:"Microsoft Edge",b:"Edge"},{br:"Google Chrome",b:"Chrome"},{br:"Opera",b:"Opera"}]
function fu(e,t){return t.indexOf(e)>-1}function pu(e,t){for(var r=0;r<t.length;r++)if(e==t[r].brand)return t[r].version
return null}function mu(e,t){return"MSIE"===t?function(e){var t=e.match(new RegExp("MSIE "+su))
if(t)return t[1]
var r=e.match(new RegExp("rv:"+su))
if(r)return r[1]}(e):function(e,t){"Safari"===e?e="Version":"Edge"===e&&fu(uu,t)&&(e="Edg")
var r=t.match(new RegExp(e+"/"+su))
if(r)return r[1]
if("Opera"===e&&(r=t.match(new RegExp("OPR/"+su))))return r[1]
return lu}(t,e)}function hu(){return this.getUserConsent()}var gu=function(){function e(t,r){var n=wi(r),i=t||{}
Rr(e,this,function(e){var t=ln()
if(t){var r=t.hostname
r&&(e.domain="file:"===t.protocol?"local":r)}if(i.populateBrowserInfo){var a=i.userAgent,o=(i.userAgentData||{}).brands,s=on()
s&&(a=a||s.userAgent||"",o=o||(s.userAgentData||{}).brands),function(t,r){if(bt(r))try{for(var n=0;n<cu.length;n++){var i=pu(cu[n].br,r)
if(i)return e.browser=cu[n].b,void(e.browserVer=i)}}catch(e){}if(t){var a=function(e){if(e)for(var t=0;t<du.length;t++)if(fu(du[t].ua,e))return du[t].b
return lu}(t)
e.browser=a,e.browserVer=mu(t,a)}}(a,o)
var l=function(){var e={h:0,w:0},t=tn()
return t&&t.screen&&(e.h=screen.height,e.w=screen.width),e}()
e.screenRes=l.w+"X"+l.h}e.getUserConsent=function(){return i.userConsented||!!So(n,i.userConsentCookieName||"MSCC")},e.getUserConsentDetails=function(){try{var e=i.callback
if(e&&e.userConsentDetails){var t=e.userConsentDetails()
if(t)return JSON.stringify({Required:t.Required||!1,Analytics:t.Analytics||!1,SocialMedia:t.SocialMedia||!1,Advertising:t.Advertising||!1})}}catch(e){}return null},Ot(e,"userConsent",e.getUserConsent)})}return e._staticInit=void Ot(e.prototype,"userConsent",hu),e}()
function vu(e,t,r,n,i){var a=t.ext[ll[e]]
return a&&ht(n,function(e,t){if(It(t)||Ct(t)||Pt(t)){var n=a[r[e]]
!i&&(n||It(n)||Ct(n)||Pt(n))&&(t=n),a[r[e]]=t}}),a}var yu=function(){function e(t,r,n){Rr(e,this,function(e){e.app=new Ol(r,n),e.cloud=new Nl,e.user=new nu(t,r,n),e.os=new Jl(r),e.web=new gu(r,n)
var i=new Yl(t,n),a=new jl(r,n),o=new ou(r)
e.loc=new zl,e.device=new Ll
var s=new kl(n,r)
e.session=new Sl
var l,u,d,c=(l=new Zl(r),u=m(),d=l||{},{getName:function(){return d.name},setName:function(e){u&&u.setName(e),d.name=e},getTraceId:function(){return d.traceId},setTraceId:function(e){u&&u.setTraceId(e),va(e)&&(d.traceId=e)},getSpanId:function(){return d.parentId},setSpanId:function(e){u&&u.setSpanId(e),ya(e)&&(d.parentId=e)},getTraceFlags:function(){return d.traceFlags},setTraceFlags:function(e){u&&u.setTraceFlags(e),d.traceFlags=e}}),f=!(r||{}).eventContainExtFields
function p(){var t=e.session
if(t&&It(t.customId))return t.customId
s.update()
var r=s.automaticSession
if(r){var n=r.getId()
n&&It(n)&&(t.automaticId=n)}return t.automaticId}function m(){var e=c
return n&&n.getTraceCtx&&(e=n.getTraceCtx(!1)||c),e}e.getTraceCtx=function(){return c},e.getSessionId=p,e.applyApplicationContext=function(t){var r,n=e.app
vu(4,t,ul,((r={})[0]=n.id,r[1]=n.ver,r[2]=n.name,r[3]=n.locale,r[4]=n.getExpId(),r[5]=n.env,r),f)},e.applyUserContext=function(t){var r,n=e.user
vu(0,t,cl,((r={})[1]=n.getLocalId(),r[0]=n.locale,r[2]=n.id,r),f)},e.applyWebContext=function(t){var r,n=e.web
vu(3,t,dl,((r={})[0]=n.domain,r[1]=n.browser,r[2]=n.browserVer,r[3]=n.screenRes,r[5]=n.getUserConsentDetails(),r[4]=n.getUserConsent(),r),f)},e.applyOsContext=function(t){var r,n=e.os
vu(5,t,fl,((r={})[0]=n.name,r[1]=n.ver,r),f)},e.applySdkContext=function(e){var t
vu(6,e,pl,((t={})[2]=i.installId,t[1]=i.getSequenceId(),t[3]=i.epoch,t),f)},e.applyIntWebContext=function(e){var t
vu(7,e,ml,((t={})[0]=a.getMsfpc(),t[1]=a.getAnid(),t[2]=a.serviceName,t),f)},e.applyUtcContext=function(e){var t,r=((t={})[0]=o.popSample,t)
o.eventFlags>0&&(r[1]=o.eventFlags),vu(8,e,hl,r,f)},e.applyLocContext=function(t){var r
vu(9,t,gl,((r={})[0]=e.loc.tz,r),f)},e.applySessionContext=function(e){var t
vu(4,e,vl,((t={})[0]=p(),t),f)},e.applyDeviceContext=function(t){var r,n=e.device
vu(1,t,yl,((r={})[0]=n.localId,r[2]=n.make,r[3]=n.model,r[1]=n.deviceClass,r),f)},e.applyCloudContext=function(t){var r,n=e.cloud
vu(10,t,bl,((r={})[0]=n.role,r[1]=n.roleInstance,r[2]=n.roleVer,r),f)},e.applyAITraceContext=function(e){var t
if(r.enableApplicationInsightsTrace){var n=m()
n&&vu(2,e,_l,((t={})[0]=n.getTraceId(),t[1]=n.getName(),t[2]=n.getSpanId(),t),!1)}},e.applyDistributedTraceContext=function(e){var t,r=m()
if(r){var n=((t={})[0]=r.getTraceId(),t[1]=r.getSpanId(),t),i=r.getTraceFlags()
ut(i)||(n[2]=i),vu(11,e,Il,n,!1)}}})}return e.__ieDyn=1,e}()
var bu=[ll[4],ll[0],ll[3],ll[5],ll[6],ll[7],ll[8],ll[9],ll[1],ll[2],ll[11],ll[10]],_u=function(e){function t(){var r,n,i,a=e.call(this)||this
return a.identifier="SystemPropertiesCollector",a.priority=3,a.version="3.2.8",Rr(t,a,function(e,t){function a(){r=null,n={}}a(),e.initialize=function(n,a,o){t.initialize(n,a,o),i=e._getTelCtx().getExtCfg(e.identifier),r=new yu(n,i,a),a&&a.setTraceCtx&&a.setTraceCtx(r.getTraceCtx())},e.processTelemetry=function(t,a){Do(t,e.identifier),a=e._getTelCtx(a)
var o,s,l=t.ext=t.ext?t.ext:{}
t.data=t.data?t.data:{},Tt(bu,function(e){l[e]=l[e]||{}}),r&&(r.applyApplicationContext(t),r.applyUserContext(t),r.applyWebContext(t),r.applyOsContext(t),r.applySdkContext(t),r.applyIntWebContext(t),r.applyUtcContext(t),r.applyLocContext(t),r.applySessionContext(t),r.applyDeviceContext(t),i.enableApplicationInsightsTrace&&r.applyAITraceContext(t),i.enableDistributedTracing&&r.applyDistributedTraceContext(t),r.applyCloudContext(t)),Tt(Dt(l),function(e){0===Dt(l[e]).length&&delete l[e]}),o=n,s=t.data,o&&ht(o,function(e,t){s[e]||(s[e]=t)}),e.processNext(t,a)},e.getPropertiesContext=function(){return r},e.setProperty=function(e,t){n[e]=t},e._doTeardown=function(e,t){var n=(e||{}).core()
if(n&&n.getTraceCtx&&r){var i=n.getTraceCtx(!1)
i&&i===r.getTraceCtx()&&n.setTraceCtx(null)}a()}}),a}return v(t,e),t.__ieDyn=1,t}(Fa),Iu=["c:","i:","w:"],Cu={"microsoft.com":"c1.microsoft.com","xbox.com":"c.xbox.com","live.com":"c.live.com","microsoftstore.com":"c.microsoftstore.com","msn.com":"c.msn.com","windows.com":"c.windows.com","office.com":"c.office.com"},Pu=function(){function e(t){this.core=t
var r,n=xo(),i=pa(),a=null,o=!1,s=wi(t)
Rr(e,this,function(e){e.getTraceId=function(){return t&&t.getTraceCtx&&t.getTraceCtx().getTraceId()||i},e.getLastPageViewId=function(){return n},e.initializeIds=function(){o?n=xo():o=!0},e.getMuidUserId=function(){var e=So(s,"MUID")
return e&&e.length?"t:"+e:e},e.setAppUserId=function(e){if(a=null,e)for(var t=0;t<Iu.length;t++)if(Iu[t]===e.substring(0,2)){a=e
break}},e.setDeviceClass=function(e){e&&(r=e)},e.getDeviceClass=function(){return r},e.getAppUserId=function(){return a},e.syncMuid=function(e){var t=ln()
if(t&&e){var r=(t.protocol||"http:")+"//"+e+"/c.gif?DI=4050&did=1&t=",n=nn()
if(n){var i=n.createElement("IMG")
i.style.display="none",i.src=r,i.hidden="",i["aria-hidden"]="true",i.role="presentation"}return!0}return!1},e.getMuidHost=function(e){return Cu[e]}})}return e.visitorId=function(){return So(wi(null),"MUID")},e}(),wu=function(){function e(){this._timers=[]}return e.prototype._recordTimeSpan=function(e,t){var r=(new Date).getTime()
if(t)return r-this._timers[e]
this._timers[e]=r},e}(),Eu="not_specified",Tu="iKey"
function Su(e){var t=null
if(pt(Event))t=new Event(e)
else{var r=nn()
r&&r.createEvent&&(t=r.createEvent("Event")).initEvent(e,!0,!0)}return t}var xu="split",ku="length",Au="toLowerCase",Mu="toString",Ru="removeItem",Du="name",Ou="message",Nu="count",Lu="stringify",Fu="pathname",Uu="indexOf",ju="exceptions",zu="parsedStack",qu="properties",Vu="measurements",Bu="sizeInBytes",Hu="typeName",Wu="severityLevel",$u="problemGroup",Gu="isManual",Ku="hasFullStack",Xu="level",Ju="method",Qu="assembly",Yu="fileName",Zu="line",ed="duration",td="receivedResponse",rd="substring",nd=""
function id(e,t){return void 0===t&&(t=!1),void 0===e||null===e?t:"true"===e.toString()[Au]()}function ad(e){(isNaN(e)||e<0)&&(e=0),e=Math.round(e)
var t=nd+e%1e3,r=nd+Math.floor(e/1e3)%60,n=nd+Math.floor(e/6e4)%60,i=nd+Math.floor(e/36e5)%24,a=Math.floor(e/864e5)
return t=1===t[ku]?"00"+t:2===t[ku]?"0"+t:t,r=r[ku]<2?"0"+r:r,n=n[ku]<2?"0"+n:n,i=i[ku]<2?"0"+i:i,(a>0?a+".":nd)+i+":"+n+":"+r+"."+t}var od=Xt({LocalStorage:0,SessionStorage:1})
Xt({AI:0,AI_AND_W3C:1,W3C:2})
var sd,ld=void 0,ud=void 0
function dd(e){try{if(ut(f()))return null
var t=(new Date)[Mu](),r=Zr(e===od.LocalStorage?"localStorage":"sessionStorage")
r.setItem(t,t)
var n=r.getItem(t)!==t
if(r[Ru](t),!n)return r}catch(e){}return null}function cd(){return pd()?dd(od.SessionStorage):null}function fd(){ld=function(e){(e||void 0===ld)&&(ld=!!dd(od.LocalStorage))
return ld}(!0),ud=pd(!0)}function pd(e){return(e||void 0===ud)&&(ud=!!dd(od.SessionStorage)),ud}function md(e,t){var r=cd()
if(null!==r)try{return r.getItem(t)}catch(t){ud=!1,On(e,2,2,"Browser failed read of session storage. "+Ut(t),{exception:mn(t)})}return null}function hd(e,t,r){var n=t[ku],i=gd(e,t)
if(i[ku]!==n){for(var a=0,o=i;void 0!==r[o];)a++,o=i[rd](0,147)+Ed(a)
i=o}return i}function gd(e,t){var r
return t&&(t=At(t[Mu]()))[ku]>150&&(r=t[rd](0,150),On(e,2,57,"name is too long.  It has been truncated to 150 characters.",{name:t},!0)),r||t}function vd(e,t,r){var n
return void 0===r&&(r=1024),t&&(r=r||1024,(t=At(t)).toString()[ku]>r&&(n=t[Mu]()[rd](0,r),On(e,2,61,"string value is too long. It has been truncated to "+r+" characters.",{value:t},!0))),n||t}function yd(e,t){return wd(e,t,2048,66)}function bd(e,t){var r
return t&&t[ku]>32768&&(r=t[rd](0,32768),On(e,2,56,"message is too long, it has been truncated to 32768 characters.",{message:t},!0)),r||t}function _d(e,t){var r
if(t){var n=""+t
n[ku]>32768&&(r=n[rd](0,32768),On(e,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:t},!0))}return r||t}function Id(e,t){if(t){var r={}
ht(t,function(t,n){if(ft(n)&&dn())try{n=cn()[Lu](n)}catch(t){On(e,2,49,"custom property is not valid",{exception:t},!0)}n=vd(e,n,8192),t=hd(e,t,r),r[t]=n}),t=r}return t}function Cd(e,t){if(t){var r={}
ht(t,function(t,n){t=hd(e,t,r),r[t]=n}),t=r}return t}function Pd(e,t){return t?wd(e,t,128,69)[Mu]():t}function wd(e,t,r,n){var i
return t&&(t=At(t))[ku]>r&&(i=t[rd](0,r),On(e,2,n,"input is too long, it has been truncated to "+r+" characters.",{data:t},!0)),i||t}function Ed(e){var t="00"+e
return t.substr(t[ku]-3)}(sd={MAX_NAME_LENGTH:150,MAX_ID_LENGTH:128,MAX_PROPERTY_LENGTH:8192,MAX_STRING_LENGTH:1024,MAX_URL_LENGTH:2048,MAX_MESSAGE_LENGTH:32768,MAX_EXCEPTION_LENGTH:32768}).sanitizeKeyAndAddUniqueness=hd,sd.sanitizeKey=gd,sd.sanitizeString=vd,sd.sanitizeUrl=yd,sd.sanitizeMessage=bd,sd.sanitizeException=_d,sd.sanitizeProperties=Id,sd.sanitizeMeasurements=Cd,sd.sanitizeId=Pd,sd.sanitizeInput=wd,sd.padNumber=Ed,sd.trim=At
var Td=nn()||{},Sd=0,xd=[null,null,null,null,null]
function kd(e){var t=Sd,r=xd,n=r[t]
return Td.createElement?r[t]||(n=r[t]=Td.createElement("a")):n={host:function(e,t){var r=function(e,t){var r=null
if(e){var n=e.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i)
if(null!=n&&n[ku]>2&&It(n[2])&&n[2][ku]>0&&(r=n[2]||"",t&&n[ku]>2)){var i=(n[1]||"")[Au](),a=n[3]||""
"http"===i&&":80"===a?a="":"https"===i&&":443"===a&&(a=""),r+=a}}return r}(e,t)||""
if(r){var n=r.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i)
if(null!=n&&n[ku]>3&&It(n[2])&&n[2][ku]>0)return n[2]+(n[3]||"")}return r}(e,!0)},n.href=e,++t>=r[ku]&&(t=0),Sd=t,n}function Ad(e,t){var r=null
return 0===e||0===t||ut(e)||ut(t)||(r=t-e),r}function Md(e,t){var r=e||{}
return{getName:function(){return r[Du]},setName:function(e){t&&t.setName(e),r[Du]=e},getTraceId:function(){return r.traceID},setTraceId:function(e){t&&t.setTraceId(e),va(e)&&(r.traceID=e)},getSpanId:function(){return r.parentID},setSpanId:function(e){t&&t.setSpanId(e),ya(e)&&(r.parentID=e)},getTraceFlags:function(){return r.traceFlags},setTraceFlags:function(e){t&&t.setTraceFlags(e),r.traceFlags=e}}}var Rd=function(){function e(e,t,r,n){this.aiDataContract={ver:1,name:1,properties:0,measurements:0}
this.ver=2,this[Du]=vd(e,t)||Eu,this[qu]=Id(e,r),this[Vu]=Cd(e,n)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Event",e.dataType="EventData",e}(),Dd="<no_method>",Od="error",Nd="stack",Ld="stackDetails",Fd="errorSrc",Ud="message",jd="description"
function zd(e,t){var r=e
return r&&!It(r)&&(JSON&&JSON[Lu]?(r=JSON[Lu](e),!t||r&&"{}"!==r||(r=pt(e[Mu])?e[Mu]():""+e)):r=e+" - (Missing JSON.stringify)"),r||""}function qd(e,t){var r=e
return e&&(r&&!It(r)&&(r=e[Ud]||e[jd]||r),r&&!It(r)&&(r=zd(r,!0)),e.filename&&(r=r+" @"+(e.filename||"")+":"+(e.lineno||"?")+":"+(e.colno||"?"))),t&&"String"!==t&&"Object"!==t&&"Error"!==t&&-1===(r||"")[Uu](t)&&(r=t+": "+r),r||""}function Vd(e){return e&&e.src&&It(e.src)&&e.obj&&bt(e.obj)}function Bd(e){var t=e||""
return It(t)||(t=It(t[Nd])?t[Nd]:""+t),{src:t,obj:t[xu]("\n")}}function Hd(e){var t=null
if(e)try{if(e[Nd])t=Bd(e[Nd])
else if(e[Od]&&e[Od][Nd])t=Bd(e[Od][Nd])
else if(e.exception&&e.exception[Nd])t=Bd(e.exception[Nd])
else if(Vd(e))t=e
else if(Vd(e[Ld]))t=e[Ld]
else if(window&&window.opera&&e[Ud])t=function(e){for(var t=[],r=e[xu]("\n"),n=0;n<r[ku];n++){var i=r[n]
r[n+1]&&(i+="@"+r[n+1],n++),t.push(i)}return{src:e,obj:t}}(e[Ou])
else if(e.reason&&e.reason[Nd])t=Bd(e.reason[Nd])
else if(It(e))t=Bd(e)
else{var r=e[Ud]||e[jd]||""
It(e[Fd])&&(r&&(r+="\n"),r+=" from "+e[Fd]),r&&(t=Bd(r))}}catch(e){t=Bd(e)}return t||{src:"",obj:null}}function Wd(e){var t=""
if(e&&!(t=e.typeName||e[Du]||""))try{var r=/function (.{1,200})\(/.exec(e.constructor[Mu]())
t=r&&r[ku]>1?r[1]:""}catch(e){}return t}function $d(e){if(e)try{if(!It(e)){var t=Wd(e),r=zd(e,!1)
return r&&"{}"!==r||(e[Od]&&(t=Wd(e=e[Od])),r=zd(e,!0)),0!==r[Uu](t)&&"String"!==t?t+":"+r:r}}catch(e){}return""+(e||"")}var Gd=function(){function e(e,t,r,n,i,a){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0}
this.ver=2,!function(e){try{if(ft(e))return"ver"in e&&"exceptions"in e&&"properties"in e}catch(e){}return!1}(t)?(r||(r={}),this[ju]=[new Kd(e,t,r)],this[qu]=Id(e,r),this[Vu]=Cd(e,n),i&&(this[Wu]=i),a&&(this.id=a)):(this[ju]=t[ju]||[],this[qu]=t[qu],this[Vu]=t[Vu],t[Wu]&&(this[Wu]=t[Wu]),t.id&&(this.id=t.id),t[$u]&&(this[$u]=t[$u]),ut(t[Gu])||(this[Gu]=t[Gu]))}return e.CreateAutoException=function(e,t,r,n,i,a,o,s){var l,u=Wd(i||a||e)
return(l={})[Ou]=qd(e,u),l.url=t,l.lineNumber=r,l.columnNumber=n,l.error=$d(i||a||e),l.evt=$d(a||e),l[Hu]=u,l.stackDetails=Hd(o||i||a),l.errorSrc=s,l},e.CreateFromInterface=function(t,r,n,i){var a=r[ju]&&xt(r[ju],function(e){return Kd.CreateFromInterface(t,e)})
return new e(t,h(h({},r),{exceptions:a}),n,i)},e.prototype.toInterface=function(){var e,t=this,r=t.exceptions,n=t.properties,i=t.measurements,a=t.severityLevel,o=t.problemGroup,s=t.id,l=t.isManual,u=r instanceof Array&&xt(r,function(e){return e.toInterface()})||void 0
return(e={ver:"4.0"})[ju]=u,e.severityLevel=a,e.properties=n,e.measurements=i,e.problemGroup=o,e.id=s,e.isManual=l,e},e.CreateSimpleException=function(e,t,r,n,i,a){var o
return{exceptions:[(o={},o[Ku]=!0,o.message=e,o.stack=i,o.typeName=t,o)]}},e.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",e.dataType="ExceptionData",e.formatError=$d,e}(),Kd=function(){function e(e,t,r){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2}
if(function(e){try{if(ft(e))return"hasFullStack"in e&&"typeName"in e}catch(e){}return!1}(t))this[Hu]=t[Hu],this[Ou]=t[Ou],this[Nd]=t[Nd],this[zu]=t[zu]||[],this[Ku]=t[Ku]
else{var n=t,i=n&&n.evt
_t(n)||(n=n[Od]||i||n),this[Hu]=vd(e,Wd(n))||Eu,this[Ou]=bd(e,qd(t||n,this[Hu]))||Eu
var a=t[Ld]||Hd(t)
this[zu]=function(e){var t,r=e.obj
if(r&&r[ku]>0){t=[]
var n=0,i=0
if(Tt(r,function(e){var r=e[Mu]()
if(Xd.regex.test(r)){var a=new Xd(r,n++)
i+=a[Bu],t.push(a)}}),i>32768)for(var a=0,o=t[ku]-1,s=0,l=a,u=o;a<o;){if((s+=t[a][Bu]+t[o][Bu])>32768){var d=u-l+1
t.splice(l,d)
break}l=a,u=o,a++,o--}}return t}(a),this[Nd]=_d(e,function(e){var t=""
return e&&(e.obj?Tt(e.obj,function(e){t+=e+"\n"}):t=e.src||""),t}(a)),this.hasFullStack=bt(this.parsedStack)&&this.parsedStack[ku]>0,r&&(r[Hu]=r[Hu]||this[Hu])}}return e.prototype.toInterface=function(){var e,t=this[zu]instanceof Array&&xt(this[zu],function(e){return e.toInterface()})
return(e={id:this.id,outerId:this.outerId,typeName:this[Hu],message:this[Ou],hasFullStack:this[Ku],stack:this[Nd]})[zu]=t||void 0,e},e.CreateFromInterface=function(t,r){var n=r[zu]instanceof Array&&xt(r[zu],function(e){return Xd.CreateFromInterface(e)})||r[zu]
return new e(t,h(h({},r),{parsedStack:n}))},e}(),Xd=function(){function e(t,r){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0}
if(this[Bu]=0,"string"==typeof t){var n=t
this[Xu]=r,this[Ju]=Dd,this[Qu]=At(n),this[Yu]="",this[Zu]=0
var i=n.match(e.regex)
i&&i[ku]>=5&&(this[Ju]=At(i[2])||this[Ju],this[Yu]=At(i[4]),this[Zu]=parseInt(i[5])||0)}else this[Xu]=t[Xu],this[Ju]=t[Ju],this[Qu]=t[Qu],this[Yu]=t[Yu],this[Zu]=t[Zu],this[Bu]=0
this.sizeInBytes+=this.method[ku],this.sizeInBytes+=this.fileName[ku],this.sizeInBytes+=this.assembly[ku],this[Bu]+=e.baseSize,this.sizeInBytes+=this.level.toString()[ku],this.sizeInBytes+=this.line.toString()[ku]}return e.CreateFromInterface=function(t){return new e(t,null)},e.prototype.toInterface=function(){return{level:this[Xu],method:this[Ju],assembly:this[Qu],fileName:this[Yu],line:this[Zu]}},e.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,e.baseSize=58,e}(),Jd=function(){return function(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}}(),Qd=function(){function e(e,t,r,n,i,a,o,s,l){this.aiDataContract={ver:1,metrics:1,properties:0}
this.ver=2
var u=new Jd
u[Nu]=n>0?n:void 0,u.max=isNaN(a)||null===a?void 0:a,u.min=isNaN(i)||null===i?void 0:i,u[Du]=vd(e,t)||Eu,u.value=r,u.stdDev=isNaN(o)||null===o?void 0:o,this.metrics=[u],this[qu]=Id(e,s),this[Vu]=Cd(e,l)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",e.dataType="MetricData",e}(),Yd=function(){function e(e,t,r,n,i,a,o){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0}
this.ver=2,this.id=Pd(e,o),this.url=yd(e,r),this[Du]=vd(e,t)||Eu,isNaN(n)||(this[ed]=ad(n)),this[qu]=Id(e,i),this[Vu]=Cd(e,a)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",e.dataType="PageviewData",e}(),Zd=function(){function e(e,t,r,n,i,a,o,s,l,u,d,c){void 0===l&&(l="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0}
this.ver=2,this.id=t,this[ed]=ad(i),this.success=a,this.resultCode=o+"",this.type=vd(e,l)
var f=function(e,t,r,n){var i,a=n,o=n
if(t&&t[ku]>0){var s=kd(t)
if(i=s.host,!a)if(null!=s[Fu]){var l=0===s.pathname[ku]?"/":s[Fu]
"/"!==l.charAt(0)&&(l="/"+l),o=s[Fu],a=vd(e,r?r+" "+l:l)}else a=vd(e,t)}else i=n,a=n
return{target:i,name:a,data:o}}(e,r,s,n)
this.data=yd(e,n)||f.data,this.target=vd(e,f.target),u&&(this.target="".concat(this.target," | ").concat(u)),this[Du]=vd(e,f[Du]),this[qu]=Id(e,d),this[Vu]=Cd(e,c)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",e.dataType="RemoteDependencyData",e}(),ec=function(){function e(e,t,r,n,i){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0}
this.ver=2,t=t||Eu,this[Ou]=bd(e,t),this[qu]=Id(e,n),this[Vu]=Cd(e,i),r&&(this[Wu]=r)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Message",e.dataType="MessageData",e}(),tc=function(){function e(e,t,r,n,i,a,o){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0}
this.ver=2,this.url=yd(e,r),this[Du]=vd(e,t)||Eu,this[qu]=Id(e,i),this[Vu]=Cd(e,a),o&&(this.domProcessing=o.domProcessing,this[ed]=o[ed],this.networkConnect=o.networkConnect,this.perfTotal=o.perfTotal,this[td]=o[td],this.sentRequest=o.sentRequest)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",e.dataType="PageviewPerformanceData",e}()
function rc(e,t,r,n,i,a){var o
r=vd(n,r)||Eu,(ut(e)||ut(t)||ut(r))&&Bt("Input doesn't contain all required fields")
var s=""
e[Tu]&&(s=e[Tu],delete e[Tu])
var l=((o={})[Du]=r,o.time=Et(new Date),o.iKey=s,o.ext=a||{},o.tags=[],o.data={},o.baseType=t,o.baseData=e,o)
return ut(i)||ht(i,function(e,t){l.data[e]=t}),l}var nc="AppInsightsPropertiesPlugin",ic="ApplicationInsightsAnalytics",ac="toString",oc="disableExceptionTracking",sc="autoTrackPageVisitTime",lc="overridePageViewDuration",uc="enableUnhandledPromiseRejectionTracking",dc="samplingPercentage",cc="isStorageUseDisabled",fc="isBrowserLinkTrackingEnabled",pc="enableAutoRouteTracking",mc="namePrefix",hc="disableFlushOnBeforeUnload",gc="core",vc="dataType",yc="envelopeType",bc="diagLog",_c="track",Ic="trackPageView",Cc="trackPreviousPageVisit",Pc="sendPageViewInternal",wc="sendPageViewPerformanceInternal",Ec="populatePageViewPerformanceEvent",Tc="href",Sc="sendExceptionInternal",xc="exception",kc="error",Ac="_onerror",Mc="errorSrc",Rc="lineNumber",Dc="columnNumber",Oc="message",Nc="CreateAutoException",Lc="addTelemetryInitializer",Fc="duration",Uc="length",jc="isPerformanceTimingSupported",zc="getPerformanceTiming",qc="navigationStart",Vc="shouldCollectDuration",Bc="isPerformanceTimingDataReady",Hc="getEntriesByType",Wc="responseStart",$c="requestStart",Gc="loadEventEnd",Kc="responseEnd",Xc="connectEnd",Jc="pageVisitStartTime",Qc=function(){function e(t,r,n,i){Rr(e,this,function(e){var a,o=null,s=[],l=!1
function u(e){n&&n.flush(e)}n&&(a=n.logger),e[Ic]=function(e,n){var d=e.name
if(ut(d)||"string"!=typeof d){var c=nn()
d=e.name=c&&c.title||""}var f=e.uri
if(ut(f)||"string"!=typeof f){var p=ln()
f=e.uri=p&&p[Tc]||""}if(!i[jc]())return t[Pc](e,n),u(!0),void On(a,2,25,"trackPageView: navigation timing API used for calculation of page duration is not supported in this browser. This page view will be collected without duration and timing info.")
var m,h,g=!1,v=i[zc]()[qc]
v>0&&(m=Ad(v,+new Date),i[Vc](m)||(m=void 0)),ut(n)||ut(n[Fc])||(h=n[Fc]),!r&&isNaN(h)||(isNaN(h)&&(n||(n={}),n[Fc]=m),t[Pc](e,n),u(!0),g=!0)
var y
n||(n={}),y=function(){var r=!1
try{if(i[Bc]()){r=!0
var o={name:d,uri:f}
i[Ec](o),o.isValid||g?(g||(n[Fc]=o.durationMs,t[Pc](e,n)),l||(t[wc](o,n),l=!0)):(n[Fc]=m,t[Pc](e,n))}else v>0&&Ad(v,+new Date)>6e4&&(r=!0,g||(n[Fc]=6e4,t[Pc](e,n)))}catch(e){On(a,1,38,"trackPageView failed on page load calculation: "+Ut(e),{exception:mn(e)})}return r},s.push(y),o||(o=setInterval(function(){var e=s.slice(0),t=!1
s=[],Tt(e,function(e){e()?t=!0:s.push(e)}),0===s[Uc]&&(clearInterval(o),o=null),t&&u(!0)},100))},e.teardown=function(e,t){if(o){clearInterval(o),o=null
var r=s.slice(0)
s=[],Tt(r,function(e){e()})}}})}return e.__ieDyn=1,e}(),Yc=36e5,Zc=["googlebot","adsbot-google","apis-google","mediapartners-google"]
function ef(){var e=un()
return e&&!!e.timing}function tf(){var e=un(),t=e?e.timing:0
return t&&t.domainLookupStart>0&&t[qc]>0&&t[Wc]>0&&t[$c]>0&&t[Gc]>0&&t[Kc]>0&&t[Xc]>0&&t.domLoading>0}function rf(){return ef()?un().timing:null}function nf(){return(e=un())&&e.getEntriesByType&&e.getEntriesByType("navigation")[Uc]>0?un()[Hc]("navigation")[0]:null
var e}function af(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]
var r=(on()||{}).userAgent,n=!1
if(r)for(var i=0;i<Zc[Uc];i++)n=n||-1!==r.toLowerCase().indexOf(Zc[i])
if(n)return!1
for(i=0;i<e[Uc];i++)if(e[i]<0||e[i]>=Yc)return!1
return!0}var of=function(){function e(t){var r=this,n=Mn(t)
Rr(e,this,function(e){e[Ec]=function(e){e.isValid=!1
var t=nf(),i=rf(),a=0,o=0,s=0,l=0,u=0;(t||i)&&(t?(a=t[Fc],o=0===t.startTime?t[Xc]:Ad(t.startTime,t[Xc]),s=Ad(t.requestStart,t[Wc]),l=Ad(t[Wc],t[Kc]),u=Ad(t.responseEnd,t[Gc])):(a=Ad(i[qc],i[Gc]),o=Ad(i[qc],i[Xc]),s=Ad(i.requestStart,i[Wc]),l=Ad(i[Wc],i[Kc]),u=Ad(i.responseEnd,i[Gc])),0===a?On(n,2,10,"error calculating page view performance.",{total:a,network:o,request:s,response:l,dom:u}):r[Vc](a,o,s,l,u)?a<Math.floor(o)+Math.floor(s)+Math.floor(l)+Math.floor(u)?On(n,2,8,"client performance math error.",{total:a,network:o,request:s,response:l,dom:u}):(e.durationMs=a,e.perfTotal=e[Fc]=ad(a),e.networkConnect=ad(o),e.sentRequest=ad(s),e.receivedResponse=ad(l),e.domProcessing=ad(u),e.isValid=!0):On(n,2,45,"Invalid page load duration value. Browser perf data won't be sent.",{total:a,network:o,request:s,response:l,dom:u}))},e[zc]=rf,e[jc]=ef,e[Bc]=tf,e[Vc]=af})}return e.__ieDyn=1,e}(),sf=function(){function e(t,r){var n="prevPageVisitData"
Rr(e,this,function(e){e[Cc]=function(e,i){try{var a=function(e,r){var i=null
try{i=function(){var e=null
try{if(pd()){var r=Ft(),i=md(t,n)
i&&dn()&&((e=cn().parse(i)).pageVisitTime=r-e[Jc],function(e,t){var r=cd()
if(null!==r)try{return r[Ru](t),!0}catch(t){ud=!1,On(e,2,6,"Browser failed removal of session storage item. "+Ut(t),{exception:mn(t)})}}(t,n))}}catch(r){Nn(t,"Stop page visit timer failed: "+mn(r)),e=null}return e}(),function(e,r){try{if(pd()){null!=md(t,n)&&Bt("Cannot call startPageVisit consecutively without first calling stopPageVisit")
var i=new lf(e,r),a=cn().stringify(i);(function(e,t,r){var n=cd()
if(null!==n)try{return n.setItem(t,r),!0}catch(t){ud=!1,On(e,2,4,"Browser failed write to session storage. "+Ut(t),{exception:mn(t)})}})(t,n,a)}}catch(e){Nn(t,"Call to start failed: "+mn(e))}}(e,r)}catch(e){Nn(t,"Call to restart failed: "+mn(e)),i=null}return i}(e,i)
a&&r(a.pageName,a.pageUrl,a.pageVisitTime)}catch(e){Nn(t,"Auto track page visit time failed, metric will not be collected: "+mn(e))}},Ot(e,"_logger",function(){return t}),Ot(e,"pageVisitTimeTrackingHandler",function(){return r})})}return e.__ieDyn=1,e}(),lf=function(){return function(e,t){this[Jc]=Ft(),this.pageName=e,this.pageUrl=t}}(),uf=function(){return function(e,t){var r=this,n={}
r.start=function(t){void 0!==n[t]&&On(e,2,62,"start was called more than once for this event without calling stop.",{name:t,key:t},!0),n[t]=+new Date},r.stop=function(t,i,a,o){var s=n[t]
if(isNaN(s))On(e,2,63,"stop was called without a corresponding start.",{name:t,key:t},!0)
else{var l=Ad(s,+new Date)
r.action(t,i,l,a,o)}delete n[t],n[t]=void 0}}}(),df="event"
function cf(e,t){e&&e.dispatchEvent&&t&&e.dispatchEvent(t)}var ff=6e4
function pf(e,t){return(e=e||t)<ff&&(e=ff),e}function mf(e){return e||(e={}),e.sessionRenewalMs=pf(e.sessionRenewalMs,18e5),e.sessionExpirationMs=pf(e.sessionExpirationMs,864e5),e[oc]=id(e[oc]),e[sc]=id(e[sc]),e[lc]=id(e[lc]),e[uc]=id(e[uc]),(isNaN(e[dc])||e[dc]<=0||e[dc]>=100)&&(e[dc]=100),e[cc]=id(e[cc]),e[fc]=id(e[fc]),e[pc]=id(e[pc]),e[mc]=e[mc]||"",e.enableDebug=id(e.enableDebug),e[hc]=id(e[hc]),e.disableFlushOnUnload=id(e.disableFlushOnUnload,e[hc]),e}function hf(e){lt(e[cc])||(e[cc]?(ld=!1,ud=!1):fd())}var gf=function(e){function t(){var r,i,a,o,s,l,u,d,c,f,p,m,g,v,y,b,_,I=e.call(this)||this
return I.identifier=ic,I.priority=180,I.autoRoutePVDelay=500,Rr(t,I,function(e,t){var C=t._addHook
function P(){var t=null
if(e[gc]&&e[gc].getTraceCtx){t=e[gc].getTraceCtx(false)}if(!t){var r=e[gc].getPlugin(nc)
if(r){var n=r.plugin.context
if(n){t=Md(n.telemetryTrace)}}}return t}function w(t,r,n,i,a){e[bc]().throwInternal(t,r,n,i,a)}function E(){r=null,i=null,a=null,o=null,s=null,l=null,u=!1,d=!1,c=!1,f=!1,p=!1,m=!1,g=!1,v=!1
var e=ln(!0)
y=e&&e[Tc]||"",b=null,_=null}E(),e.getCookieMgr=function(){return wi(e[gc])},e.processTelemetry=function(t,r){e.processNext(t,r)},e.trackEvent=function(t,r){try{var n=rc(t,Rd[vc],Rd[yc],e[bc](),r)
e[gc][_c](n)}catch(e){w(2,39,"trackTrace failed, trace will not be collected: "+Ut(e),{exception:mn(e)})}},e.startTrackEvent=function(e){try{r.start(e)}catch(e){w(1,29,"startTrackEvent failed, event will not be collected: "+Ut(e),{exception:mn(e)})}},e.stopTrackEvent=function(e,t,n){try{r.stop(e,void 0,t,n)}catch(e){w(1,30,"stopTrackEvent failed, event will not be collected: "+Ut(e),{exception:mn(e)})}},e.trackTrace=function(t,r){try{var n=rc(t,ec[vc],ec[yc],e[bc](),r)
e[gc][_c](n)}catch(e){w(2,39,"trackTrace failed, trace will not be collected: "+Ut(e),{exception:mn(e)})}},e.trackMetric=function(t,r){try{var n=rc(t,Qd[vc],Qd[yc],e[bc](),r)
e[gc][_c](n)}catch(e){w(1,36,"trackMetric failed, metric will not be collected: "+Ut(e),{exception:mn(e)})}},e[Ic]=function(t,r){try{var n=t||{}
a[Ic](n,h(h(h({},n.properties),n.measurements),r)),e.config[sc]&&s[Cc](n.name,n.uri)}catch(e){w(1,37,"trackPageView failed, page view will not be collected: "+Ut(e),{exception:mn(e)})}},e[Pc]=function(t,r,n){var i=nn()
i&&(t.refUri=void 0===t.refUri?i.referrer:t.refUri)
var a=rc(t,Yd[vc],Yd[yc],e[bc](),r,n)
e[gc][_c](a)},e[wc]=function(t,r,n){var i=rc(t,tc[vc],tc[yc],e[bc](),r,n)
e[gc][_c](i)},e.trackPageViewPerformance=function(t,r){var n=t||{}
try{o[Ec](n),e[wc](n,r)}catch(e){w(1,37,"trackPageViewPerformance failed, page view will not be collected: "+Ut(e),{exception:mn(e)})}},e.startTrackPage=function(e){try{if("string"!=typeof e){var t=nn()
e=t&&t.title||""}i.start(e)}catch(e){w(1,31,"startTrackPage failed, page view may not be collected: "+Ut(e),{exception:mn(e)})}},e.stopTrackPage=function(t,r,n,a){try{if("string"!=typeof t){var o=nn()
t=o&&o.title||""}if("string"!=typeof r){var l=ln()
r=l&&l[Tc]||""}i.stop(t,r,n,a),e.config[sc]&&s[Cc](t,r)}catch(e){w(1,32,"stopTrackPage failed, page view will not be collected: "+Ut(e),{exception:mn(e)})}},e[Sc]=function(t,r,n){var i=t[xc]||t[kc]||new Error(Eu),a=rc(new Gd(e[bc](),i,t.properties||r,t.measurements,t.severityLevel,t.id).toInterface(),Gd[vc],Gd[yc],e[bc](),r,n)
e[gc][_c](a)},e.trackException=function(t,r){t&&!t[xc]&&t[kc]&&(t[xc]=t[kc])
try{e[Sc](t,r)}catch(e){w(1,35,"trackException failed, exception will not be collected: "+Ut(e),{exception:mn(e)})}},e[Ac]=function(t){var r=t&&t[kc],n=t&&t.evt
try{if(!n){var i=tn()
i&&(n=i[df])}var a=t&&t.url||(nn()||{}).URL,o=t[Mc]||"window.onerror@"+a+":"+(t[Rc]||0)+":"+(t[Dc]||0),s={errorSrc:o,url:a,lineNumber:t[Rc]||0,columnNumber:t[Dc]||0,message:t[Oc]}
!function(e,t,r,n,i){return!i&&It(e)&&("Script error."===e||"Script error"===e)}(t.message,t.url,t.lineNumber,t.columnNumber,t[kc])?(t[Mc]||(t[Mc]=o),e.trackException({exception:t,severityLevel:3},s)):function(t,r){var n=rc(t,Gd[vc],Gd[yc],e[bc](),r)
e[gc][_c](n)}(Gd[Nc]("Script error: The browser's same-origin policy prevents us from getting the details of this exception. Consider using the 'crossorigin' attribute.",a,t[Rc]||0,t[Dc]||0,r,n,null,o),s)}catch(e){var l=r?r.name+", "+r[Oc]:"null"
w(1,11,"_onError threw exception while logging error, error will not be collected: "+Ut(e),{exception:mn(e),errorString:l})}},e[Lc]=function(t){if(e[gc])return e[gc][Lc](t)
l||(l=[]),l.push(t)},e.initialize=function(h,w,E,T){if(!e.isInitialized()){ut(w)&&Bt("Error initializing"),t.initialize(h,w,E,T)
try{_=ta(oi(e.identifier),w.evtNamespace&&w.evtNamespace()),l&&(Tt(l,function(e){w[Lc](e)}),l=null)
var S=function(t){var r=xa(null,t,e[gc]),n=e.identifier,i=mf(t),a=e.config=r.getExtCfg(n)
void 0!==i&&ht(i,function(e,t){a[e]=r.getConfig(n,e,t),void 0===a[e]&&(a=t)})
return a}(h)
hf(S),o=new of(e[gc]),a=new Qc(I,S[lc],e[gc],o),s=new sf(e[bc](),function(t,r,n){return function(t,r,n){var i={PageName:t,PageUrl:r}
e.trackMetric({name:"PageVisitTime",average:n,max:n,min:n,sampleCount:1},i)}(t,r,n)}),function(t,r){u=t[fc]||r[fc],function(){if(!d&&u){var t=["/browserLinkSignalR/","/__browserLink/"]
e[Lc](function(e){if(u&&e.baseType===Zd[vc]){var r=e.baseData
if(r)for(var n=0;n<t[Uc];n++)if(r.target&&r.target.indexOf(t[n])>=0)return!1}return!0}),d=!0}}()}(S,h),(r=new uf(e[bc](),"trackEvent")).action=function(t,r,n,i,a){i||(i={}),a||(a={}),i.duration=n[ac](),e.trackEvent({name:t,properties:i,measurements:a})},(i=new uf(e[bc](),"trackPageView")).action=function(t,r,n,i,a){ut(i)&&(i={}),i.duration=n[ac]()
var o={name:t,uri:r,properties:i,measurements:a}
e[Pc](o,i)},en()&&(function(t){var r=tn(),n=ln(!0);(p=t[oc])||m||t.autoExceptionInstrumented||(C(no(r,"onerror",{ns:_,rsp:function(t,r,n,i,a,o){p||!0===t.rslt||e[Ac](Gd[Nc](r,n,i,a,o,t.evt))}},!1)),m=!0);(function(t,r,n){(g=!0===t[uc])&&!v&&(C(no(r,"onunhandledrejection",{ns:_,rsp:function(t,r){g&&!0!==t.rslt&&e[Ac](Gd[Nc](function(e){if(e&&e.reason){var t=e.reason
return!It(t)&&pt(t[ac])?t[ac]():mn(t)}return e||""}(r),n?n[Tc]:"",0,0,r,t.evt))}},!1)),v=!0,t.autoUnhandledPromiseInstrumented=v)})(t,r,n)}(S),function(t){var r=tn(),i=ln(!0)
if(c=!0===t[pc],r&&c&&sn()){var a=sn()?history:Zr(Lr)
pt(a.pushState)&&pt(a.replaceState)&&typeof Event!==n&&function(t,r,n,i){var a=t[mc]||""
f||(C(no(n,"pushState",{ns:_,rsp:function(){c&&(cf(r,Su(a+"pushState")),cf(r,Su(a+"locationchange")))}},!0)),C(no(n,"replaceState",{ns:_,rsp:function(){c&&(cf(r,Su(a+"replaceState")),cf(r,Su(a+"locationchange")))}},!0)),ra(r,a+"popstate",function(){c&&cf(r,Su(a+"locationchange"))},_),ra(r,a+"locationchange",function(){b?(y=b,b=i&&i[Tc]||""):b=i&&i[Tc]||""
if(c){var t=P()
if(t){t.setTraceId(pa())
var r="_unknown_"
i&&i.pathname&&(r=i.pathname+(i.hash||"")),t.setName(vd(e[bc](),r))}setTimeout(function(t){e[Ic]({refUri:t,properties:{duration:0}})}.bind(this,y),e.autoRoutePVDelay)}},_),f=!0)}(t,r,a,i)}}(S))}catch(t){throw e.setInitialized(!1),t}}},e._doTeardown=function(e,t){a&&a.teardown(e,t),na(window,null,null,_),E()},Ot(e,"_pageViewManager",function(){return a}),Ot(e,"_pageViewPerformanceManager",function(){return o}),Ot(e,"_pageVisitTimeManager",function(){return s}),Ot(e,"_evtNamespace",function(){return"."+_})}),I}return v(t,e),t.Version="2.8.9",t.getDefaultConfig=mf,t}(Fa),vf="data-bi-dnt",yf="data-bi-mto"
function bf(e){ht(e,function(t,r){(!Co(r)||"{}"===JSON.stringify(r)&&"callback"!==t)&&delete e[t]})}function _f(e,t,r){var n=e
if(n){for(n=Cf(n);!t(n,r);)if(!(n=Cf(n=n.parentNode))||!n.getAttribute)return null
return n}}function If(e){return"A"===e.nodeName}function Cf(e){return e}function Pf(e,t){var r,n,i,a,o,s,l,u,d,c,f=(e=Cf(e)).getBoundingClientRect()
return(n=t,i=(r=f).left,a=r.top,o=r.right,s=r.bottom,l=n.left,u=n.top,d=n.right,c=n.bottom,Math.max(0,Math.min(o,d)-Math.max(i,l))*Math.max(0,Math.min(s,c)-Math.max(a,u)))>0}function wf(e,t){return!!Co(Ef(e,vf))}function Ef(e,t){return _f(e,Tf,t)}function Tf(e,t){var r=e.getAttribute(t)
return Co(r)||""===r}function Sf(e){return"["+e+"]"}function xf(e,t,r,n){var i
return function(){var a=arguments,o=!i
clearTimeout(i),i=setTimeout(function(){i=0,t&&t.apply(n,a)},r),o&&e&&e.apply(n,a)}}function kf(){var e={h:0,v:0},t=tn(),r=nn()
return r&&t&&(e={h:parseInt(r.body.scrollLeft||r.documentElement.scrollLeft||t.pageXOffset,10),v:parseInt(r.body.scrollTop||r.documentElement.scrollTop||t.pageYOffset,10)}),e}function Af(){var e={h:0,w:0},t=tn(),r=nn()
if(t&&r&&t.screen){var n=r.body||{},i=r.documentElement||{}
e.h=t.innerHeight||n.clientHeight||i.clientHeight,e.w=t.innerWidth||n.clientWidth||i.clientWidth}return e}var Mf={BUTTON:!0,CHECKBOX:!0,RADIO:!0,RESET:!0,SUBMIT:!0}
function Rf(e){if(e){var t=function(e){return _f(e,If)}(e)
if(t&&1===t.length){if(t[0].href)return t[0].href
if(t[0].src)return t[0].src}}return""}function Df(e){if(!e||!e.attributes)return!1
try{var t=e.getAttribute("data-dc")
return!!Co(t)&&"pii"===t.toLowerCase()}catch(e){return!1}}function Of(e,t){return e.coreData&&e.coreData.requestUri&&""!==e.coreData.requestUri?e.coreData.requestUri:function(e,t){if(!t)return null
var r=t.protocol+"//"+(t.hostname||t.host)+(Co(t.port)?":"+t.port:"")+t.pathname
if(e.urlCollectQuery){var n=t.search
if(!n){var i=t.hash||"",a=i.indexOf("?");-1!==a&&(n=i.slice(a))}r+=n}e.urlCollectHash&&(r+=t.hash||"")
return r}(e,t)}function Nf(e,t){var r,n="",i={},a=[],o=e.cookiesToCollect
!1===e.shareAuthStatus?a=o:Tt(o,function(e){"ANON"!==e&&a.push(e)})
try{try{Io&&window.varCustomerCookies&&window.varCustomerCookies.length>0&&(a=a.concat(window.varCustomerCookies))}catch(e){On(t,1,512,"Failed to get cookies ")}Tt(a,function(e){i.hasOwnProperty(e)||(i[e]="",_o&&""!==(r=decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1")))&&(n+=e+"="+r+";"))})}catch(e){On(t,1,512,"Failed to get cookies ")}return n}function Lf(e,t){var r=ta(oi("onDomLoaded"),t);(function e(t){var r=nn()||{};/in/.test(r.readyState)?setTimeout(function(){e(t)},100):t.call()})(function(){if(_o&&"complete"===document.readyState)e()
else{var t=tn()
t&&ra(t,"load",function(){e&&e(),e=null,na(t,null,null,r)},r)}})}function Ff(e,t,r){var n=""
return t&&t[r]?n=t[r]:e&&(n=e[r]),n}e.Behavior=void 0,function(e){e[e.UNDEFINED=0]="UNDEFINED",e[e.NAVIGATIONBACK=1]="NAVIGATIONBACK",e[e.NAVIGATION=2]="NAVIGATION",e[e.NAVIGATIONFORWARD=3]="NAVIGATIONFORWARD",e[e.APPLY=4]="APPLY",e[e.REMOVE=5]="REMOVE",e[e.SORT=6]="SORT",e[e.EXPAND=7]="EXPAND",e[e.REDUCE=8]="REDUCE",e[e.CONTEXTMENU=9]="CONTEXTMENU",e[e.TAB=10]="TAB",e[e.COPY=11]="COPY",e[e.EXPERIMENTATION=12]="EXPERIMENTATION",e[e.PRINT=13]="PRINT",e[e.SHOW=14]="SHOW",e[e.HIDE=15]="HIDE",e[e.MAXIMIZE=16]="MAXIMIZE",e[e.MINIMIZE=17]="MINIMIZE",e[e.BACKBUTTON=18]="BACKBUTTON",e[e.STARTPROCESS=20]="STARTPROCESS",e[e.PROCESSCHECKPOINT=21]="PROCESSCHECKPOINT",e[e.COMPLETEPROCESS=22]="COMPLETEPROCESS",e[e.SCENARIOCANCEL=23]="SCENARIOCANCEL",e[e.DOWNLOADCOMMIT=40]="DOWNLOADCOMMIT",e[e.DOWNLOAD=41]="DOWNLOAD",e[e.SEARCHAUTOCOMPLETE=60]="SEARCHAUTOCOMPLETE",e[e.SEARCH=61]="SEARCH",e[e.SEARCHINITIATE=62]="SEARCHINITIATE",e[e.TEXTBOXINPUT=63]="TEXTBOXINPUT",e[e.PURCHASE=80]="PURCHASE"
e[e.ADDTOCART=81]="ADDTOCART",e[e.VIEWCART=82]="VIEWCART",e[e.ADDWISHLIST=83]="ADDWISHLIST",e[e.FINDSTORE=84]="FINDSTORE",e[e.CHECKOUT=85]="CHECKOUT",e[e.REMOVEFROMCART=86]="REMOVEFROMCART",e[e.PURCHASECOMPLETE=87]="PURCHASECOMPLETE",e[e.VIEWCHECKOUTPAGE=88]="VIEWCHECKOUTPAGE",e[e.VIEWCARTPAGE=89]="VIEWCARTPAGE",e[e.VIEWPDP=90]="VIEWPDP",e[e.UPDATEITEMQUANTITY=91]="UPDATEITEMQUANTITY",e[e.INTENTTOBUY=92]="INTENTTOBUY",e[e.PUSHTOINSTALL=93]="PUSHTOINSTALL",e[e.SIGNIN=100]="SIGNIN",e[e.SIGNOUT=101]="SIGNOUT",e[e.SOCIALSHARE=120]="SOCIALSHARE",e[e.SOCIALLIKE=121]="SOCIALLIKE",e[e.SOCIALREPLY=122]="SOCIALREPLY",e[e.CALL=123]="CALL",e[e.EMAIL=124]="EMAIL",e[e.COMMUNITY=125]="COMMUNITY",e[e.SOCIALFOLLOW=126]="SOCIALFOLLOW",e[e.VOTE=140]="VOTE",e[e.SURVEYINITIATE=141]="SURVEYINITIATE",e[e.SURVEYCOMPLETE=142]="SURVEYCOMPLETE",e[e.REPORTAPPLICATION=143]="REPORTAPPLICATION",e[e.REPORTREVIEW=144]="REPORTREVIEW",e[e.SURVEYCHECKPOINT=145]="SURVEYCHECKPOINT",e[e.CONTACT=160]="CONTACT",e[e.REGISTRATIONINITIATE=161]="REGISTRATIONINITIATE"
e[e.REGISTRATIONCOMPLETE=162]="REGISTRATIONCOMPLETE",e[e.CANCELSUBSCRIPTION=163]="CANCELSUBSCRIPTION",e[e.RENEWSUBSCRIPTION=164]="RENEWSUBSCRIPTION",e[e.CHANGESUBSCRIPTION=165]="CHANGESUBSCRIPTION",e[e.REGISTRATIONCHECKPOINT=166]="REGISTRATIONCHECKPOINT",e[e.CHATINITIATE=180]="CHATINITIATE",e[e.CHATEND=181]="CHATEND",e[e.TRIALSIGNUP=200]="TRIALSIGNUP",e[e.TRIALINITIATE=201]="TRIALINITIATE",e[e.SIGNUP=210]="SIGNUP",e[e.FREESIGNUP=211]="FREESIGNUP",e[e.PARTNERREFERRAL=220]="PARTNERREFERRAL",e[e.LEARNLOWFUNNEL=230]="LEARNLOWFUNNEL",e[e.LEARNHIGHFUNNEL=231]="LEARNHIGHFUNNEL",e[e.SHOPPINGINTENT=232]="SHOPPINGINTENT",e[e.VIDEOSTART=240]="VIDEOSTART",e[e.VIDEOPAUSE=241]="VIDEOPAUSE",e[e.VIDEOCONTINUE=242]="VIDEOCONTINUE",e[e.VIDEOCHECKPOINT=243]="VIDEOCHECKPOINT",e[e.VIDEOJUMP=244]="VIDEOJUMP",e[e.VIDEOCOMPLETE=245]="VIDEOCOMPLETE",e[e.VIDEOBUFFERING=246]="VIDEOBUFFERING",e[e.VIDEOERROR=247]="VIDEOERROR",e[e.VIDEOMUTE=248]="VIDEOMUTE",e[e.VIDEOUNMUTE=249]="VIDEOUNMUTE",e[e.VIDEOFULLSCREEN=250]="VIDEOFULLSCREEN",e[e.VIDEOUNFULLSCREEN=251]="VIDEOUNFULLSCREEN",e[e.VIDEOREPLAY=252]="VIDEOREPLAY",e[e.VIDEOPLAYERLOAD=253]="VIDEOPLAYERLOAD",e[e.VIDEOPLAYERCLICK=254]="VIDEOPLAYERCLICK"
e[e.VIDEOVOLUMECONTROL=255]="VIDEOVOLUMECONTROL",e[e.VIDEOAUDIOTRACKCONTROL=256]="VIDEOAUDIOTRACKCONTROL",e[e.VIDEOCLOSEDCAPTIONCONTROL=257]="VIDEOCLOSEDCAPTIONCONTROL",e[e.VIDEOCLOSEDCAPTIONSTYLE=258]="VIDEOCLOSEDCAPTIONSTYLE",e[e.VIDEORESOLUTIONCONTROL=259]="VIDEORESOLUTIONCONTROL",e[e.VIRTUALEVENTJOIN=260]="VIRTUALEVENTJOIN",e[e.VIRTUALEVENTEND=261]="VIRTUALEVENTEND",e[e.JOINTEAMSMEETINGEVENT=262]="JOINTEAMSMEETINGEVENT",e[e.IMPRESSION=280]="IMPRESSION",e[e.CLICK=281]="CLICK",e[e.RICHMEDIACOMPLETE=282]="RICHMEDIACOMPLETE",e[e.ADBUFFERING=283]="ADBUFFERING",e[e.ADERROR=284]="ADERROR",e[e.ADSTART=285]="ADSTART",e[e.ADCOMPLETE=286]="ADCOMPLETE",e[e.ADSKIP=287]="ADSKIP",e[e.ADTIMEOUT=288]="ADTIMEOUT",e[e.OTHER=300]="OTHER"}(e.Behavior||(e.Behavior={}))
var Uf,jf=function(){function t(e,t,r,n,i,a,o){this._webAnalyticsPlugin=e,this._config=t,this._contentHandler=r,this._id=n,this._pageTagsCallback=i,this.metaTags=a,this._traceLogger=o,this._pageTags={}}return t.prototype._setBasicProperties=function(e,t){e.ver="1.0",e.id=this._id.getLastPageViewId(),Co(e.name)||(e.name=function(e,t){if(t&&t.pageName)return t.pageName
if(e.callback&&"function"==typeof e.callback.pageName)return e.callback.pageName()
if(e.coreData&&e.coreData.pageName)return e.coreData.pageName
var r=(ln()||{}).pathname||"",n=r.replace(/(^\/+|\/+$)/g,"").split("/")
return r=n&&n[n.length-1]?n[n.length-1]:"Home"}(this._config,t)),!Co(e.uri)&&Io&&(e.uri=Of(this._config,ln()))},t.prototype._setCommonProperties=function(e,t,r){var n
this._setBasicProperties(e,r),this._setPageTags(e,r),this._pageTypeMetaTag=Ff(this.metaTags,this._config.coreData,"pageType"),this._marketMetaTag=Ff(this.metaTags,this._config.coreData,"market"),this._behaviorMetaTag=Ff(this.metaTags,this._config.coreData,"behavior"),Co(r.pageType)&&(e.pageType=r.pageType),Co(this._pageTypeMetaTag)&&!Co(e.pageType)&&(e.pageType=this._pageTypeMetaTag),Co(this._marketMetaTag)&&(e.market=this._marketMetaTag),e.isLoggedIn=(n=this._config).callback&&"function"==typeof n.callback.signedinStatus?n.callback.signedinStatus():n.isLoggedIn,t.cookieEnabled=Ti()},t.prototype._setPageTags=function(e,t){var r=this
r._pageTags={},r.metaTags&&(r._pageTags.metaTags=r._pageTags.metaTags||{},ht(r.metaTags,function(e,t){"behavior"!==e&&"market"!==e&&"pageType"!==e&&(r._pageTags.metaTags[e]=t)})),r._config.coreData&&r._config.coreData.pageTags&&(r._pageTags=ko(!0,r._pageTags,r._config.coreData.pageTags)),r._pageTagsCallback&&(r._pageTags=ko(!0,r._pageTags,r._pageTagsCallback())),Co(t.pageTags)&&(r._pageTags=ko(!0,r._pageTags,t.pageTags)),e.properties=e.properties||{},e.properties.pageTags=r._pageTags},t.prototype._getBehavior=function(e){var t
return e&&Co(e.behavior)?t=e.behavior:Co(this._behaviorMetaTag)&&(t=this._behaviorMetaTag),this._getValidBehavior(t)},t.prototype._getValidBehavior=function(t){if(Co(t)){var r=void 0,n=parseInt(t)
if((r=isNaN(n)?e.Behavior[t]:n)in e.Behavior)return r}return 0},t.prototype._getContentFormatted=function(e){if(Co(e))return bt(e)?JSON.stringify(e):Sf(JSON.stringify(e))},t}(),zf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return v(t,e),t.prototype.trackContentUpdate=function(e,t){var r={web:{}}
r.web.isManual=e.isManual
var n={name:"Ms.Web.ContentUpdate",baseType:"ContentUpdateData",ext:r,data:{},baseData:{},latency:3}
Tt(["name","uri","market","pageType","isLoggedIn","id","properties","ver","actionType","behavior","pageHeight","content","contentVer","vpHeight","vpWidth","vScrollOffset","hScrollOffset"],function(t){n.baseData[t]=e[t]}),ht(t,function(e,t){n.data[e]||(n.data[e]=t)}),this._webAnalyticsPlugin.core.track(n)},t.prototype.captureContentUpdate=function(e,t){e=Co(e)?e:{}
var r={},n=Co(t)?t:{}
this._setCommonProperties(r,n,e),r.behavior=this._getBehavior(e),Co(e.actionType)&&(r.actionType=e.actionType)
var i=Af(),a=kf()
r.pageHeight=_o?document.body.scrollHeight:null,r.vpHeight=i.h,r.vpWidth=i.w,r.vScrollOffset=a.v,r.hScrollOffset=a.h,r.contentVer="2.0",r.isManual=!e.isAuto
var o=this._getContentFormatted(e.content)||JSON.stringify(this._contentHandler.getVisibleContent())
o&&(r.content=o),Co(e.isDomComplete)?n.isDomComplete=e.isDomComplete:n.isDomComplete=!1,this.trackContentUpdate(r,n)},t}(jf),qf={CLICKLEFT:"CL",CLICKRIGHT:"CR",CLICKMIDDLE:"CM",SCROLL:"S",ZOOM:"Z",RESIZE:"R",KEYBOARDENTER:"KE",KEYBOARDSPACE:"KS",OTHER:"O"};(function(e){e[e.PAGE_ACTION=0]="PAGE_ACTION",e[e.CONTENT_UPDATE=1]="CONTENT_UPDATE"})(Uf||(Uf={}))
var Vf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return v(t,e),t.prototype.trackPageAction=function(e,t){var r={web:{}}
r.web.isManual=e.isManual
var n={name:"Ms.Web.PageAction",baseType:"PageActionData",ext:r,data:{},baseData:{},latency:1}
lt(e.sync)||(n.sync=e.sync),n.baseData.name=e.name,n.baseData.uri=e.uri,n.baseData.market=e.market,n.baseData.pageType=e.pageType,n.baseData.isLoggedIn=e.isLoggedIn,n.baseData.id=e.id,n.baseData.properties=e.properties,n.baseData.ver=e.ver,n.baseData.actionType=e.actionType,n.baseData.behavior=e.behavior,n.baseData.clickCoordinates=e.clickCoordinates,n.baseData.content=e.content,n.baseData.contentVer=e.contentVer,n.baseData.targetUri=e.targetUri,ht(t,function(e,t){n.data[e]||(n.data[e]=t)}),this._webAnalyticsPlugin.core.track(n)},t.prototype.capturePageAction=function(e,t,r,n){t=Co(t)?t:{}
var i={},a=Co(r)?r:{}
this._setCommonProperties(i,a,t),i.isManual=!t.isAuto,i.behavior=this._getBehavior(t)
var o,s,l,u={}
if(e=Cf(e),n)i.behavior=9
else{var d=this._config||{}
if((e&&lt(d.syncPageActionNavClick)||d.syncPageActionNavClick)&&(t.actionType===qf.CLICKLEFT||t.actionType===qf.KEYBOARDENTER)&&"a"===e.tagName.toLowerCase()){var c=(e.getAttribute("href")||"").toLowerCase()
c&&(vt(c,"https:")||vt(c,"http:")||vt(c,".")||vt(c,"/"))&&(i.sync=3)}}if(e&&(i.targetUri=function(e){var t=""
switch(e.tagName){case"A":case"AREA":t=e.href||""
break
case"IMG":t=Rf(e)
break
case"INPUT":var r=e.type
if(r&&Mf[r.toUpperCase()]){var n=ln()||{}
t=e.form?e.form.action||n.pathname||"":n.pathname||""}}return t}(e),(u=ko(u=this._contentHandler.getElementContent(e,Uf.PAGE_ACTION),this._getCustomTags(e)))&&u.bhvr&&!Co(t.behavior))){var f=(s="bhvr",(o=u)&&o[s]&&(l=o[s],delete o[s]),l)
i.behavior=this._getValidBehavior(f)}Co(t.actionType)&&(i.actionType=t.actionType),Co(t.clickCoordinateX)&&Co(t.clickCoordinateY)&&(i.clickCoordinates=t.clickCoordinateX+"X"+t.clickCoordinateY),Co(t.targetUri)&&(i.targetUri=t.targetUri),i.contentVer="2.0"
var p=t.content||u
if(!bt(p)){var m=this._config.callback.pageActionContentTags
p=ko(p,"function"==typeof m?m(e):{},t&&t.contentTags?t.contentTags:{})}i.content=this._getContentFormatted(p),a.timeToAction=this._getTimeToClick(),a.refUri=Co(t.refUri)?t.refUri:this._config.coreData.referrerUri
var h=Nf(this._config,this._traceLogger)
h&&(a.cookies=h),this.trackPageAction(i,a)},t.prototype._getCustomTags=function(e){for(var t={};e;){if(!Df(e))for(var r in e.attributes)if(r&&e.attributes[r]){var n=e.attributes[r].name
n&&0===n.toLowerCase().indexOf("ms.")&&(t[n]=e.attributes[r].value)}e=e.parentElement||e.parentNode}return t},t.prototype._getTimeToClick=function(){var e=un()
if(e&&e.timing){var t=e.timing.navigationStart
if(t&&0!==t)return(new Date).getTime()-t}return-1},t}(jf),Bf=function(e){function t(t,r,n,i,a,o){var s=e.call(this,t,r,null,n,{},{},i)||this
return s._webAnalyticsPlugin=t,s._config=r,s._id=n,s._traceLogger=i,s._timestamp=a,s._maxScroll=o,s}return v(t,e),t.prototype.trackPageUnload=function(e,t){var r={web:{}}
r.web.isManual=e.isManual
var n={name:"Ms.Web.PageUnload",baseType:"PageUnloadData",ext:r,data:{},baseData:{},latency:3},i=this._config||{};(lt(i.syncUnloadAction)||i.syncUnloadAction)&&(n.sync=3),n.baseData.name=e.name,n.baseData.uri=e.uri,n.baseData.id=e.id,n.baseData.properties=e.properties,n.baseData.ver=e.ver,n.baseData.market=e.market,n.baseData.pageType=e.pageType,n.baseData.isLoggedIn=e.isLoggedIn,ht(t,function(e,t){n.data[e]||(n.data[e]=t)}),this._webAnalyticsPlugin.core.track(n)},t.prototype.capturePageUnload=function(e,t){e=Co(e)?e:{}
var r={},n=Co(t)?t:{},i=_o?document.body.scrollHeight:0
if(this._setBasicProperties(r,e),r.isManual=!e.isAuto,n.dwellTime=this._timestamp._recordTimeSpan("dwellTime",!0),n.scrollDepth=e.scrollDepth||this._maxScroll.v.toString()+"/"+i.toString(),n.vpHeight=Af().h,n.vScrollOffset=e.vScrollOffset||this._maxScroll.v,Io){var a=un(),o=a?a.timing:null
o&&o.loadEventStart&&o.navigationStart&&o.loadEventStart>0&&(n.pageLoadTime=o.loadEventStart-o.navigationStart)}this.trackPageUnload(r,n)},t}(jf),Hf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return v(t,e),t.prototype.capturePageView=function(e,t){e=Co(e)?e:{}
var r={},n=Co(t)?t:{}
this._setCommonProperties(r,n,e),r.refUri=Co(e.referrerUri)?e.referrerUri:this._config.coreData.referrerUri,r.isManual=!e.isAuto
var i=Nf(this._config,this._traceLogger)
i&&(n.cookies=i),n.behavior=this._getBehavior(e),this._webAnalyticsPlugin.trackPageView(r,n)},t}(jf),Wf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return v(t,e),t.prototype.capturePageViewPerformance=function(e,t){e=Co(e)?e:{}
var r={},n=Co(t)?t:{}
this._setBasicProperties(r,e),this._setPageTags(r,e),r.isManual=!e.isAuto,n.behavior=this._getBehavior(e),n.vpHeight=e.vpHeight,n.vpWidth=e.vpWidth,n.framework=e.framework,n.systemTiming=e.systemTiming,n.customTiming=e.customTiming,this._webAnalyticsPlugin._populatePageViewPerformance(r),this._webAnalyticsPlugin.trackPageViewPerformance(r,n)},t}(jf),$f={BUTTON:!0,CHECKBOX:!0,RADIO:!0,RESET:!0,SUBMIT:!0},Gf=function(){function e(t,r){var n,i,a,o,s,l,u,d,c,f=this
Rr(e,this,function(e){function p(e){var t,r={A:!0,BUTTON:!0,AREA:!0,INPUT:!0},i=tn(),a=(e=e||i.event).srcElement||e.target,o={isAuto:!0,clickCoordinateX:e.pageX,clickCoordinateY:e.pageY},s="which"in(t=e)?3===t.which:"button"in t?2===t.button:void 0
if(s)o.actionType=qf.CLICKRIGHT
else if(function(e){return"which"in e?1===e.which:"button"in e?1===e.button:void 0}(e))o.actionType=qf.CLICKLEFT
else if(function(e){if("keyCode"in e)return 13===e.keyCode}(e))o.actionType=qf.KEYBOARDENTER
else if(function(e){if("keyCode"in e)return 32===e.keyCode}(e))o.actionType=qf.KEYBOARDSPACE
else{if(!function(e){return"which"in e?2===e.which:"button"in e?4===e.button:void 0}(e))return
o.actionType=qf.CLICKMIDDLE}for(;a&&a.tagName;){if(a.control&&r[a.control.tagName.toUpperCase()]&&(a=a.control),r[a.tagName.toUpperCase()]){("INPUT"!==a.tagName.toUpperCase()||$f[a.type.toUpperCase()])&&n&&n.capturePageAction(a,o,{},s)
break}a=a.parentElement||a.parentNode}}function m(){e._analyticsPlugin=null,e._traceLogger=null,n=null,i=null,a=null,s=!1,l=!1,u=!1,d=!1,c=!1}m(),n=t,i=r,a=ta(oi("AutoCaptureHandler"),n._evtNamespace),e._analyticsPlugin=n,e._traceLogger=i,e.pageView=function(){n&&n.capturePageView({isAuto:!0})},e.onLoad=function(){n&&!c&&(Lf(function(){n&&n.capturePageViewPerformance({isAuto:!0}),n&&n.captureContentUpdate({isAuto:!0,isDomComplete:!0})},a),c=!0)},e.click=function(){if(!o){var e=tn(),t=nn()
if(e&&e.addEventListener)ra(e,-1!==navigator.appVersion.indexOf("MSIE")?"click":"mousedown",p,a),ra(e,"keyup",p,a)
else t&&t.attachEvent&&(ra(t,"click",p,a),ra(t,"keyup",p,a))
o=!0}},e.scroll=function(e){if(!s){var t=xf(null,function(){n&&n.captureContentUpdate({isAuto:!0,actionType:qf.SCROLL})},e.scroll,f)
ra(tn(),"scroll",t,a),s=!0}},e.maxScroll=function(e){if(!l){ra(tn(),"scroll",function(){var t=kf()
e.v=e.v>t.v?e.v:t.v},a),l=!0}},e.resize=function(e){if(!u){var t=xf(function(){n&&n.captureContentUpdate({isAuto:!0,actionType:qf.RESIZE})},null,e.resize,f)
ra(tn(),"resize",t,a),u=!0}},e.onUnload=function(){function e(){n&&n.capturePageUnload({isAuto:!0})}if(!d){var t=((n||{}).core||{}).config.disablePageUnloadEvents
sa(e,t,a),ua(e,t,a),d=!0}},e.teardown=function(e,t){na(tn(),null,null,a),na(nn(),null,null,a),la(null,a),da(null,a),m()},e._processClick=p})}return e.__ieDyn=1,e}(),Kf={longNames:{isShortNames:!1,id:"data-bi-id",areaName:"data-bi-area",slotNumber:"data-bi-slot",contentName:"data-bi-name",contentSource:"data-bi-source",templateName:"data-bi-view",productId:"data-bi-product",contentType:"data-bi-type",parentId:"data-bi-parentid",parentName:"data-bi-parentname"},shortNames:{isShortNames:!0,id:"data-bi-id",areaName:"data-bi-an",slotNumber:"data-bi-sn",contentName:"data-bi-cn",contentSource:"data-bi-cs",templateName:"data-bi-tn",productId:"data-bi-pid",contentType:"data-bi-ct",parentId:"data-bi-pi",parentName:"data-bi-pn"}},Xf={parentId:"parentId",parentName:"parentName"},Jf={parentId:"pI",parentName:"pN"},Qf=function(){function e(e,t){this._config=e,this._traceLogger=t,this._contentBlobFieldNames=null,this._contentBlobFieldNames=!0===this._config.useShortNameForContentBlob?Kf.shortNames:Kf.longNames}return e.prototype.getMetadata=function(){var e={},t={}
return _o&&(t=this._getMetaDataFromDOM("awa-",!0),this._config.autoCapture&&this._config.autoCapture.msTags&&(e=this._getMetaDataFromDOM("ms.",!1))),ko(!0,t,e)},e.prototype.getVisibleContent=function(){var e,t=Af(),r={top:0,bottom:(e=t).h,left:0,right:e.w},n=null
_o&&(n=document.querySelectorAll(Sf(this._contentBlobFieldNames.areaName)+","+Sf(this._contentBlobFieldNames.slotNumber)+","+Sf(this._config.biBlobAttributeTag)))
var i=[]
if(n)for(var a=0;a<n.length;a++){var o=n[a]
if(!wf(o)&&Pf(o,r)){var s=this.getElementContent(o,Uf.CONTENT_UPDATE)
s&&i.push(s)}}return i},e.prototype.getElementContent=function(e,t){if(!e)return{}
var r,n,i,a={}
if(this._isTracked(e))if(this._isTrackedWithDataM(e)){n=(r=e).getAttribute(this._config.biBlobAttributeTag)
try{a=JSON.parse(n)}catch(e){On(this._traceLogger,1,506,"Can not parse "+n)}}else this._isTrackedWithDataBi(e)&&(i=e,a=ko(a,this._populateElementContentwithDataBi(i,e)))
else if((r=Ef(e,this._config.biBlobAttributeTag))&&(n=r.getAttribute(this._config.biBlobAttributeTag)),n)try{a=JSON.parse(n)}catch(e){On(this._traceLogger,1,506,"Can not parse "+n)}else i=_f(e,this._isTrackedWithDataBi),a=ko(a,this._populateElementContentwithDataBi(i,e))
return bf(a),this._config.autoCapture.lineage&&t===Uf.PAGE_ACTION&&(a=ko(a,this.getLineageDetails(e))),this._config.autoPopulateParentIdAndParentName&&(a=ko(a,this._getParentDetails(r||i,a))),a},e.prototype.getLineageDetails=function(e){for(var t,r,n,i=[],a=[],o=this._config.biBlobAttributeTag;e;){var s=e.getAttribute(o)||e[o],l=e.getAttribute("data-module-id")||e["data-module-id"]
if(s){try{var u=JSON.parse(s)}catch(e){On(this._traceLogger,1,507,"Can not parse "+s)}u&&(r=u.cN||u.cT,n=u.id||void 0,(r||n)&&(i.push(r),l&&(t=r),a.push(n)))}else r=e.getAttribute(this._contentBlobFieldNames.contentName)||e.getAttribute(this._contentBlobFieldNames.contentType),n=e.getAttribute(this._contentBlobFieldNames.id)||void 0,(r||n)&&(i.push(r),l&&(t=r),a.push(n))
e=e.parentElement}return{lineage:i.join(">"),lineageById:a.join(">"),lineageContainerName:t}},e.prototype._populateElementContentwithDataBi=function(e,t){var r={}
if(!e){if(!this._config.useDefaultContentName)return r
e=t}var n=Ef(e,this._contentBlobFieldNames.areaName),i=ko({},this._getAreaContent(n)),a=this._config.callback.contentName?this._config.callback.contentName(e,this._config.useDefaultContentName):"",o=this._getDefaultContentName(t,this._config.useDefaultContentName);(r={id:e.getAttribute(this._contentBlobFieldNames.id)||e.id||"",aN:i.areaName,sN:e.getAttribute(this._contentBlobFieldNames.slotNumber),cN:a||e.getAttribute(this._contentBlobFieldNames.contentName)||o||e.getAttribute("alt")||"",cS:e.getAttribute(this._contentBlobFieldNames.contentSource)||i.contentSource,tN:i.templateName,pid:e.getAttribute(this._contentBlobFieldNames.productId),cT:e.getAttribute(this._contentBlobFieldNames.contentType)||i.type,pI:e.getAttribute(this._contentBlobFieldNames.parentId),pN:e.getAttribute(this._contentBlobFieldNames.parentName)}).id&&r.aN&&r.sN&&r.cN||On(this._traceLogger,2,515,"Invalid content blob.  Missing required attributes (id, aN/area, sN/slot), cN/contentName.  Content information will still be collected!"),this._contentBlobFieldNames.isShortNames||(r={contentId:r.id,areaName:r.aN,slotNumber:r.sN,contentName:r.cN,contentSource:r.cS,templateName:r.tN,productId:r.pid,contentType:r.cT,parentId:r.pI,parentName:r.pN})
for(var s,l=0;l<e.attributes.length;l++){if((s=e.attributes[l]).name!==this._contentBlobFieldNames.id&&s.name!==this._contentBlobFieldNames.areaName&&s.name!==this._contentBlobFieldNames.slotNumber&&s.name!==this._contentBlobFieldNames.contentName&&s.name!==this._contentBlobFieldNames.contentSource&&s.name!==this._contentBlobFieldNames.templateName&&s.name!==this._contentBlobFieldNames.productId&&s.name!==this._contentBlobFieldNames.contentType&&s.name!==this._contentBlobFieldNames.parentId&&s.name!==this._contentBlobFieldNames.parentName&&-1!==s.name.indexOf("data-bi-"))r[s.name.replace("data-bi-","")]=s.value}return r},e.prototype._getMetaDataFromDOM=function(e,t){var r,n={}
if(_o){r=document.querySelectorAll("meta")
for(var i=0;i<r.length;i++){var a=r[i]
if(a.name)if(0===a.name.toLowerCase().indexOf(e))n[t?a.name.replace(e,""):a.name]=a.content}}return n},e.prototype._getAreaContent=function(e){if(e=Cf(e))return{areaName:e.getAttribute(this._contentBlobFieldNames.areaName),templateName:e.getAttribute(this._contentBlobFieldNames.templateName),contentSource:e.getAttribute(this._contentBlobFieldNames.contentSource),product:e.getAttribute(this._contentBlobFieldNames.productId),type:e.getAttribute(this._contentBlobFieldNames.contentType)}},e.prototype._getDefaultContentName=function(e,t){if(!1===t||Df(e)||!e.tagName)return""
var r,n=nn()||{}
switch(e.tagName){case"A":r=n.all?e.innerText||e.innerHTML:e.text||e.innerHTML
break
case"IMG":case"AREA":r=e.alt
break
default:r=e.value||e.name||e.alt||e.innerText||e.id}return r.substring(0,200)},e.prototype._getParentDetails=function(e,t){var r=this._contentBlobFieldNames.isShortNames?Jf.parentId:Xf.parentId,n=this._contentBlobFieldNames.isShortNames?Jf.parentName:Xf.parentName,i=t[r],a=t[n]
return i||a||!e?{}:this._populateParentInfo(e,r,n)},e.prototype._isTrackedWithDataM=function(e){for(var t=e.attributes,r=0;r<t.length;r++)if("data-m"===t[r].name)return!0
return!1},e.prototype._isTrackedWithDataBi=function(e){for(var t=e.attributes,r=0;r<t.length;r++)if(t[r].name.indexOf("data-bi-")>=0)return!0
return!1},e.prototype._isTracked=function(e){for(var t=e.attributes,r=0;r<t.length;r++)if("data-m"===t[r].name||t[r].name.indexOf("data-bi-")>=0)return!0
return!1},e.prototype._populateParentInfo=function(e,t,r){var n,i,a={},o=this._config.biBlobAttributeTag,s=_f(e.parentElement,this._isTracked)
if(s){var l=s.getAttribute(o)||e[o]
if(l){try{var u=JSON.parse(l)}catch(e){On(this._traceLogger,1,507,"Can not parse "+l)}u&&(n=u.id,i=u.cN)}else n=s.getAttribute(this._contentBlobFieldNames.id),i=s.getAttribute(this._contentBlobFieldNames.contentName)
n&&(a[t]=n),i&&(a[r]=i)}return a},e}()
function Yf(e){var t={useDefaultContentName:!0,useShortNameForContentBlob:!0,debounceMs:{scroll:600,resize:3e3},biBlobAttributeTag:"data-m",isLoggedIn:!1,shareAuthStatus:!1,cookiesToCollect:["MSFPC","ANON"],autoCapture:{pageView:!0,onLoad:!0,onUnload:!0,click:!0,scroll:!1,resize:!1,lineage:!1,jsError:!0,msTags:!0},callback:{pageName:null,pageActionPageTags:null,pageViewPageTags:null,contentUpdatePageTags:null,pageActionContentTags:null,signedinStatus:null},coreData:{referrerUri:_o?document.referrer:"",requestUri:"",pageName:"",pageType:"",product:"",market:"",pageTags:{}},autoPopulateParentIdAndParentName:!1,syncMuid:!1,muidDomain:"microsoft.com"},r=[]
return ht(t,function(e,t){ft(t)&&r.push(e)}),function(e,t){bf(e),Tt(t,function(t,r){ft(e[t])?bf(e[t]):delete e[t]})}(e,r),ko(!0,t,e)}var Zf=function(e){function t(){var r,n,i,a,o,s,l,u,d=e.call(this)||this
d.identifier="WebAnalyticsPlugin",d.version="3.2.8"
var c,f,p,m,h=!1
return Rr(t,d,function(e,t){function g(){r=null,n=null,i=null,a=null,o=null,s=null,l=null,u={h:0,v:0},h=!1,c=null,f=null,p=null,m=null}function v(e){p&&(e&&(m.pageView&&p.pageView(),m.onLoad&&p.onLoad()),m.click&&p.click(),m.scroll&&p.scroll(l.debounceMs),m.resize&&p.resize(l.debounceMs),(m.onUnload||l.manualPageUnload)&&p.maxScroll(u),m.onUnload&&p.onUnload())}function y(e){var t={}
return void 0!==e.isManual&&(t.web={},t.web.isManual=void 0===e.isManual||e.isManual,delete e.isManual),t}g(),e.updateCoreDataConfig=function(e){l.coreData=ko(!0,l.coreData,e)},e.refreshMetadata=function(){var e=f.getMetadata()
r.metaTags=e,i.metaTags=e,n.metaTags=e,o.metaTags=e},e.initialize=function(h,g,y){var b=g
h.extensionConfig=h.extensionConfig||[],h.extensionConfig[e.identifier]=h.extensionConfig[e.identifier]||{},e._config=l=Yf(h.extensionConfig[e.identifier]),m=l.autoCapture
var _=b.getWParam
if(b.getWParam=function(){var e=0
return l.mscomCookies&&(e|=1),e|_()},h.extensionConfig[e.identifier].disableExceptionTracking=!m.jsError,t.initialize(h,g,y),f=f||new Qf(l,e.diagLog()),p=p||new Gf(e,e.diagLog()),l.manageCv){for(var I=0;I<y.length;I++)if("CorrelationVectorPlugin"===y[I].identifier){l.manageCv=!0,s=y[I]
break}s||(On(e.diagLog(),2,508,'Automatic Cv management is set to "true" in config.  However, cv plugin is not available. Disabling automatic Cv management'),l.manageCv=!1)}e.id=new Pu(g),c=new wu
var C=f.getMetadata()
r=new Hf(d,l,f,e.id,l.callback.pageViewPageTags,C,e.diagLog()),n=new Vf(d,l,f,e.id,l.callback.pageActionPageTags,C,e.diagLog()),i=new zf(d,l,f,e.id,l.callback.contentUpdatePageTags,C,e.diagLog()),a=new Bf(d,l,e.id,e.diagLog(),c,u),o=new Wf(d,l,f,e.id,l.callback.pageViewPageTags,C,e.diagLog()),l.syncMuid&&Lf(function(){var t=e.id.getMuidHost(l.muidDomain)
e.id.syncMuid(t)},e._evtNamespace),v(!0)},e.processTelemetry=function(r,n){Do(r,e.identifier)
var i=r
"PageviewData"===i.baseType?(i.name="Ms.Web.PageView",i.latency=3):"ExceptionData"===i.baseType?(i.name="Ms.Web.ClientError",i.latency=1,delete i.baseData.aiDataContract):"PageviewPerformanceData"===i.baseType&&(i.name="Ms.Web.PageViewPerformance",i.latency=1,delete i.baseData.isValid,delete i.baseData.durationMs)
var a=null
"PageviewData"!==i.baseType?l.manageCv&&(a=s.getCv())&&a.increment():l.manageCv&&((a=s.getCv())?a.seed():a=s.getCv()),t.processTelemetry(i,n)},e.trackEvent=function(t,r){t.latency=t.latency||1,t.baseData=t.baseData||{},t.data=t.data||{},Co(r)&&ht(r,function(e,r){t.data[e]=r}),e.core.track(t)},e.trackPageView=function(r,n){c._recordTimeSpan("dwellTime",!1),u.v=0,h=!1,e.id.initializeIds(),r.id=e.id.getLastPageViewId(),t.sendPageViewInternal(r,n,y(r))},e.capturePageView=function(e,t){r.capturePageView(e,t)},e.trackPageViewPerformance=function(e,r){t.sendPageViewPerformanceInternal(e,r,y(e))},e.capturePageViewPerformance=function(e,t){o.capturePageViewPerformance(e,t)},e.trackException=function(e,r){e.id=e.id||xo(),t.sendExceptionInternal(e,r,y(e))},e.trackPageAction=function(e,t){n.trackPageAction(e,t)},e.capturePageAction=function(e,t,r,i){(function(e,t){return!(t&&t.isAuto&&Co(Ef(e,yf))||wf(e))})(e,t)&&n.capturePageAction(e,t,r,i)},e.trackContentUpdate=function(e,t){i.trackContentUpdate(e,t)},e.captureContentUpdate=function(e,t){i.captureContentUpdate(e,t)},e.trackPageUnload=function(e,t){h||(h=!0,a.trackPageUnload(e,t))},e.capturePageUnload=function(e,t){h||(h=!0,a.capturePageUnload(e,t))},e._populatePageViewPerformance=function(t){var r=e._pageViewPerformanceManager
r&&r.populatePageViewPerformanceEvent(t)},e.setContentHandler=function(e){f=e},e.setAutoCaptureHandler=function(e){p!==e&&(p&&p.teardown(),p=e,v(!1))},e._doTeardown=function(e,r){p&&p.teardown(e,r),t._doTeardown(e,r),g()}}),d}return v(t,e),t.__ieDyn=1,t}(gf),ep=["snippet","_webAnalytics","_postChannel","_propertyManager","_extensions"],tp=["queue","extensions","version","sv"],rp=function(e){function t(){var r,n,i,a=e.call(this)||this
function o(){n=new sl,i=new _u,r=new Zf}return Rr(t,a,function(e,t){o(),e.initialize=function(a,o){Bn(e,function(){return"ApplicationInsights:initialize"},function(){var s=[i,r]
if(o&&(s=s.concat(o)),a||Bt("You must provide a config object!"),a.channels&&a.channels.length>0){for(var l=!1,u=0;u<a.channels[0].length;u++)if(a.channels[0][u].identifier===n.identifier){l=!0
break}l||a.channels[0].push(n)}else a.channels=[[n]]
var d=a.extensionConfig=a.extensionConfig||[]
d[n.identifier]=a?a.channelConfiguration:{},d[i.identifier]=a?a.propertyConfiguration:{},d[r.identifier]=a?a.webAnalyticsConfiguration:{}
try{t.initialize(a,s)}catch(t){On(e.logger,1,514,"Failed to initialize SDK."+mn(t))}},function(){return{config:a,extensions:o}})},e.getPropertyManager=function(){return i},e.getPostChannel=function(){return n},e.getWebAnalyticsExtension=function(){return r},$t(e,function(){return r},["trackEvent","trackPageView","trackPageAction","trackContentUpdate","trackPageUnload","trackException","trackPageViewPerformance","capturePageView","capturePageViewPerformance","capturePageAction","captureContentUpdate","capturePageUnload","_onerror"]),e.emptySnippetQueue=function(t){try{if(t&&ht(e,function(r,n){if(It(r)&&!pt(n)&&r&&"_"!==r[0]&&-1===St(ep,r))try{t[r]=n}catch(t){On(e.logger,2,514,"Failed to set ["+r+"] during initialization."+mn(t))}}),bt(t.queue)){for(var r=t.queue.length,n=0;n<r;n++){(0,t.queue[n])()}t.queue=void 0,delete t.queue}}catch(e){e&&pt(e.toString)&&e.toString()}},e.updateSnippetDefinitions=function(e){var t=a
t.snippet=e,e.sv||e.version,t.config?t.config=ko(!0,e.config,t.config||{}):t.config=e.config,function(e,t,r){if(e&&t&&ft(e)&&ft(t)){var n=function(n){if(It(n)){var i=t[n]
pt(i)?r&&!r(n,!0,t,e)||(e[n]=Ht(t,n)):r&&!r(n,!1,t,e)||(ct(e,n)&&delete e[n],Ot(e,n,function(){return t[n]},function(e){t[n]=e})||(e[n]=i))}}
for(var i in t)n(i)}}(e,t,function(e){return e&&-1===St(ep,e)&&-1===St(tp,e)})},e.unload=function(e,r,n){void 0===e&&(e=!0),t.unload(e,function(e){o(),r&&r(e)},n)}}),a}return v(t,e),t.__ieDyn=1,t}(Fo),np="undefined"
function ip(e,t){var r=typeof console!==np?console:null
if(r){var n="warn"
r[n]||(n="log"),r[n]("Failed to initialize AppInsights JS SDK for instance "+(e||"<unknown>")+" - "+t)}}(function(){try{var e="oneDSWeb",t=f()
if(t)if("undefined"!=typeof JSON){if(void 0!==t[e=t.onedsSDK||e]){var r=t[e],n=new rp
n.updateSnippetDefinitions(r),n.initialize(r.config,r.extensions),t[e]=n,n.emptySnippetQueue(r)}}else ip(e,"Missing JSON - you must supply a JSON polyfill!")
else ip(e,"Missing global/window")}catch(t){ip(e,"Unexpected Error: "+mn(t))}})(),e.ActionType=qf,e.AppInsightsCore=Fo,e.ApplicationInsights=rp,e.AutoCaptureHandler=Gf,e.BE_PROFILE=zo,e.CoreUtils=Lo,e.DiagnosticLogger=Rn,e.EventLatency=ao,e.EventPersistence=oo,e.EventsDiscardedReason=Yt,e.MinChannelPriorty=100,e.NRT_PROFILE=jo,e.NotificationManager=Xa,e.PostChannel=sl,e.PropertiesPlugin=_u,e.RT_PROFILE=Uo,e.TraceLevel=so,e.Utils=No,e.ValueKind=io,e.WebAnalytics=Zf,function(e,t,r){var n=Object.defineProperty
if(n)try{return n(e,"__esModule",r)}catch(e){}r&&void 0!==typeof r.value&&(e.__esModule=r.value)}(e,0,{value:!0})}),function(){function e(e,t,r){void 0===e.prototype[t]&&(e.prototype[t]=r)}e(Array,"containsAnyIgnoreCase",function(){return[].some.call(arguments,function(e){return e="string"==typeof e?e.toLocaleLowerCase():e,this.some(function(t){return t="string"==typeof t?t.toLocaleLowerCase():t,e===t})},this)}),e(Array,"last",function(){return this[this.length-1]}),e(Array,"find",function(e,t){var r,n=this.length
void 0===t&&(t=null)
for(var i=0;i<n;i++)if(r=this[i],e.call(t,r,i,this))return r
return null}),e(Array,"findIndex",function(e,t){var r,n=this.length
void 0===t&&(t=null)
for(var i=0;i<n;i++)if(r=this[i],e.call(t,r,i,this))return i
return-1}),e(Array,"includes",function(e,t){return t=t||0,this.indexOf(e)>=t}),e(String,"includes",function(e,t){return t=t||0,this.indexOf(e)>=t}),e(String,"equalsIgnoreCase",function(e){return"string"==typeof e&&this.toLocaleLowerCase()===e.toLocaleLowerCase()}),e(String,"trim",function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}),e(String,"isNullOrWhitespace",function(e){return!e&&"number"!=typeof e&&"boolean"!=typeof e||"string"==typeof e&&""===e.trim()}),e(String,"truncate",function(e){return this.length>e?this.substring(0,e-3)+"...":this}),e(String,"startsWith",function(e){return"string"==typeof e&&this.slice(0,e.length)===e}),e(String,"startsWithIgnoreCase",function(e){return"string"==typeof e&&this.slice(0,e.length).toLowerCase()===e.toLowerCase()}),e(String,"endsWith",function(e){return"string"==typeof e&&this.slice(-e.length)===e}),e(String,"endsWithIgnoreCase",function(e){return"string"==typeof e&&this.slice(-e.length).toLowerCase()===e.toLowerCase()}),e(String,"containsIgnoreCase",function(e){return"string"==typeof e&&(this.toLowerCase&&this.toLowerCase().indexOf(e.toLowerCase())>-1)}),e(String,"toByteArray",function(){for(var e=[],t=0;t<this.length;++t)e.push(this.charCodeAt(t)),e.push(0)
return e.push(0),e.push(0),e}),e(String,"padLeft",function(e,t){var r=this
if(e&&t&&"string"==typeof e&&"number"==typeof t)for(var n=t-this.length,i=0;i<n;i+=e.length)r=(e+r).slice(-t)
return r}),e(Date,"toFormattedUTCString",function(){function e(e){var t=String(e)
return 1===t.length&&(t="0"+t),t}return this.getUTCFullYear()+"/"+e(this.getUTCMonth()+1)+"/"+e(this.getUTCDate())+" - "+e(this.getUTCHours())+":"+e(this.getUTCMinutes())+":"+e(this.getUTCSeconds())+" UTC"})}(),define("ember-cli-app-version/initializer-factory",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,r){var n=!1
return function(){if(!n&&e&&r){var i=Ember.String.classify(e)
t.register(i,r),n=!0}}}
var t=Ember.libraries}),define("ember-cli-app-version/utils/regexp",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.versionRegExp=/\d+[.]\d+[.]\d+/,e.versionExtendedRegExp=/\d+[.]\d+[.]\d+-[a-z]*([.]\d+)?/,e.shaRegExp=/[a-z\d]{8}$/}),define("ember-inflector/index",["exports","ember","ember-inflector/lib/system","ember-inflector/lib/ext/string"],function(e,t,r,n){r.Inflector.defaultRules=r.defaultRules,t.default.Inflector=r.Inflector,t.default.String.pluralize=r.pluralize,t.default.String.singularize=r.singularize,e.default=r.Inflector,e.pluralize=r.pluralize,e.singularize=r.singularize,e.defaultRules=r.defaultRules,void 0!==define&&define.amd?define("ember-inflector",["exports"],function(e){return e.default=r.Inflector,e.pluralize=r.pluralize,e.singularize=r.singularize,e}):"undefined"!=typeof module&&module.exports&&(module.exports=r.Inflector,r.Inflector.singularize=r.singularize,r.Inflector.pluralize=r.pluralize)}),define("ember-inflector/lib/ext/string",["exports","ember","ember-inflector/lib/system/string"],function(e,t,r){(!0===t.default.EXTEND_PROTOTYPES||t.default.EXTEND_PROTOTYPES.String)&&(String.prototype.pluralize=function(){return(0,r.pluralize)(this)},String.prototype.singularize=function(){return(0,r.singularize)(this)})}),define("ember-inflector/lib/helpers/pluralize",["exports","ember-inflector","ember-inflector/lib/utils/make-helper"],function(e,t,r){e.default=(0,r.default)(function(e,r){var n=void 0,i=void 0,a=!1
return 1===e.length?(i=e[0],(0,t.pluralize)(i)):(n=e[0],i=e[1],r["without-count"]&&(a=r["without-count"]),1!==parseFloat(n)&&(i=(0,t.pluralize)(i)),a?i:n+" "+i)})}),define("ember-inflector/lib/helpers/singularize",["exports","ember-inflector","ember-inflector/lib/utils/make-helper"],function(e,t,r){e.default=(0,r.default)(function(e){return(0,t.singularize)(e[0])})}),define("ember-inflector/lib/system",["exports","ember-inflector/lib/system/inflector","ember-inflector/lib/system/string","ember-inflector/lib/system/inflections"],function(e,t,r,n){t.default.inflector=new t.default(n.default),e.Inflector=t.default,e.singularize=r.singularize,e.pluralize=r.pluralize,e.defaultRules=n.default}),define("ember-inflector/lib/system/inflections",["exports"],function(e){e.default={plurals:[[/$/,"s"],[/s$/i,"s"],[/^(ax|test)is$/i,"$1es"],[/(octop|vir)us$/i,"$1i"],[/(octop|vir)i$/i,"$1i"],[/(alias|status|bonus)$/i,"$1es"],[/(bu)s$/i,"$1ses"],[/(buffal|tomat)o$/i,"$1oes"],[/([ti])um$/i,"$1a"],[/([ti])a$/i,"$1a"],[/sis$/i,"ses"],[/(?:([^f])fe|([lr])f)$/i,"$1$2ves"],[/(hive)$/i,"$1s"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/(x|ch|ss|sh)$/i,"$1es"],[/(matr|vert|ind)(?:ix|ex)$/i,"$1ices"],[/^(m|l)ouse$/i,"$1ice"],[/^(m|l)ice$/i,"$1ice"],[/^(ox)$/i,"$1en"],[/^(oxen)$/i,"$1"],[/(quiz)$/i,"$1zes"]],singular:[[/s$/i,""],[/(ss)$/i,"$1"],[/(n)ews$/i,"$1ews"],[/([ti])a$/i,"$1um"],[/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)(sis|ses)$/i,"$1sis"],[/(^analy)(sis|ses)$/i,"$1sis"],[/([^f])ves$/i,"$1fe"],[/(hive)s$/i,"$1"],[/(tive)s$/i,"$1"],[/([lr])ves$/i,"$1f"],[/([^aeiouy]|qu)ies$/i,"$1y"],[/(s)eries$/i,"$1eries"],[/(m)ovies$/i,"$1ovie"],[/(x|ch|ss|sh)es$/i,"$1"],[/^(m|l)ice$/i,"$1ouse"],[/(bus)(es)?$/i,"$1"],[/(o)es$/i,"$1"],[/(shoe)s$/i,"$1"],[/(cris|test)(is|es)$/i,"$1is"],[/^(a)x[ie]s$/i,"$1xis"],[/(octop|vir)(us|i)$/i,"$1us"],[/(alias|status|bonus)(es)?$/i,"$1"],[/^(ox)en/i,"$1"],[/(vert|ind)ices$/i,"$1ex"],[/(matr)ices$/i,"$1ix"],[/(quiz)zes$/i,"$1"],[/(database)s$/i,"$1"]],irregularPairs:[["person","people"],["man","men"],["child","children"],["sex","sexes"],["move","moves"],["cow","kine"],["zombie","zombies"]],uncountable:["equipment","information","rice","money","species","series","fish","sheep","jeans","police"]}}),define("ember-inflector/lib/system/inflector",["exports","ember"],function(e,t){var r=t.default.String.capitalize,n=/^\s*$/,i=/([\w/-]+[_/\s-])([a-z\d]+$)/,a=/([\w/\s-]+)([A-Z][a-z\d]*$)/,o=/[A-Z][a-z\d]*$/
function s(e,t){for(var r=0,n=t.length;r<n;r++)e.uncountable[t[r].toLowerCase()]=!0}function l(e,t){for(var r,n=0,i=t.length;n<i;n++)r=t[n],e.irregular[r[0].toLowerCase()]=r[1],e.irregular[r[1].toLowerCase()]=r[1],e.irregularInverse[r[1].toLowerCase()]=r[0],e.irregularInverse[r[0].toLowerCase()]=r[0]}function u(e){(e=e||{}).uncountable=e.uncountable||d(),e.irregularPairs=e.irregularPairs||d()
var t=this.rules={plurals:e.plurals||[],singular:e.singular||[],irregular:d(),irregularInverse:d(),uncountable:d()}
s(t,e.uncountable),l(t,e.irregularPairs),this.enableCache()}if(!Object.create&&!Object.create(null).hasOwnProperty)throw new Error("This browser does not support Object.create(null), please polyfil with es5-sham: http://git.io/yBU2rg")
function d(){var e=Object.create(null)
return e._dict=null,delete e._dict,e}u.prototype={enableCache:function(){this.purgeCache(),this.singularize=function(e){return this._cacheUsed=!0,this._sCache[e]||(this._sCache[e]=this._singularize(e))},this.pluralize=function(e){return this._cacheUsed=!0,this._pCache[e]||(this._pCache[e]=this._pluralize(e))}},purgeCache:function(){this._cacheUsed=!1,this._sCache=d(),this._pCache=d()},disableCache:function(){this._sCache=null,this._pCache=null,this.singularize=function(e){return this._singularize(e)},this.pluralize=function(e){return this._pluralize(e)}},plural:function(e,t){this._cacheUsed&&this.purgeCache(),this.rules.plurals.push([e,t.toLowerCase()])},singular:function(e,t){this._cacheUsed&&this.purgeCache(),this.rules.singular.push([e,t.toLowerCase()])},uncountable:function(e){this._cacheUsed&&this.purgeCache(),s(this.rules,[e.toLowerCase()])},irregular:function(e,t){this._cacheUsed&&this.purgeCache(),l(this.rules,[[e,t]])},pluralize:function(e){return this._pluralize(e)},_pluralize:function(e){return this.inflect(e,this.rules.plurals,this.rules.irregular)},singularize:function(e){return this._singularize(e)},_singularize:function(e){return this.inflect(e,this.rules.singular,this.rules.irregularInverse)},inflect:function(e,t,s){var l,u,d,c,f,p,m,h
if(p=!e||n.test(e),m=o.test(e),"",p)return e
if(d=e.toLowerCase(),(c=i.exec(e)||a.exec(e))&&(c[1],f=c[2].toLowerCase()),this.rules.uncountable[d]||this.rules.uncountable[f])return e
for(h in s)if(d.match(h+"$"))return u=s[h],m&&s[f]&&(u=r(u),h=r(h)),e.replace(new RegExp(h,"i"),u)
for(var g=t.length;g>0&&!(h=(l=t[g-1])[0]).test(e);g--);return h=(l=l||[])[0],u=l[1],e.replace(h,u)}},e.default=u})
define("ember-inflector/lib/system/string",["exports","ember-inflector/lib/system/inflector"],function(e,t){e.pluralize=function(e){return t.default.inflector.pluralize(e)},e.singularize=function(e){return t.default.inflector.singularize(e)}}),define("ember-inflector/lib/utils/make-helper",["exports","ember"],function(e,t){e.default=function(e){if(t.default.Helper)return t.default.Helper.helper(e)
if(t.default.HTMLBars)return t.default.HTMLBars.makeBoundHelper(e)
return t.default.Handlebars.makeBoundHelper(e)}}),define("ember-load-initializers/index",["exports"],function(e){"use strict"
function t(e){var t=require(e,null,null,!0)
if(!t)throw new Error(e+" must export an initializer.")
var r=t.default
return r.name||(r.name=e.slice(e.lastIndexOf("/")+1)),r}function r(e,t){return-1!==e.indexOf(t,e.length-t.length)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,n){for(var i=n+"/initializers/",a=n+"/instance-initializers/",o=[],s=[],l=Object.keys(requirejs._eak_seen),u=0;u<l.length;u++){var d=l[u]
0===d.lastIndexOf(i,0)?r(d,"-test")||o.push(d):0===d.lastIndexOf(a,0)&&(r(d,"-test")||s.push(d))}(function(e,r){for(var n=0;n<r.length;n++)e.initializer(t(r[n]))})(e,o),function(e,r){for(var n=0;n<r.length;n++)e.instanceInitializer(t(r[n]))}(e,s)}}),define("ember-pidlsdk/components/pidl-sdk",["exports","ember-pidlsdk/templates/components/pidl-sdk","sfw-telemetry/utils/flight-config","sfw-telemetry/utils/client","sfw-telemetry/utils/instrumentation","sfw-telemetry/utils/start-data"],function(e,t,r,n,i,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({tagName:"",layout:t.default,pidl:Ember.inject.service("pidl"),documentDisplayControlOptions:Ember.computed("userId","additionalHeaders","authToken","returnOptions","callbacks","displayOptions","sdkEventHandler","client","deviceFamily","pageName","disableLogging","htmlExtenderName","oneDsWindowNameSpace",function(){if(r.default.isEnabled("pidlsdkcvv")){var e=i.default.correlationVector()
e=e&&e.getValue&&e.getValue()
var t={userId:this.get("userId"),additionalHeaders:this.get("additionalHeaders"),authToken:this.get("authToken"),returnOptions:this.get("returnOptions"),callbacks:this.get("callbacks"),displayOptions:this.get("displayOptions"),sdkEventHandler:this.get("sdkEventHandler"),clientContext:i.default.getContext(),cvInitValue:e,disableLogging:this.get("disableLogging"),htmlExtenderName:this.get("htmlExtenderName"),oneDsWindowNameSpace:this.get("oneDsWindowNameSpace")}
return r.default.isEnabled("partnernametelemetry")&&(t.client=n.default.getClientType()),t}var a={userId:this.get("userId"),additionalHeaders:this.get("additionalHeaders"),authToken:this.get("authToken"),returnOptions:this.get("returnOptions"),displayOptions:this.get("displayOptions"),sdkEventHandler:this.get("sdkEventHandler"),clientContext:i.default.getContext(),disableLogging:this.get("disableLogging"),htmlExtenderName:this.get("htmlExtenderName"),oneDsWindowNameSpace:this.get("oneDsWindowNameSpace")}
return r.default.isEnabled("partnernametelemetry")&&(a.client=n.default.getClientType()),a}),resourceOptions:Ember.computed("greenId",function(){return this.get("greenId")?{riskData:{greenId:this.get("greenId")}}:null}),resourceInfo:Ember.computed("paymentInstrumentId","resourceType","market","language","partner","type",function(){return{id:this.get("paymentInstrumentId"),resourceType:this.get("resourceType"),parameters:{type:this.get("type"),market:this.get("market"),language:this.get("language"),partner:this.get("partner"),scenario:this.get("scenario")}}}),containerId:Ember.computed("displayOptions",function(){return this.get("displayOptions.containerId")||"pidlContainer"}),didRender:function(){this._super()
var e=this.get("operation")
if(e){var t=this.get("pidl")
t.setEnvironment(this.get("sdkEnvironment"))
var n=this.get("documentDisplayControlOptions")
switch(e.toLowerCase()){case"handlependingorder":var i=this.get("resourceInfo"),o={piResourceInfo:{resourceType:"PaymentInstrument",parameters:i.parameters,id:i.id},sessionId:this.get("sessionId"),orderId:this.get("orderId"),options:{}}
t.handlePendingOrder(n,o)
break
case"edit":t.updateResource(n,this.get("resourceInfo"))
break
case"add":var s={resourceType:this.get("resourceType")}
s.parameters={family:this.get("paymentMethodFamily"),type:this.get("paymentMethodType"),market:this.get("market"),language:this.get("language"),partner:this.get("partner"),scenario:this.get("scenario"),classicProduct:this.get("classicProduct"),billableAccountId:this.get("billableAccountId"),completePrerequisites:this.get("completePrerequisites")}
var l=this.get("prefillData"),u=this.get("resourceOptions"),d=t.addResource(n,s,l,u)
this.get("pidlPageNavigator")&&(this.get("pidlPageNavigator").moveNextPage=d.moveNextPage,this.get("pidlPageNavigator").movePrevPage=d.movePrevPage,this.get("pidlPageNavigator").cancel=d.cancel)
break
case"challenge":if(r.default.isEnabled("pidlsdkcvv")&&"cvv".equalsIgnoreCase(this.get("type"))||r.default.isEnabled("pidlsdksms")&&"sms".equalsIgnoreCase(this.get("type"))){var c={piResourceInfo:this.get("resourceInfo"),riskChallengeData:[this.get("type")],sessionId:this.get("sessionId")},f=t.handlePurchaseRiskChallenge(n,c)
this.get("pidlPageNavigator")&&(this.get("pidlPageNavigator").moveNextPage=f.moveNextPage,this.get("pidlPageNavigator").movePrevPage=f.movePrevPage,this.get("pidlPageNavigator").cancel=f.cancel)}else if("threeds".equalsIgnoreCase(this.get("type"))){var p=t.handlePaymentChallenge(n,this.get("paymentSession"))
this.get("pidlPageNavigator")&&(this.get("pidlPageNavigator").moveNextPage=p.moveNextPage,this.get("pidlPageNavigator").movePrevPage=p.movePrevPage,this.get("pidlPageNavigator").cancel=p.cancel)}else t.handleChallenge(n,this.get("resourceInfo"))
break
case"selectpi":var m={resourceType:this.get("resourceType")}
m.parameters={market:this.get("market"),language:this.get("language"),allowedPaymentMethods:this.get("allowedPaymentMethods"),filters:this.get("filters"),sessionId:this.get("sessionId"),orderId:this.get("orderId"),partner:this.get("partner")},t.selectResourceType(n,m)
break
case"selectresource":case"selectsingleresource":var h={resourceType:this.get("resourceType")}
h.parameters={market:this.get("market"),language:this.get("language"),allowedPaymentMethods:this.get("allowedPaymentMethods"),filters:this.get("filters"),sessionId:this.get("sessionId"),orderId:this.get("orderId"),partner:this.get("partner")}
var g=this.get("actionContext"),v={id:this.get("id"),backupId:this.get("backupId")}
"selectresource"===e.toLowerCase()?t.selectResource(n,h,g,v):t.selectSingleResource(n,h,g,v)
break
case"profile":var y={resourceType:this.get("resourceType"),id:this.get("profileId")}
y.parameters={type:this.get("type"),language:this.get("language"),market:this.get("market"),partner:this.get("partner"),scenario:this.get("scenario")}
var b={id:this.get("profileId")},_={resourceType:this.get("resourceType"),parameters:{type:this.get("type"),language:this.get("language"),market:this.get("market"),partner:this.get("partner"),scenario:this.get("scenario"),anonymousPIDL:!1}}
r.default.isEnabled("updateresourcefix")?t.updateResource(n,y,b,_):t.updateResource(n,y)
break
case"address":var I={resourceType:this.get("resourceType")}
I.parameters={type:this.get("type"),country:this.get("market"),language:this.get("language"),partner:this.get("partner"),scenario:this.get("scenario")},r.default.isEnabled("enablezipplusfour")&&"US".equalsIgnoreCase(a.default.get().Market)&&(I.parameters.avsSuggest=this.get("avsSuggest"),I.parameters.setAsDefaultBilling=this.get("isAutoSetAsBillingAddress")||this.get("setAsDefaultBilling"))
var C=this.get("prefillData")
t.addResource(n,I,C)}}},isAutoSetAsBillingAddress:Ember.computed(function(){return n.default.isXboxOneClient()||n.default.isModernXboxClient()||n.default.isGamingApp()})})}),define("ember-pidlsdk/services/pidl",["exports","sfw-services/services/request","sfw-telemetry/utils/flight-config"],function(e,t,r){"use strict"
function n(e){var t=function(e){var t=e.displayOptions,r=e.htmlExtenderName
t&&r&&(t.htmlExtender=pidl.htmlExtender[r])
return{userContext:function(e){var t={userId:e.userId,additionalHeaders:e.additionalHeaders||{}},r=e.authToken
r&&(t.authToken=r)
return t}(e),returnOptions:e.returnOptions,eventHandler:e.sdkEventHandler,displayOptions:t,telemteryOptions:function(e){var t={contextData:{clientContext:e.clientContext,cvInitValue:e.cvInitValue},disableLogging:e.disableLogging||!1}
e.client&&(t.contextData.partnerName=e.client)
e.oneDsWindowNameSpace&&(t.customTelemetryFrameworkWindowNamespace=e.oneDsWindowNameSpace)
return t}(e),callbacks:e.callbacks}}(e)
try{return r.default.isEnabled("pidlsdkcvv")?new pidl.docDisplayControl(t.userContext,t.returnOptions,t.eventHandler,t.displayOptions,t.telemteryOptions,t.callbacks):new pidl.docDisplayControl(t.userContext,t.returnOptions,t.eventHandler,t.displayOptions,t.telemteryOptions)}catch(e){return void t.eventHandler(e)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Service.extend({isReady:!1,handlePendingOrder:function(e,t){var r=n(e)
r&&r.handlePurchasePendingState(t)},downloadAssets:function(e,r){var n=this
return t.default.getScript({url:(e||"")+function(e){switch(e){case"convergence":return"/uniblends/REL20231025.1/assets/pidl-convergence"
case"beta":return"/uniblends/REL20231025.1/assets/pidl-beta"
case"stable":return"/uniblends/REL20231025.1/assets/pidl-stable"
default:return"/assets/"+e}}(r)+"/pidlsdk.js",cache:!0,serviceName:"PidlSdk",operationName:"GetPidlSdkJs"}).then(function(){n.set("isReady",!0)},function(){})},setEnvironment:function(e){e&&"prod"!==e&&pidl.env.set(e)},addResource:function(e,t,r,i){var a=n(e)
if(a)return a.addResource(t,r,i),a},handleChallenge:function(e,t){var r=n(e)
r&&r.handleChallenge(t)},handlePurchaseRiskChallenge:function(e,t){var r=n(e)
if(r)return r.handlePurchaseRiskChallenge(t),r},selectResourceType:function(e,t){var r=n(e)
r&&(r.selectResourceType?r.selectResourceType(t):r.selectResource(t))},selectResource:function(e,t,r,i){var a=n(e)
a&&a.selectResource(t,null,r,i)},selectSingleResource:function(e,t,r,i){var a=n(e)
a&&a.selectSingleResource(t,null,r,i)},updateResource:function(e,t,r,i){var a=n(e)
a&&a.updateResource(t,r,i)},getAllResources:function(e,t,r){var i=n(e)
i&&i.getAllResources(t,null,null,r)},renderPidlPage:function(e,t,r){var i=n(e)
if(i)return i.renderPidlPage(t,r),{moveNextPage:i.moveNextPage,movePrevPage:i.movePrevPage,cancel:i.cancel}},createPaymentSession:function(e,t){var r=n(e)
r&&r.createPaymentSession(t)},handlePaymentChallenge:function(e,t){var r=n(e)
if(r)return r.handlePaymentChallenge(t),r},paymentSessionData:function(e,t,r,n,i,a){var o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,u={piid:r,language:t,partner:i,piCid:n,amount:e&&e.amount,currency:e&&e.currency,country:e&&e.country,hasPreOrder:o,challengeScenario:s?"RecurringTransaction":"PaymentTransaction",challengeWindowSize:a,purchaseOrderId:l}
return u}})}),define("ember-pidlsdk/templates/components/pidl-sdk",["exports"],function(e){"use strict"
e.__esModule=!0,e.default=Ember.HTMLBars.template({id:"VMczY1A0",block:'{"symbols":[],"statements":[[6,"section"],[10,"id",[26,[[18,"containerId"]]]],[10,"class",[26,[[18,"paymentMethodType"]," ",[18,"paymentMethodFamily"]," ",[18,"threedsSectionClass"]]]],[9,"role","main"],[9,"data-bi-area","PaymentAndBillingPidlSDK"],[7],[8]],"hasEval":false}',meta:{moduleName:"ember-pidlsdk/templates/components/pidl-sdk.hbs"}})}),define("ember-resolver/features",[],function(){"use strict"}),define("ember-resolver/index",["exports","ember-resolver/resolvers/classic"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})}),define("ember-resolver/resolver",["exports","ember-resolver/resolvers/classic"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})}),define("ember-resolver/resolvers/classic/container-debug-adapter",["exports","ember-resolver/resolvers/classic/index"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var r=Ember.ContainerDebugAdapter
function n(e,t,r){var n=t.match(new RegExp("^/?"+r+"/(.+)/"+e+"$"))
if(null!==n)return n[1]}e.default=r.extend({_moduleRegistry:null,init:function(){this._super.apply(this,arguments),this._moduleRegistry||(this._moduleRegistry=new t.ModuleRegistry)},canCatalogEntriesByType:function(e){return"model"===e||this._super.apply(this,arguments)},catalogEntriesByType:function(e){for(var t=this._moduleRegistry.moduleNames(),r=Ember.A(),i=this.namespace.modulePrefix,a=0,o=t.length;a<o;a++){var s=t[a]
if(-1!==s.indexOf(e)){var l=n(e,s,this.namespace.podModulePrefix||i)
l||(l=s.split(e+"s/").pop()),r.addObject(l)}}return r}})}),define("ember-resolver/resolvers/classic/index",["exports","ember-resolver/utils/class-factory","ember-resolver/utils/make-dictionary"],function(e,t,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.ModuleRegistry=void 0,void 0===requirejs.entries&&(requirejs.entries=requirejs._eak_seen)
var n=e.ModuleRegistry=function(){function e(t){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this._entries=t||requirejs.entries}return e.prototype.moduleNames=function(){return Object.keys(this._entries)},e.prototype.has=function(e){return e in this._entries},e.prototype.get=function(e){return require(e)},e}(),i=Ember.String,a=i.underscore,o=i.classify,s=i.dasherize,l=Ember.get
function u(e){Ember.assert("`modulePrefix` must be defined",this.namespace.modulePrefix)
var r=this.findModuleName(e)
if(r){var n=this._extractDefaultExport(r,e)
if(void 0===n)throw new Error(" Expected to find: '"+e.fullName+"' within '"+r+"' but got 'undefined'. Did you forget to 'export default' within '"+r+"'?")
return this.shouldWrapInClassFactory(n,e)&&(n=(0,t.default)(n)),n}return this._super(e)}var d=Ember.DefaultResolver.extend({resolveOther:u,parseName:function(e){if(!0===e.parsedName)return e
var t=void 0,r=void 0,n=void 0,i=e.split("@")
if("helper:@content-helper"!==e&&2===i.length){var a=i[0].split(":")
if(2===a.length)t=a[1],r=a[0],n=i[1]
else{var s=i[1].split(":")
t=i[0],r=s[0],n=s[1]}"template"===r&&0===t.lastIndexOf("components/",0)&&(n="components/"+n,t=t.slice(11))}else r=(i=e.split(":"))[0],n=i[1]
var u=n,d=l(this,"namespace")
return{parsedName:!0,fullName:e,prefix:t||this.prefix({type:r}),type:r,fullNameWithoutType:u,name:n,root:d,resolveMethodName:"resolve"+o(r)}},resolveTemplate:u,pluralizedTypes:null,moduleRegistry:null,makeToString:function(e,t){return this.namespace.modulePrefix+"@"+t+":"},shouldWrapInClassFactory:function(){return!1},init:function(){this._super(),this.moduleBasedResolver=!0,this._moduleRegistry||(this._moduleRegistry=new n),this._normalizeCache=(0,r.default)(),this.pluralizedTypes=this.pluralizedTypes||(0,r.default)(),this.pluralizedTypes.config||(this.pluralizedTypes.config="config"),this._deprecatedPodModulePrefix=!1},normalize:function(e){return this._normalizeCache[e]||(this._normalizeCache[e]=this._normalize(e))},_normalize:function(e){var t=e.split(":")
return t.length>1?"helper"===t[0]?t[0]+":"+t[1].replace(/_/g,"-"):t[0]+":"+s(t[1].replace(/\./g,"/")):e},pluralize:function(e){return this.pluralizedTypes[e]||(this.pluralizedTypes[e]=e+"s")},podBasedLookupWithPrefix:function(e,t){var r=t.fullNameWithoutType
return"template"===t.type&&(r=r.replace(/^components\//,"")),e+"/"+r+"/"+t.type},podBasedModuleName:function(e){var t=this.namespace.podModulePrefix||this.namespace.modulePrefix
return this.podBasedLookupWithPrefix(t,e)},podBasedComponentsInSubdir:function(e){var t=this.namespace.podModulePrefix||this.namespace.modulePrefix
if(t+="/components","component"===e.type||/^components/.test(e.fullNameWithoutType))return this.podBasedLookupWithPrefix(t,e)},resolveEngine:function(e){var t=e.fullNameWithoutType+"/engine"
if(this._moduleRegistry.has(t))return this._extractDefaultExport(t)},resolveRouteMap:function(e){var t=e.fullNameWithoutType,r=t+"/routes"
if(this._moduleRegistry.has(r)){var n=this._extractDefaultExport(r)
return Ember.assert("The route map for "+t+" should be wrapped by 'buildRoutes' before exporting.",n.isRouteMap),n}},mainModuleName:function(e){if("main"===e.fullNameWithoutType)return e.prefix+"/"+e.type},defaultModuleName:function(e){return e.prefix+"/"+this.pluralize(e.type)+"/"+e.fullNameWithoutType},prefix:function(e){var t=this.namespace.modulePrefix
return this.namespace[e.type+"Prefix"]&&(t=this.namespace[e.type+"Prefix"]),t},moduleNameLookupPatterns:Ember.computed(function(){return[this.podBasedModuleName,this.podBasedComponentsInSubdir,this.mainModuleName,this.defaultModuleName]}).readOnly(),findModuleName:function(e,t){for(var r=this.get("moduleNameLookupPatterns"),n=void 0,i=0,a=r.length;i<a;i++){var o=r[i].call(this,e)
if(o&&(o=this.chooseModuleName(o,e)),o&&this._moduleRegistry.has(o)&&(n=o),t||this._logLookup(n,e,o),n)return n}},chooseModuleName:function(e,t){var r=this,n=a(e)
if(e!==n&&this._moduleRegistry.has(e)&&this._moduleRegistry.has(n))throw new TypeError("Ambiguous module names: '"+e+"' and '"+n+"'")
if(this._moduleRegistry.has(e))return e
if(this._moduleRegistry.has(n))return n
var i=e.replace(/\/-([^/]*)$/,"/_$1")
if(this._moduleRegistry.has(i))return Ember.deprecate('Modules should not contain underscores. Attempted to lookup "'+e+'" which was not found. Please rename "'+i+'" to "'+e+'" instead.',!1,{id:"ember-resolver.underscored-modules",until:"3.0.0"}),i
Ember.runInDebug(function(){"helper"===t.type&&/[a-z]+[A-Z]+/.test(e)&&(r._camelCaseHelperWarnedNames=r._camelCaseHelperWarnedNames||[],!(r._camelCaseHelperWarnedNames.indexOf(t.fullName)>-1)&&r._moduleRegistry.has(s(e))&&(r._camelCaseHelperWarnedNames.push(t.fullName),Ember.warn('Attempted to lookup "'+t.fullName+'" which was not found. In previous versions of ember-resolver, a bug would have caused the module at "'+s(e)+'" to be returned for this camel case helper name. This has been fixed. Use the dasherized name to resolve the module that would have been returned in previous versions.',!1,{id:"ember-resolver.camelcase-helper-names",until:"3.0.0"})))})},lookupDescription:function(e){var t=this.parseName(e)
return this.findModuleName(t,!0)},_logLookup:function(e,t,r){if(Ember.ENV.LOG_MODULE_RESOLVER||t.root.LOG_RESOLVER){var n=void 0,i=e?"[]":"[ ]"
n=t.fullName.length>60?".":new Array(60-t.fullName.length).join("."),r||(r=this.lookupDescription(t)),console&&console.info&&console.info(i,t.fullName,n,r)}},knownForType:function(e){for(var t=this._moduleRegistry.moduleNames(),n=(0,r.default)(),i=0,a=t.length;i<a;i++){var o=t[i],s=this.translateToContainerFullname(e,o)
s&&(n[s]=!0)}return n},translateToContainerFullname:function(e,t){var r=this.prefix({type:e}),n=r+"/",i="/"+e,a=t.indexOf(n),o=t.indexOf(i)
if(0===a&&o===t.length-i.length&&t.length>n.length+i.length)return e+":"+t.slice(a+n.length,o)
var s=r+"/"+this.pluralize(e)+"/"
return 0===t.indexOf(s)&&t.length>s.length?e+":"+t.slice(s.length):void 0},_extractDefaultExport:function(e){var t=require(e,null,null,!0)
return t&&t.default&&(t=t.default),t}})
d.reopenClass({moduleBasedResolver:!0}),e.default=d}),define("ember-resolver/utils/class-factory",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){return{create:function(t){return"function"==typeof e.extend?e.extend(t):e}}}}),define("ember-resolver/utils/make-dictionary",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var e=Object.create(null)
return e._dict=null,delete e._dict,e}}),define("ember-truth-helpers/helpers/and",["exports","ember-truth-helpers/utils/truth-convert"],function(e,t){e.andHelper=function(e){for(var r=0,n=e.length;r<n;r++)if(!1===(0,t.default)(e[r]))return e[r]
return e[e.length-1]}}),define("ember-truth-helpers/helpers/equal",["exports"],function(e){e.equalHelper=function(e){return e[0]===e[1]}}),define("ember-truth-helpers/helpers/gt",["exports"],function(e){e.gtHelper=function(e,t){var r=e[0],n=e[1]
t.forceNumber&&("number"!=typeof r&&(r=Number(r)),"number"!=typeof n&&(n=Number(n)))
return r>n}}),define("ember-truth-helpers/helpers/gte",["exports"],function(e){e.gteHelper=function(e,t){var r=e[0],n=e[1]
t.forceNumber&&("number"!=typeof r&&(r=Number(r)),"number"!=typeof n&&(n=Number(n)))
return r>=n}}),define("ember-truth-helpers/helpers/is-array",["exports","ember"],function(e,t){e.isArrayHelper=function(e){for(var r=0,n=e.length;r<n;r++)if(!1===t.default.isArray(e[r]))return!1
return!0}}),define("ember-truth-helpers/helpers/is-equal",["exports","ember"],function(e,t){var r=function(){return function(e,t){if(Array.isArray(e))return e
if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,a=void 0
try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw a}}return r}(e,t)
throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()
e.isEqual=i
var n=t.default.isEqual
function i(e){var t=r(e,2),i=t[0],a=t[1]
return n(i,a)}e.default=t.default.Helper.helper(i)}),define("ember-truth-helpers/helpers/lt",["exports"],function(e){e.ltHelper=function(e,t){var r=e[0],n=e[1]
t.forceNumber&&("number"!=typeof r&&(r=Number(r)),"number"!=typeof n&&(n=Number(n)))
return r<n}}),define("ember-truth-helpers/helpers/lte",["exports"],function(e){e.lteHelper=function(e,t){var r=e[0],n=e[1]
t.forceNumber&&("number"!=typeof r&&(r=Number(r)),"number"!=typeof n&&(n=Number(n)))
return r<=n}}),define("ember-truth-helpers/helpers/not-equal",["exports"],function(e){e.notEqualHelper=function(e){return e[0]!==e[1]}}),define("ember-truth-helpers/helpers/not",["exports","ember-truth-helpers/utils/truth-convert"],function(e,t){e.notHelper=function(e){for(var r=0,n=e.length;r<n;r++)if(!0===(0,t.default)(e[r]))return!1
return!0}}),define("ember-truth-helpers/helpers/or",["exports","ember-truth-helpers/utils/truth-convert"],function(e,t){e.orHelper=function(e){for(var r=0,n=e.length;r<n;r++)if(!0===(0,t.default)(e[r]))return e[r]
return e[e.length-1]}}),define("ember-truth-helpers/helpers/xor",["exports","ember-truth-helpers/utils/truth-convert"],function(e,t){e.xorHelper=function(e){return(0,t.default)(e[0])!==(0,t.default)(e[1])}}),define("ember-truth-helpers/utils/register-helper",["exports","ember"],function(e,t){e.registerHelper=function(e,r){if(t.default.Helper)return
t.default.HTMLBars._registerHelper?t.default.HTMLBars.helpers?function(e,r){t.default.HTMLBars.helpers[e]=t.default.HTMLBars.makeBoundHelper(r)}(e,r):function(e,r){t.default.HTMLBars._registerHelper(e,t.default.HTMLBars.makeBoundHelper(r))}(e,r):t.default.HTMLBars.registerHelper&&function(e,r){t.default.HTMLBars.registerHelper(e,t.default.HTMLBars.makeBoundHelper(r))}(e,r)}}),define("ember-truth-helpers/utils/truth-convert",["exports","ember"],function(e,t){e.default=function(e){var r=e&&t.default.get(e,"isTruthy")
if("boolean"==typeof r)return r
return t.default.isArray(e)?0!==t.default.get(e,"length"):!!e}}),define("ember-data/-private",["exports","ember-inflector","ember-data/version"],function(e,t,r){"use strict"
r="default"in r?r.default:r
var n=Ember.get,i=Ember.RSVP.Promise,a=Ember.ArrayProxy.extend(Ember.PromiseProxyMixin),o=Ember.ObjectProxy.extend(Ember.PromiseProxyMixin)
function s(e,t){return o.create({promise:i.resolve(e,t)})}function l(e,t){return a.create({promise:i.resolve(e,t)})}function u(e){return function(){var t
return(t=n(this,"content"))[e].apply(t,arguments)}}var d=a.extend({reload:function(){return this.set("promise",this.get("content").reload()),this},createRecord:u("createRecord"),on:u("on"),one:u("one"),trigger:u("trigger"),off:u("off"),has:u("has")}),c=Ember.get,f=Ember.set,p=Ember.isEmpty,m=Ember.makeArray,h=Ember.MapWithDefault,g=Ember.ArrayProxy.extend(Ember.Evented,{registerHandlers:function(e,t,r){this._registerHandlers(e,t,r)},_registerHandlers:function(e,t,r){this.on("becameInvalid",e,t),this.on("becameValid",e,r)},errorsByAttributeName:Ember.computed(function(){return h.create({defaultValue:function(){return Ember.A()}})}),errorsFor:function(e){return c(this,"errorsByAttributeName").get(e)},messages:Ember.computed.mapBy("content","message"),content:Ember.computed(function(){return Ember.A()}),unknownProperty:function(e){var t=this.errorsFor(e)
return p(t)?null:t},isEmpty:Ember.computed.not("length").readOnly(),add:function(e,t){var r=c(this,"isEmpty")
this._add(e,t),r&&!c(this,"isEmpty")&&this.trigger("becameInvalid")},_add:function(e,t){t=this._findOrCreateMessages(e,t),this.addObjects(t),c(this,"errorsByAttributeName").get(e).addObjects(t),this.notifyPropertyChange(e)},_findOrCreateMessages:function(e,t){for(var r=this.errorsFor(e),n=m(t),i=new Array(n.length),a=0;a<n.length;a++){var o=n[a],s=r.findBy("message",o)
i[a]=s||{attribute:e,message:o}}return i},remove:function(e){c(this,"isEmpty")||(this._remove(e),c(this,"isEmpty")&&this.trigger("becameValid"))},_remove:function(e){if(!c(this,"isEmpty")){var t=this.rejectBy("attribute",e)
f(this,"content",t),c(this,"errorsByAttributeName").delete(e),this.notifyPropertyChange(e)}},clear:function(){c(this,"isEmpty")||(this._clear(),this.trigger("becameValid"))},_clear:function(){if(!c(this,"isEmpty")){var e=c(this,"errorsByAttributeName"),t=Ember.A()
e.forEach(function(e,r){t.push(r)}),e.clear(),t.forEach(function(e){this.notifyPropertyChange(e)},this),Ember.ArrayProxy.prototype.clear.call(this)}},has:function(e){return!p(this.errorsFor(e))}})
function v(){var e
return(e=Ember.FEATURES).isEnabled.apply(e,arguments)}function y(e,t){t.value===t.originalValue?(delete e._attributes[t.name],e.send("propertyWasReset",t.name)):t.value!==t.oldValue&&e.send("becomeDirty"),e.updateRecordArrays()}var b={initialState:"uncommitted",isDirty:!0,uncommitted:{didSetProperty:y,loadingData:function(){},propertyWasReset:function(e,t){e.hasChangedAttributes()||e.send("rolledBack")},pushedData:function(e){e.updateChangedAttributes(),e.hasChangedAttributes()||e.transitionTo("loaded.saved")},becomeDirty:function(){},willCommit:function(e){e.transitionTo("inFlight")},reloadRecord:function(e,t){t(e.store._reloadRecord(e))},rolledBack:function(e){e.transitionTo("loaded.saved")},becameInvalid:function(e){e.transitionTo("invalid")},rollback:function(e){e.rollbackAttributes(),e.triggerLater("ready")}},inFlight:{isSaving:!0,didSetProperty:y,becomeDirty:function(){},pushedData:function(){},unloadRecord:E,willCommit:function(){},didCommit:function(e){e.transitionTo("saved"),e.send("invokeLifecycleCallbacks",this.dirtyType)},becameInvalid:function(e){e.transitionTo("invalid"),e.send("invokeLifecycleCallbacks")},becameError:function(e){e.transitionTo("uncommitted"),e.triggerLater("becameError",e)}},invalid:{isValid:!1,deleteRecord:function(e){e.transitionTo("deleted.uncommitted")},didSetProperty:function(e,t){e.removeErrorMessageFromAttribute(t.name),y(e,t),e.hasErrors()||this.becameValid(e)},becameInvalid:function(){},becomeDirty:function(){},pushedData:function(){},willCommit:function(e){e.clearErrorMessages(),e.transitionTo("inFlight")},rolledBack:function(e){e.clearErrorMessages(),e.transitionTo("loaded.saved"),e.triggerLater("ready")},becameValid:function(e){e.transitionTo("uncommitted")},invokeLifecycleCallbacks:function(e){e.triggerLater("becameInvalid",e)}}}
function _(e,t){for(var r in t)e[r]=t[r]
return e}function I(e){return _(function e(t){var r={},n=void 0
for(var i in t)n=t[i],r[i]=n&&"object"==typeof n?e(n):n
return r}(b),e)}var C=I({dirtyType:"created",isNew:!0})
C.invalid.rolledBack=function(e){e.transitionTo("deleted.saved")},C.uncommitted.rolledBack=function(e){e.transitionTo("deleted.saved")}
var P=I({dirtyType:"updated"})
function w(e){e.transitionTo("deleted.saved"),e.send("invokeLifecycleCallbacks")}function E(e){}C.uncommitted.deleteRecord=w,C.invalid.deleteRecord=w,C.uncommitted.rollback=function(e){b.uncommitted.rollback.apply(this,arguments),e.transitionTo("deleted.saved")},C.uncommitted.pushedData=function(e){e.transitionTo("loaded.updated.uncommitted"),e.triggerLater("didLoad")},C.uncommitted.propertyWasReset=function(){},P.inFlight.unloadRecord=E,P.uncommitted.deleteRecord=function(e){e.transitionTo("deleted.uncommitted")}
var T=function e(t,r,n){for(var i in(t=_(r?Object.create(r):{},t)).parentState=r,t.stateName=n,t)t.hasOwnProperty(i)&&"parentState"!==i&&"stateName"!==i&&"object"==typeof t[i]&&(t[i]=e(t[i],t,n+"."+i))
return t}({isEmpty:!1,isLoading:!1,isLoaded:!1,isDirty:!1,isSaving:!1,isDeleted:!1,isNew:!1,isValid:!0,rolledBack:function(){},unloadRecord:function(e){},propertyWasReset:function(){},empty:{isEmpty:!0,loadingData:function(e,t){e._loadingPromise=t,e.transitionTo("loading")},loadedData:function(e){e.transitionTo("loaded.created.uncommitted"),e.triggerLater("ready")},pushedData:function(e){e.transitionTo("loaded.saved"),e.triggerLater("didLoad"),e.triggerLater("ready")}},loading:{isLoading:!0,exit:function(e){e._loadingPromise=null},pushedData:function(e){e.transitionTo("loaded.saved"),e.triggerLater("didLoad"),e.triggerLater("ready"),e.didCleanError()},becameError:function(e){e.triggerLater("becameError",e)},notFound:function(e){e.transitionTo("empty")}},loaded:{initialState:"saved",isLoaded:!0,loadingData:function(){},saved:{setup:function(e){e.hasChangedAttributes()&&e.adapterDidDirty()},didSetProperty:y,pushedData:function(){},becomeDirty:function(e){e.transitionTo("updated.uncommitted")},willCommit:function(e){e.transitionTo("updated.inFlight")},reloadRecord:function(e,t){t(e.store._reloadRecord(e))},deleteRecord:function(e){e.transitionTo("deleted.uncommitted")},unloadRecord:function(e){},didCommit:function(){},notFound:function(){}},created:C,updated:P},deleted:{initialState:"uncommitted",dirtyType:"deleted",isDeleted:!0,isLoaded:!0,isDirty:!0,setup:function(e){e.updateRecordArrays()},uncommitted:{willCommit:function(e){e.transitionTo("inFlight")},rollback:function(e){e.rollbackAttributes(),e.triggerLater("ready")},pushedData:function(){},becomeDirty:function(){},deleteRecord:function(){},rolledBack:function(e){e.transitionTo("loaded.saved"),e.triggerLater("ready")}},inFlight:{isSaving:!0,unloadRecord:E,willCommit:function(){},didCommit:function(e){e.transitionTo("saved"),e.send("invokeLifecycleCallbacks")},becameError:function(e){e.transitionTo("uncommitted"),e.triggerLater("becameError",e)},becameInvalid:function(e){e.transitionTo("invalid"),e.triggerLater("becameInvalid",e)}},saved:{isDirty:!1,setup:function(e){e.removeFromInverseRelationships()},invokeLifecycleCallbacks:function(e){e.triggerLater("didDelete",e),e.triggerLater("didCommit",e)},willCommit:function(){},didCommit:function(){}},invalid:{isValid:!1,didSetProperty:function(e,t){e.removeErrorMessageFromAttribute(t.name),y(e,t),e.hasErrors()||this.becameValid(e)},becameInvalid:function(){},becomeDirty:function(){},deleteRecord:function(){},willCommit:function(){},rolledBack:function(e){e.clearErrorMessages(),e.transitionTo("loaded.saved"),e.triggerLater("ready")},becameValid:function(e){e.transitionTo("uncommitted")}}},invokeLifecycleCallbacks:function(e,t){"created"===t?e.triggerLater("didCreate",e):e.triggerLater("didUpdate",e),e.triggerLater("didCommit",e)}},null,"root")
function S(e){return Ember.String.dasherize(e)}function x(e){var r=void 0
return r=e.type||e.key,"hasMany"===e.kind&&(r=t.singularize(S(r))),r}var k=Ember.Map,A=Ember.MapWithDefault,M=Ember.computed(function(){!0===Ember.testing&&!0===M._cacheable&&(M._cacheable=!1)
var e=new A({defaultValue:function(){return[]}})
return this.eachComputedProperty(function(t,r){r.isRelationship&&(r.key=t,e.get(x(r)).push({name:t,kind:r.kind}))}),e}).readOnly(),R=Ember.computed(function(){!0===Ember.testing&&!0===R._cacheable&&(R._cacheable=!1)
var e=void 0,t=Ember.A()
return this.eachComputedProperty(function(r,n){n.isRelationship&&(n.key=r,e=x(n),t.includes(e)||t.push(e))}),t}).readOnly(),D=Ember.computed(function(){var e=k.create()
return this.eachComputedProperty(function(t,r){if(r.isRelationship){r.key=t
var n=function(e){return{key:e.key,kind:e.kind,type:x(e),options:e.options,name:e.name,parentType:e.parentType,isRelationship:!0}}(r)
n.type=x(r),e.set(t,n)}}),e}).readOnly(),O=Ember.get,N=Ember.computed,L=Ember.Map
var F=N("currentState",function(e){return O(this._internalModel.currentState,e)}).readOnly(),U=Ember.Object.extend(Ember.Evented,{_internalModel:null,store:null,__defineNonEnumerable:function(e){this[e.name]=e.descriptor.value},isEmpty:F,isLoading:F,isLoaded:F,hasDirtyAttributes:N("currentState.isDirty",function(){return this.get("currentState.isDirty")}),isSaving:F,isDeleted:F,isNew:F,isValid:F,dirtyType:F,isError:!1,isReloading:!1,id:null,currentState:T.empty,errors:N(function(){var e=g.create()
return e._registerHandlers(this._internalModel,function(){this.send("becameInvalid")},function(){this.send("becameValid")}),e}).readOnly(),adapterError:null,serialize:function(e){return this._internalModel.createSnapshot().serialize(e)},toJSON:function(e){var t=this.store.serializerFor("-default"),r=this._internalModel.createSnapshot()
return t.serialize(r,e)},ready:null,didLoad:null,didUpdate:null,didCreate:null,didDelete:null,becameInvalid:null,becameError:null,rolledBack:null,send:function(e,t){return this._internalModel.send(e,t)},transitionTo:function(e){return this._internalModel.transitionTo(e)},deleteRecord:function(){this._internalModel.deleteRecord()},destroyRecord:function(e){return this.deleteRecord(),this.save(e)},unloadRecord:function(){this.isDestroyed||this._internalModel.unloadRecord()},_notifyProperties:function(e){Ember.beginPropertyChanges()
for(var t=void 0,r=0,n=e.length;r<n;r++)t=e[r],this.notifyPropertyChange(t)
Ember.endPropertyChanges()},changedAttributes:function(){return this._internalModel.changedAttributes()},rollbackAttributes:function(){this._internalModel.rollbackAttributes()},_createSnapshot:function(){return this._internalModel.createSnapshot()},toStringExtension:function(){return O(this,"id")},save:function(e){var t=this
return o.create({promise:this._internalModel.save(e).then(function(){return t})})},reload:function(){var e=this
return o.create({promise:this._internalModel.reload().then(function(){return e})})},trigger:function(e){var t=this[e]
if("function"==typeof t){for(var r=arguments.length,n=new Array(r-1),i=1;i<r;i++)n[i-1]=arguments[i]
t.apply(this,n)}this._super.apply(this,arguments)},attr:function(){},belongsTo:function(e){return this._internalModel.referenceFor("belongsTo",e)},hasMany:function(e){return this._internalModel.referenceFor("hasMany",e)},setId:Ember.observer("id",function(){this._internalModel.setId(this.get("id"))}),_debugInfo:function(){var e=["id"],t={},r=[]
this.eachAttribute(function(t,r){return e.push(t)})
var n=[{name:"Attributes",properties:e,expand:!0}]
return this.eachRelationship(function(e,i){var a=t[i.kind]
void 0===a&&(a=t[i.kind]=[],n.push({name:i.name,properties:a,expand:!0})),a.push(e),r.push(e)}),n.push({name:"Flags",properties:["isLoaded","hasDirtyAttributes","isSaving","isDeleted","isError","isNew","isValid"]}),{propertyInfo:{includeOtherProperties:!0,groups:n,expensiveProperties:r}}},notifyBelongsToChanged:function(e){this.notifyPropertyChange(e)},eachRelationship:function(e,t){this.constructor.eachRelationship(e,t)},relationshipFor:function(e){return O(this.constructor,"relationshipsByName").get(e)},inverseFor:function(e){return this.constructor.inverseFor(e,this.store)},notifyHasManyAdded:function(e){this.notifyPropertyChange(e)},eachAttribute:function(e,t){this.constructor.eachAttribute(e,t)}})
Object.defineProperty(U.prototype,"data",{get:function(){return this._internalModel._data}}),U.reopenClass({isModel:!0,modelName:null,typeForRelationship:function(e,t){var r=O(this,"relationshipsByName").get(e)
return r&&t.modelFor(r.type)},inverseMap:Ember.computed(function(){return Object.create(null)}),inverseFor:function(e,t){var r=O(this,"inverseMap")
if(void 0!==r[e])return r[e]
var n=O(this,"relationshipsByName").get(e)
if(!n)return r[e]=null,null
var i=n.options
return i&&null===i.inverse?(r[e]=null,null):r[e]=this._findInverseFor(e,t)},_findInverseFor:function(e,t){var r=this.typeForRelationship(e,t)
if(!r)return null
var n=this.metaForProperty(e),i=n.options
if(null===i.inverse)return null
var a=void 0,o=void 0
if(i.inverse)a=i.inverse,o=Ember.get(r,"relationshipsByName").get(a).kind
else{n.parentType&&(n.type,n.parentType.modelName)
var s=function e(t,r,n,i){var a=i||[],o=O(r,"relationships")
if(!o)return a
var s=o.get(t.modelName).filter(function(e){var t=r.metaForProperty(e.name).options
return!t.inverse||n===t.inverse})
return s&&a.push.apply(a,s),t.superclass&&e(t.superclass,r,n,a),a}(this,r,e)
if(0===s.length)return null
var l=s.filter(function(t){var n=r.metaForProperty(t.name).options
return e===n.inverse})
1===l.length&&(s=l),a=s[0].name,o=s[0].kind}return{type:r,name:a,kind:o}},relationships:M,relationshipNames:Ember.computed(function(){var e={hasMany:[],belongsTo:[]}
return this.eachComputedProperty(function(t,r){r.isRelationship&&e[r.kind].push(t)}),e}),relatedTypes:R,relationshipsByName:D,fields:Ember.computed(function(){var e=L.create()
return this.eachComputedProperty(function(t,r){r.isRelationship?e.set(t,r.kind):r.isAttribute&&e.set(t,"attribute")}),e}).readOnly(),eachRelationship:function(e,t){O(this,"relationshipsByName").forEach(function(r,n){e.call(t,n,r)})},eachRelatedType:function(e,t){for(var r=O(this,"relatedTypes"),n=0;n<r.length;n++){var i=r[n]
e.call(t,i)}},determineRelationshipType:function(e,t){var r=e.key,n=e.kind,i=this.inverseFor(r,t)
return i?"belongsTo"===i.kind?"belongsTo"===n?"oneToOne":"manyToOne":"belongsTo"===n?"oneToMany":"manyToMany":"belongsTo"===n?"oneToNone":"manyToNone"},attributes:Ember.computed(function(){var e=L.create()
return this.eachComputedProperty(function(t,r){r.isAttribute&&(r.name=t,e.set(t,r))}),e}).readOnly(),transformedAttributes:Ember.computed(function(){var e=L.create()
return this.eachAttribute(function(t,r){r.type&&e.set(t,r.type)}),e}).readOnly(),eachAttribute:function(e,t){O(this,"attributes").forEach(function(r,n){e.call(t,n,r)})},eachTransformedAttribute:function(e,t){O(this,"transformedAttributes").forEach(function(r,n){e.call(t,n,r)})}}),Ember.setOwner&&Object.defineProperty(U.prototype,"container",{configurable:!0,enumerable:!1,get:function(){return this.store.container}}),v("ds-rollback-attribute")&&U.reopen({rollbackAttribute:function(e){e in this._internalModel._attributes&&this.set(e,this._internalModel.lastAcknowledgedValue(e))}})
var j=Ember.Error,z=/^\/?data\/(attributes|relationships)\/(.*)/,q=/^\/?data/,V="base"
function B(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Adapter operation failed"
this.isAdapterError=!0,j.call(this,t),this.errors=e||[{title:"Adapter Error",detail:t}]}function H(e){return function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).message
return W(e,t)}}function W(e,t){var r=function(r,n){e.call(this,r,n||t)}
return r.prototype=Object.create(e.prototype),r.extend=H(r),r}B.prototype=Object.create(j.prototype),B.extend=H(B)
var $=W(B,"The adapter rejected the commit because it was invalid"),G=W(B,"The adapter operation timed out"),K=W(B,"The adapter operation was aborted"),X=W(B,"The adapter operation is unauthorized"),J=W(B,"The adapter operation is forbidden"),Q=W(B,"The adapter could not find the resource"),Y=W(B,"The adapter operation failed due to a conflict"),Z=W(B,"The adapter operation failed due to a server error")
var ee=Ember.OrderedSet,te=Ember.guidFor
function re(){this._super$constructor()}re.create=function(){return new this},re.prototype=Object.create(ee.prototype),re.prototype.constructor=re,re.prototype._super$constructor=ee,re.prototype.addWithIndex=function(e,t){var r=te(e),n=this.presenceSet,i=this.list
if(!0!==n[r])return n[r]=!0,void 0===t||null===t?i.push(e):i.splice(t,0,e),this.size+=1,this}
var ne=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r]
n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),ie=Ember.guidFor,ae=function(){function e(e,t,r,n){var i=n.options.async,a=n.options.polymorphic
this.members=new re,this.canonicalMembers=new re,this.store=e,this.key=n.key,this.inverseKey=r,this.internalModel=t,this.isAsync=void 0===i||i,this.isPolymorphic=void 0===a||a,this.relationshipMeta=n,this.inverseKeyForImplicit=this.internalModel.modelName+this.key,this.linkPromise=null,this.meta=null,this.hasData=!1,this.hasLoaded=!1}return e.prototype._inverseIsAsync=function(){return!(!this.inverseKey||!this.inverseInternalModel)&&this.inverseInternalModel._relationships.get(this.inverseKey).isAsync},e.prototype.removeInverseRelationships=function(){if(this.inverseKey)for(var e=this.members.list.concat(this.canonicalMembers.list),t=0;t<e.length;t++){e[t]._relationships.get(this.inverseKey).inverseDidDematerialize()}},e.prototype.inverseDidDematerialize=function(){},e.prototype.updateMeta=function(e){this.meta=e},e.prototype.clear=function(){for(var e=this.members.list;e.length>0;){var t=e[0]
this.removeInternalModel(t)}for(var r=this.canonicalMembers.list;r.length>0;){var n=r[0]
this.removeCanonicalInternalModel(n)}},e.prototype.removeInternalModels=function(e){var t=this
e.forEach(function(e){return t.removeInternalModel(e)})},e.prototype.addInternalModels=function(e,t){var r=this
e.forEach(function(e){r.addInternalModel(e,t),void 0!==t&&t++})},e.prototype.addCanonicalInternalModels=function(e,t){for(var r=0;r<e.length;r++)void 0!==t?this.addCanonicalInternalModel(e[r],r+t):this.addCanonicalInternalModel(e[r])},e.prototype.addCanonicalInternalModel=function(e,t){this.canonicalMembers.has(e)||(this.canonicalMembers.add(e),this.setupInverseRelationship(e)),this.flushCanonicalLater(),this.setHasData(!0)},e.prototype.setupInverseRelationship=function(t){if(this.inverseKey){var r=t._relationships,n=r.has(this.inverseKey),i=r.get(this.inverseKey);(n||this.isPolymorphic)&&i.addCanonicalInternalModel(this.internalModel)}else{var a=t._implicitRelationships,o=a[this.inverseKeyForImplicit]
o||(o=a[this.inverseKeyForImplicit]=new e(this.store,t,this.key,{options:{async:this.isAsync}})),o.addCanonicalInternalModel(this.internalModel)}},e.prototype.removeCanonicalInternalModels=function(e,t){for(var r=0;r<e.length;r++)void 0!==t?this.removeCanonicalInternalModel(e[r],r+t):this.removeCanonicalInternalModel(e[r])},e.prototype.removeCanonicalInternalModel=function(e,t){this.canonicalMembers.has(e)&&(this.removeCanonicalInternalModelFromOwn(e),this.inverseKey?this.removeCanonicalInternalModelFromInverse(e):e._implicitRelationships[this.inverseKeyForImplicit]&&e._implicitRelationships[this.inverseKeyForImplicit].removeCanonicalInternalModel(this.internalModel)),this.flushCanonicalLater()},e.prototype.addInternalModel=function(t,r){this.members.has(t)||(this.members.addWithIndex(t,r),this.notifyRecordRelationshipAdded(t,r),this.inverseKey?t._relationships.get(this.inverseKey).addInternalModel(this.internalModel):(t._implicitRelationships[this.inverseKeyForImplicit]||(t._implicitRelationships[this.inverseKeyForImplicit]=new e(this.store,t,this.key,{options:{async:this.isAsync}})),t._implicitRelationships[this.inverseKeyForImplicit].addInternalModel(this.internalModel)),this.internalModel.updateRecordArrays()),this.setHasData(!0)},e.prototype.removeInternalModel=function(e){this.members.has(e)&&(this.removeInternalModelFromOwn(e),this.inverseKey?this.removeInternalModelFromInverse(e):e._implicitRelationships[this.inverseKeyForImplicit]&&e._implicitRelationships[this.inverseKeyForImplicit].removeInternalModel(this.internalModel))},e.prototype.removeInternalModelFromInverse=function(e){var t=e._relationships.get(this.inverseKey)
t&&t.removeInternalModelFromOwn(this.internalModel)},e.prototype.removeInternalModelFromOwn=function(e){this.members.delete(e),this.internalModel.updateRecordArrays()},e.prototype.removeCanonicalInternalModelFromInverse=function(e){var t=e._relationships.get(this.inverseKey)
t&&t.removeCanonicalInternalModelFromOwn(this.internalModel)},e.prototype.removeCanonicalInternalModelFromOwn=function(e){this.canonicalMembers.delete(e),this.flushCanonicalLater()},e.prototype.removeCompletelyFromInverse=function(){var e=this
if(this.inverseKey){var t=Object.create(null),r=this.internalModel,n=function(n){var i=ie(n)
void 0===t[i]&&(n._relationships.get(e.inverseKey).removeCompletelyFromOwn(r),t[i]=!0)}
this.members.forEach(n),this.canonicalMembers.forEach(n)}},e.prototype.removeCompletelyFromOwn=function(e){this.canonicalMembers.delete(e),this.members.delete(e),this.internalModel.updateRecordArrays()},e.prototype.flushCanonical=function(){var e=this.members.list
this.willSync=!1
for(var t=[],r=0;r<e.length;r++)e[r].isNew()&&t.push(e[r])
this.members=this.canonicalMembers.copy()
for(var n=0;n<t.length;n++)this.members.add(t[n])},e.prototype.flushCanonicalLater=function(){this.willSync||(this.willSync=!0,this.store._updateRelationshipState(this))},e.prototype.updateLink=function(e,t){this.link=e,this.linkPromise=null,t||this.internalModel.notifyPropertyChange(this.key)},e.prototype.findLink=function(){if(this.linkPromise)return this.linkPromise
var e=this.fetchLink()
return this.linkPromise=e,e.then(function(e){return e})},e.prototype.updateInternalModelsFromAdapter=function(e){this.setHasData(!0),this.computeChanges(e)},e.prototype.notifyRecordRelationshipAdded=function(){},e.prototype.setHasData=function(e){this.hasData=e},e.prototype.setHasLoaded=function(e){this.hasLoaded=e},e.prototype.push=function(e,t){var r=!1,n=!1
if(e.meta&&this.updateMeta(e.meta),void 0!==e.data&&(r=!0,this.updateData(e.data,t)),e.links&&e.links.related){var i=function(e){switch(typeof e){case"object":return e
case"string":return{href:e}}return null}(e.links.related)
i&&i.href&&i.href!==this.link&&(n=!0,this.updateLink(i.href,t))}r?(this.setHasData(!0),this.setHasLoaded(!0)):n&&this.setHasLoaded(!1)},e.prototype.updateData=function(){},e.prototype.destroy=function(){},ne(e,[{key:"parentType",get:function(){return this.internalModel.modelName}}]),e}(),oe=Ember.get
function se(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n]
return function(){return e.apply(void 0,r)}}function le(e,t){var r=e.finally(function(){t()||(r._subscribers.length=0)})
return r}function ue(e){return!(oe(e,"isDestroyed")||oe(e,"isDestroying"))}function de(e,t){for(var r=e.length,n=t.length,i=Math.min(r,n),a=null,o=0;o<i;o++)if(e[o]!==t[o]){a=o
break}null===a&&n!==r&&(a=i)
var s=0,l=0
if(null!==a){for(var u=i-a,d=1;d<=i;d++)if(e[r-d]!==t[n-d]){u=d-1
break}s=n-u-a,l=r-u-a}return{firstChangeIndex:a,addedCount:s,removedCount:l}}var ce=Ember.get,fe=Ember.Object.extend(Ember.MutableArray,Ember.Evented,{init:function(){this._super.apply(this,arguments),this.isLoaded=!1,this.length=0,this.promise=null,this.meta=this.meta||null,this.isPolymorphic=this.isPolymorphic||!1,this.relationship=this.relationship||null,this.currentState=[],this.flushCanonical(!1)},objectAt:function(e){var t=this.currentState[e]
if(void 0!==t)return t.getRecord()},flushCanonical:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0]
if(ue(this)){var t=this.canonicalState,r=this.currentState.filter(function(e){return e.isNew()&&-1===t.indexOf(e)})
t=t.concat(r)
var n=de(this.currentState,t)
null!==n.firstChangeIndex&&(this.arrayContentWillChange(n.firstChangeIndex,n.removedCount,n.addedCount),this.set("length",t.length),this.currentState=t,this.arrayContentDidChange(n.firstChangeIndex,n.removedCount,n.addedCount),e&&n.addedCount>0&&this.relationship.notifyHasManyChanged())}},internalReplace:function(e,t,r){r||(r=[]),this.arrayContentWillChange(e,t,r.length),this.currentState.splice.apply(this.currentState,[e,t].concat(r)),this.set("length",this.currentState.length),this.arrayContentDidChange(e,t,r.length)},_removeInternalModels:function(e){for(var t=0;t<e.length;t++){var r=this.currentState.indexOf(e[t])
this.internalReplace(r,1)}},_addInternalModels:function(e,t){void 0===t&&(t=this.currentState.length),this.internalReplace(t,0,e)},replace:function(e,t,r){var n=void 0
t>0&&(n=this.currentState.slice(e,e+t),this.get("relationship").removeInternalModels(n)),r&&this.get("relationship").addInternalModels(r.map(function(e){return e._internalModel}),e)},reload:function(){return this.relationship.reload()},save:function(){var e=this,t="DS: ManyArray#save "+ce(this,"type"),r=Ember.RSVP.all(this.invoke("save"),t).then(function(){return e},null,"DS: ManyArray#save return ManyArray")
return a.create({promise:r})},createRecord:function(e){var t=ce(this,"store"),r=ce(this,"type"),n=t.createRecord(r.modelName,e)
return this.pushObject(n),n}}),pe=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r]
n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}()
var me=function(e){function t(t,r,n,i){var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,t,r,n,i))
return a.belongsToType=i.type,a.canonicalState=[],a.isPolymorphic=i.options.polymorphic,a._manyArray=null,a.__loadingPromise=null,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t)
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype._updateLoadingPromise=function(e,t){return this.__loadingPromise?(t&&this.__loadingPromise.set("content",t),this.__loadingPromise.set("promise",e)):this.__loadingPromise=d.create({promise:e,content:t}),this.__loadingPromise},t.prototype.removeInverseRelationships=function(){e.prototype.removeInverseRelationships.call(this),this._manyArray&&(this._manyArray.destroy(),this._manyArray=null),this._loadingPromise&&this._loadingPromise.destroy()},t.prototype.updateMeta=function(t){e.prototype.updateMeta.call(this,t),this._manyArray&&this._manyArray.set("meta",t)},t.prototype.addCanonicalInternalModel=function(t,r){this.canonicalMembers.has(t)||(void 0!==r?this.canonicalState.splice(r,0,t):this.canonicalState.push(t),e.prototype.addCanonicalInternalModel.call(this,t,r))},t.prototype.inverseDidDematerialize=function(){this._manyArray&&(this._manyArray.destroy(),this._manyArray=null),this.notifyHasManyChanged()},t.prototype.addInternalModel=function(t,r){this.members.has(t)||(e.prototype.addInternalModel.call(this,t,r),this.manyArray._addInternalModels([t],r))},t.prototype.removeCanonicalInternalModelFromOwn=function(t,r){var n=r
this.canonicalMembers.has(t)&&(void 0===n&&(n=this.canonicalState.indexOf(t)),n>-1&&this.canonicalState.splice(n,1),e.prototype.removeCanonicalInternalModelFromOwn.call(this,t,r))},t.prototype.removeCompletelyFromOwn=function(t){e.prototype.removeCompletelyFromOwn.call(this,t)
var r=this.canonicalState.indexOf(t);-1!==r&&this.canonicalState.splice(r,1)
var n=this._manyArray
if(n){var i=n.currentState.indexOf(t);-1!==i&&n.internalReplace(i,1)}},t.prototype.flushCanonical=function(){this._manyArray&&this._manyArray.flushCanonical(),e.prototype.flushCanonical.call(this)},t.prototype.removeInternalModelFromOwn=function(t,r){if(this.members.has(t)){e.prototype.removeInternalModelFromOwn.call(this,t,r)
var n=this.manyArray
void 0!==r?n.currentState.removeAt(r):n._removeInternalModels([t])}},t.prototype.notifyRecordRelationshipAdded=function(e,t){this.internalModel.notifyHasManyAdded(this.key,e,t)},t.prototype.reload=function(){var e=this.manyArray,t=e.get("isLoaded")
if(this._loadingPromise){if(this._loadingPromise.get("isPending"))return this._loadingPromise
this._loadingPromise.get("isRejected")&&e.set("isLoaded",t)}var r=void 0
return r=this.link?this.fetchLink():this.store._scheduleFetchMany(e.currentState).then(function(){return e}),this._updateLoadingPromise(r),this._loadingPromise},t.prototype.computeChanges=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.canonicalMembers,r=[],n=function(e){var t=new re
if(e)for(var r=0,n=e.length;r<n;r++)t.add(e[r])
return t}(e)
t.forEach(function(e){n.has(e)||r.push(e)}),this.removeCanonicalInternalModels(r)
for(var i=0,a=e.length;i<a;i++){var o=e[i]
this.removeCanonicalInternalModel(o),this.addCanonicalInternalModel(o,i)}},t.prototype.setInitialInternalModels=function(e){if(!1!==Array.isArray(e)&&0!==e.length){for(var t=0;t<e.length;t++){var r=e[t]
this.canonicalMembers.has(r)||(this.canonicalMembers.add(r),this.members.add(r),this.setupInverseRelationship(r))}this.canonicalState=this.canonicalMembers.toArray()}},t.prototype.fetchLink=function(){var e=this
return this.store.findHasMany(this.internalModel,this.link,this.relationshipMeta).then(function(t){return t.hasOwnProperty("meta")&&e.updateMeta(t.meta),e.store._backburner.join(function(){e.updateInternalModelsFromAdapter(t),e.manyArray.set("isLoaded",!0),e.setHasData(!0)}),e.manyArray})},t.prototype.findRecords=function(){var e=this.manyArray,t=e.currentState
return this.store.findMany(t).then(function(){return e.get("isDestroyed")||e.set("isLoaded",!0),e})},t.prototype.notifyHasManyChanged=function(){this.internalModel.notifyHasManyAdded(this.key)},t.prototype.getRecords=function(){var e=this,t=this.manyArray
if(this.isAsync){var r=void 0
return r=this.link?this.hasLoaded?this.findRecords():this.findLink().then(function(){return e.findRecords()}):this.findRecords(),this._updateLoadingPromise(r,t)}return t.get("isDestroyed")||t.set("isLoaded",!0),t},t.prototype.updateData=function(e,t){var r=this.store._pushResourceIdentifiers(this,e)
t?this.setInitialInternalModels(r):this.updateInternalModelsFromAdapter(r)},t.prototype.destroy=function(){e.prototype.destroy.call(this)
var t=this._manyArray
t&&t.destroy()
var r=this.__loadingPromise
r&&r.destroy()},pe(t,[{key:"_loadingPromise",get:function(){return this.__loadingPromise}},{key:"manyArray",get:function(){return this._manyArray||(this._manyArray=fe.create({canonicalState:this.canonicalState,store:this.store,relationship:this,type:this.store.modelFor(this.belongsToType),record:this.internalModel,meta:this.meta,isPolymorphic:this.isPolymorphic})),this._manyArray}}]),t}(ae)
var he=function(e){function t(t,r,n,i){var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,t,r,n,i))
return a.internalModel=r,a.key=i.key,a.inverseInternalModel=null,a.canonicalState=null,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t)
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.setInternalModel=function(e){e?this.addInternalModel(e):this.inverseInternalModel&&this.removeInternalModel(this.inverseInternalModel),this.setHasData(!0),this.setHasLoaded(!0)},t.prototype.setCanonicalInternalModel=function(e){e?this.addCanonicalInternalModel(e):this.canonicalState&&this.removeCanonicalInternalModel(this.canonicalState),this.flushCanonicalLater()},t.prototype.setInitialCanonicalInternalModel=function(e){e&&(this.canonicalMembers.add(e),this.members.add(e),this.inverseInternalModel=this.canonicalState=e,this.setupInverseRelationship(e))},t.prototype.addCanonicalInternalModel=function(t){this.canonicalMembers.has(t)||(this.canonicalState&&this.removeCanonicalInternalModel(this.canonicalState),this.canonicalState=t,e.prototype.addCanonicalInternalModel.call(this,t))},t.prototype.inverseDidDematerialize=function(){this.notifyBelongsToChanged()},t.prototype.removeCompletelyFromOwn=function(t){e.prototype.removeCompletelyFromOwn.call(this,t),this.canonicalState===t&&(this.canonicalState=null),this.inverseInternalModel===t&&(this.inverseInternalModel=null,this.notifyBelongsToChanged())},t.prototype.flushCanonical=function(){this.inverseInternalModel&&this.inverseInternalModel.isNew()&&!this.canonicalState||(this.inverseInternalModel!==this.canonicalState&&(this.inverseInternalModel=this.canonicalState,this.notifyBelongsToChanged()),e.prototype.flushCanonical.call(this))},t.prototype.addInternalModel=function(t){this.members.has(t)||(this.inverseInternalModel&&this.removeInternalModel(this.inverseInternalModel),this.inverseInternalModel=t,e.prototype.addInternalModel.call(this,t),this.notifyBelongsToChanged())},t.prototype.setRecordPromise=function(e){var t=e.get&&e.get("content")
this.setInternalModel(t?t._internalModel:t)},t.prototype.removeInternalModelFromOwn=function(t){this.members.has(t)&&(this.inverseInternalModel=null,e.prototype.removeInternalModelFromOwn.call(this,t),this.notifyBelongsToChanged())},t.prototype.notifyBelongsToChanged=function(){this.internalModel.notifyBelongsToChanged(this.key)},t.prototype.removeCanonicalInternalModelFromOwn=function(t){this.canonicalMembers.has(t)&&(this.canonicalState=null,e.prototype.removeCanonicalInternalModelFromOwn.call(this,t))},t.prototype.findRecord=function(){return this.inverseInternalModel?this.store._findByInternalModel(this.inverseInternalModel):Ember.RSVP.Promise.resolve(null)},t.prototype.fetchLink=function(){var e=this
return this.store.findBelongsTo(this.internalModel,this.link,this.relationshipMeta).then(function(t){return t&&e.addInternalModel(t),t})},t.prototype.getRecord=function(){var e=this
if(this.isAsync){var t=void 0
return t=this.link?this.hasLoaded?this.findRecord():this.findLink().then(function(){return e.findRecord()}):this.findRecord(),o.create({promise:t,content:this.inverseInternalModel?this.inverseInternalModel.getRecord():null})}if(null===this.inverseInternalModel)return null
var r=this.inverseInternalModel.getRecord()
return r},t.prototype.reload=function(){return this.link?this.fetchLink():this.inverseInternalModel&&this.inverseInternalModel.hasRecord?this.inverseInternalModel.getRecord().reload():this.findRecord()},t.prototype.updateData=function(e,t){var r=this.store._pushResourceIdentifier(this,e)
t?this.setInitialCanonicalInternalModel(r):this.setCanonicalInternalModel(r)},t}(ae),ge=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r]
n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),ve=Ember.get
var ye=function(){function e(e){this.internalModel=e,this.initializedRelationships=Object.create(null)}return e.prototype.has=function(e){return!!this.initializedRelationships[e]},e.prototype.forEach=function(e){var t=this.initializedRelationships
Object.keys(t).forEach(function(r){e(r,t[r])})},e.prototype.get=function(e){var t=this.initializedRelationships,r=t[e],n=this.internalModel
if(!r){var i=ve(n.type,"relationshipsByName").get(e)
if(!i)return
var a=n.store._relationshipsPayloads.get(n.modelName,n.id,e)
r=t[e]=function(e,t,r){var n=void 0,i=null
return function(e){var t=e.options
return!(t&&null===t.inverse)}(t)&&(i=e.type.inverseFor(t.key,r)),i&&(n=i.name),"hasMany"===t.kind?new me(r,e,n,t):new he(r,e,n,t)}(n,i,n.store),a&&r.push(a,!0)}return r},ge(e,[{key:"record",get:function(){return this.internalModel}}]),e}(),be=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r]
n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_e=Ember.get,Ie=function(){function e(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
this._attributes=Object.create(null),this._belongsToRelationships=Object.create(null),this._belongsToIds=Object.create(null),this._hasManyRelationships=Object.create(null),this._hasManyIds=Object.create(null),this._internalModel=e
var n=e.getRecord()
this.record=n,n.eachAttribute(function(e){return t._attributes[e]=_e(n,e)}),this.id=e.id,this.adapterOptions=r.adapterOptions,this.include=r.include,this.modelName=e.modelName,this._changedAttributes=n.changedAttributes()}return e.prototype.attr=function(e){if(e in this._attributes)return this._attributes[e]
throw new Ember.Error("Model '"+Ember.inspect(this.record)+"' has no attribute named '"+e+"' defined.")},e.prototype.attributes=function(){return Ember.copy(this._attributes)},e.prototype.changedAttributes=function(){for(var e=Object.create(null),t=Object.keys(this._changedAttributes),r=0,n=t.length;r<n;r++){var i=t[r]
e[i]=Ember.copy(this._changedAttributes[i])}return e},e.prototype.belongsTo=function(e,t){var r,n,i=t&&t.id,a=void 0,o=void 0
if(i&&e in this._belongsToIds)return this._belongsToIds[e]
if(!i&&e in this._belongsToRelationships)return this._belongsToRelationships[e]
if(!(r=this._internalModel._relationships.get(e))||"belongsTo"!==r.relationshipMeta.kind)throw new Ember.Error("Model '"+Ember.inspect(this.record)+"' has no belongsTo relationship named '"+e+"' defined.")
return n=_e(r,"hasData"),a=_e(r,"inverseInternalModel"),n&&(o=a&&!a.isDeleted()?i?_e(a,"id"):a.createSnapshot():null),i?this._belongsToIds[e]=o:this._belongsToRelationships[e]=o,o},e.prototype.hasMany=function(e,t){var r,n,i=t&&t.ids,a=void 0,o=void 0
if(i&&e in this._hasManyIds)return this._hasManyIds[e]
if(!i&&e in this._hasManyRelationships)return this._hasManyRelationships[e]
if(!(r=this._internalModel._relationships.get(e))||"hasMany"!==r.relationshipMeta.kind)throw new Ember.Error("Model '"+Ember.inspect(this.record)+"' has no hasMany relationship named '"+e+"' defined.")
return n=_e(r,"hasData"),a=_e(r,"members"),n&&(o=[],a.forEach(function(e){e.isDeleted()||(i?o.push(e.id):o.push(e.createSnapshot()))})),i?this._hasManyIds[e]=o:this._hasManyRelationships[e]=o,o},e.prototype.eachAttribute=function(e,t){this.record.eachAttribute(e,t)},e.prototype.eachRelationship=function(e,t){this.record.eachRelationship(e,t)},e.prototype.serialize=function(e){return this.record.store.serializerFor(this.modelName).serialize(this,e)},be(e,[{key:"type",get:function(){return this._internalModel.modelClass}}]),e}(),Ce=Ember.get
function Pe(e){var t=void 0
return Ember.getOwner?t=Ember.getOwner(e):e.container&&(t=e.container),t&&t.lookupFactory&&!t._lookupFactory&&(t._lookupFactory=function(){var e
return(e=t).lookupFactory.apply(e,arguments)},t.register=function(){var e=t.registry||t._registry||t
return e.register.apply(e,arguments)}),t}var we=function(e,t){this.store=e,this.internalModel=t}
we.prototype={constructor:we}
var Ee=function(e,t){this._super$constructor(e,t),this.type=t.modelName,this._id=t.id};(Ee.prototype=Object.create(we.prototype)).constructor=Ee,Ee.prototype._super$constructor=we,Ee.prototype.id=function(){return this._id},Ee.prototype.remoteType=function(){return"identity"},Ee.prototype.push=function(e){var t=this
return Ember.RSVP.resolve(e).then(function(e){return t.store.push(e)})},Ee.prototype.value=function(){if(this.internalModel.hasRecord)return this.internalModel.getRecord()},Ee.prototype.load=function(){return this.store.findRecord(this.type,this._id)},Ee.prototype.reload=function(){var e=this.value()
return e?e.reload():this.load()}
var Te=function(e,t,r){this._super$constructor(e,t),this.belongsToRelationship=r,this.type=r.relationshipMeta.type,this.parent=t.recordReference};(Te.prototype=Object.create(we.prototype)).constructor=Te,Te.prototype._super$constructor=we,Te.prototype.remoteType=function(){return this.belongsToRelationship.link?"link":"id"},Te.prototype.id=function(){var e=this.belongsToRelationship.inverseInternalModel
return e&&e.id},Te.prototype.link=function(){return this.belongsToRelationship.link},Te.prototype.meta=function(){return this.belongsToRelationship.meta},Te.prototype.push=function(e){var t=this
return Ember.RSVP.resolve(e).then(function(e){var r=void 0
return e instanceof U?(v("ds-overhaul-references"),r=e):r=t.store.push(e),t.belongsToRelationship.setCanonicalInternalModel(r._internalModel),r})},Te.prototype.value=function(){var e=this.belongsToRelationship.inverseInternalModel
return e&&e.isLoaded()?e.getRecord():null},Te.prototype.load=function(){var e=this
return"id"===this.remoteType()?this.belongsToRelationship.getRecord():"link"===this.remoteType()?this.belongsToRelationship.findLink().then(function(t){return e.value()}):void 0},Te.prototype.reload=function(){var e=this
return this.belongsToRelationship.reload().then(function(t){return e.value()})}
var Se=Ember.RSVP.resolve,xe=Ember.get,ke=function(e,t,r){this._super$constructor(e,t),this.hasManyRelationship=r,this.type=r.relationshipMeta.type,this.parent=t.recordReference};(ke.prototype=Object.create(we.prototype)).constructor=ke,ke.prototype._super$constructor=we,ke.prototype.remoteType=function(){return this.hasManyRelationship.link?"link":"ids"},ke.prototype.link=function(){return this.hasManyRelationship.link},ke.prototype.ids=function(){return this.hasManyRelationship.members.toArray().map(function(e){return e.id})},ke.prototype.meta=function(){return this.hasManyRelationship.meta},ke.prototype.push=function(e){var t=this
return Se(e).then(function(e){var r=e
v("ds-overhaul-references")
var n=!0
"object"==typeof e&&e.data&&(n=(r=e.data).length&&r[0].data,v("ds-overhaul-references")),v("ds-overhaul-references")||(n=!0)
var i=void 0
if(n)i=r.map(function(e){return t.store.push(e)._internalModel})
else{var a=t.store.push(e)
i=Ember.A(a).mapBy("_internalModel")}return t.hasManyRelationship.computeChanges(i),t.hasManyRelationship.manyArray})},ke.prototype._isLoaded=function(){return!!xe(this.hasManyRelationship,"hasData")&&this.hasManyRelationship.members.toArray().every(function(e){return!0===e.isLoaded()})},ke.prototype.value=function(){return this._isLoaded()?this.hasManyRelationship.manyArray:null},ke.prototype.load=function(){return this._isLoaded()?Se(this.hasManyRelationship.manyArray):this.hasManyRelationship.getRecords()},ke.prototype.reload=function(){return this.hasManyRelationship.reload()}
var Ae=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r]
n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),Me=Ember.get,Re=Ember.set,De=Ember.copy,Oe=Ember.Error,Ne=Ember.inspect,Le=Ember.isEmpty,Fe=Ember.isEqual,Ue=Ember.setOwner,je=Ember.run,ze=Ember.RSVP,qe=Ember.RSVP.Promise,Ve=Ember.assign||Ember.merge,Be=Object.create(null),He=Object.create(null),We=Object.create(null)
function $e(e){return We[e]||(We[e]=e.split("."))}function Ge(e){e._inverseIsAsync()?(e.removeInternalModelFromInverse(e.inverseInternalModel),e.removeInverseRelationships()):e.removeCompletelyFromInverse()}var Ke=1,Xe=1,Je=function(){function e(e,t,r,n){this.id=t,this[Ember.GUID_KEY]=Ke+++"internal-model",this.store=r,this.modelName=e,this._loadingPromise=null,this._record=null,this._isDestroyed=!1,this.isError=!1,this._isUpdatingRecordArrays=!1,this._isDematerializing=!1,this._scheduledDestroy=null,this.resetRecord(),n&&(this.__data=n),this._modelClass=null,this.__deferredTriggers=null,this.__recordArrays=null,this._references=null,this._recordReference=null,this.__relationships=null,this.__implicitRelationships=null,this._bfsId=0}return e.prototype.isHiddenFromRecordArrays=function(){return this._isDematerializing||this.isDestroyed||"root.deleted.saved"===this.currentState.stateName||this.isEmpty()},e.prototype.isEmpty=function(){return this.currentState.isEmpty},e.prototype.isLoading=function(){return this.currentState.isLoading},e.prototype.isLoaded=function(){return this.currentState.isLoaded},e.prototype.hasDirtyAttributes=function(){return this.currentState.hasDirtyAttributes},e.prototype.isSaving=function(){return this.currentState.isSaving},e.prototype.isDeleted=function(){return this.currentState.isDeleted},e.prototype.isNew=function(){return this.currentState.isNew},e.prototype.isValid=function(){return this.currentState.isValid},e.prototype.dirtyType=function(){return this.currentState.dirtyType},e.prototype.getRecord=function(e){if(!this._record&&!this._isDematerializing){var t={store:this.store,_internalModel:this,id:this.id,currentState:this.currentState,isError:this.isError,adapterError:this.error}
"object"==typeof e&&null!==e&&Ve(t,e),Ue?Ue(t,Pe(this.store)):t.container=this.store.container,this._record=this.store.modelFactoryFor(this.modelName).create(t),this._triggerDeferredTriggers()}return this._record},e.prototype.resetRecord=function(){this._record=null,this.isReloading=!1,this.error=null,this.currentState=T.empty,this.__attributes=null,this.__inFlightAttributes=null,this._data=null},e.prototype.dematerializeRecord=function(){this._record&&(this._isDematerializing=!0,this._record.destroy(),this.destroyRelationships(),this.updateRecordArrays(),this.resetRecord())},e.prototype.deleteRecord=function(){this.send("deleteRecord")},e.prototype.save=function(e){var t="DS: Model#save "+this,r=ze.defer(t)
return this.store.scheduleSave(this,r,e),r.promise},e.prototype.startedReloading=function(){this.isReloading=!0,this.hasRecord&&Re(this._record,"isReloading",!0)},e.prototype.finishedReloading=function(){this.isReloading=!1,this.hasRecord&&Re(this._record,"isReloading",!1)},e.prototype.reload=function(){this.startedReloading()
var e=this
return new qe(function(t){e.send("reloadRecord",t)},"DS: Model#reload of "+this).then(function(){return e.didCleanError(),e},function(t){throw e.didError(t),t},"DS: Model#reload complete, update flags").finally(function(){e.finishedReloading(),e.updateRecordArrays()})},e.prototype._directlyRelatedInternalModels=function(){var e=[]
return this._relationships.forEach(function(t,r){e=e.concat(r.members.list,r.canonicalMembers.list)}),e},e.prototype._allRelatedInternalModels=function(){var e=[],t=[],r=Xe++
for(t.push(this),this._bfsId=r;t.length>0;){var n=t.shift()
e.push(n)
for(var i=n._directlyRelatedInternalModels(),a=0;a<i.length;++a){var o=i[a]
o._bfsId<r&&(t.push(o),o._bfsId=r)}}return e},e.prototype.unloadRecord=function(){this.isDestroyed||(this.send("unloadRecord"),this.dematerializeRecord(),null===this._scheduledDestroy&&(Ember.run.currentRunLoop,this._scheduledDestroy=Ember.run.backburner.schedule("destroy",this,"_checkForOrphanedInternalModels")))},e.prototype.hasScheduledDestroy=function(){return!!this._scheduledDestroy},e.prototype.cancelDestroy=function(){this._isDematerializing=!1,je.cancel(this._scheduledDestroy),this._scheduledDestroy=null},e.prototype.destroySync=function(){this._isDematerializing&&this.cancelDestroy(),this._checkForOrphanedInternalModels(),this.isDestroyed||this.isDestroying||this.destroy()},e.prototype._checkForOrphanedInternalModels=function(){this._isDematerializing=!1,this._scheduledDestroy=null,this.isDestroyed||this._cleanupOrphanedInternalModels()},e.prototype._cleanupOrphanedInternalModels=function(){var e=this._allRelatedInternalModels()
if(function(e){for(var t=0;t<e.length;++t){var r=e[t]._record
if(r&&!r.get("isDestroyed")&&!r.get("isDestroying"))return!1}return!0}(e))for(var t=0;t<e.length;++t){var r=e[t]
r.isDestroyed||r.destroy()}},e.prototype.eachRelationship=function(e,t){return this.modelClass.eachRelationship(e,t)},e.prototype.destroy=function(){this.store._internalModelDestroyed(this),this._relationships.forEach(function(e,t){return t.destroy()}),this._isDestroyed=!0},e.prototype.eachAttribute=function(e,t){return this.modelClass.eachAttribute(e,t)},e.prototype.inverseFor=function(e){return this.modelClass.inverseFor(e)},e.prototype.setupData=function(e){this.store._internalModelDidReceiveRelationshipData(this.modelName,this.id,e.relationships)
var t=void 0
this.hasRecord&&(t=this._changedKeys(e.attributes)),Ve(this._data,e.attributes),this.pushedData(),this.hasRecord&&this._record._notifyProperties(t)},e.prototype.createSnapshot=function(e){return new Ie(this,e)},e.prototype.loadingData=function(e){this.send("loadingData",e)},e.prototype.loadedData=function(){this.send("loadedData")},e.prototype.notFound=function(){this.send("notFound")},e.prototype.pushedData=function(){this.send("pushedData")},e.prototype.flushChangedAttributes=function(){this._inFlightAttributes=this._attributes,this._attributes=null},e.prototype.hasChangedAttributes=function(){return null!==this.__attributes&&Object.keys(this.__attributes).length>0},e.prototype.updateChangedAttributes=function(){for(var e=this.changedAttributes(),t=Object.keys(e),r=this._attributes,n=0,i=t.length;n<i;n++){var a=t[n],o=e[a]
o[0]===o[1]&&delete r[a]}},e.prototype.changedAttributes=function(){for(var e=this._data,t=this._attributes,r=this._inFlightAttributes,n=Ve(De(r),t),i=Object.create(null),a=Object.keys(n),o=0,s=a.length;o<s;o++){var l=a[o]
i[l]=[e[l],n[l]]}return i},e.prototype.adapterWillCommit=function(){this.send("willCommit")},e.prototype.adapterDidDirty=function(){this.send("becomeDirty"),this.updateRecordArrays()},e.prototype.send=function(e,t){var r=this.currentState
return r[e]||this._unhandledEvent(r,e,t),r[e](this,t)},e.prototype.notifyHasManyAdded=function(e,t,r){this.hasRecord&&this._record.notifyHasManyAdded(e,t,r)},e.prototype.notifyBelongsToChanged=function(e,t){this.hasRecord&&this._record.notifyBelongsToChanged(e,t)},e.prototype.notifyPropertyChange=function(e){this.hasRecord&&this._record.notifyPropertyChange(e)},e.prototype.rollbackAttributes=function(){var e=void 0
this.hasChangedAttributes()&&(e=Object.keys(this._attributes),this._attributes=null),Me(this,"isError")&&(this._inFlightAttributes=null,this.didCleanError()),this.isNew()&&this.removeFromInverseRelationships(!0),this.isValid()&&(this._inFlightAttributes=null),this.send("rolledBack"),e&&e.length>0&&this._record._notifyProperties(e)},e.prototype.transitionTo=function(e){var t=function(e){return He[e]||(He[e]=$e(e)[0])}(e),r=this.currentState,n=r.stateName+"->"+e
do{r.exit&&r.exit(this),r=r.parentState}while(!r[t])
var i=void 0,a=void 0,o=void 0,s=void 0,l=Be[n]
if(l)i=l.setups,a=l.enters,r=l.state
else{i=[],a=[]
var u=$e(e)
for(o=0,s=u.length;o<s;o++)(r=r[u[o]]).enter&&a.push(r),r.setup&&i.push(r)
Be[n]={setups:i,enters:a,state:r}}for(o=0,s=a.length;o<s;o++)a[o].enter(this)
for(this.currentState=r,this.hasRecord&&Re(this._record,"currentState",r),o=0,s=i.length;o<s;o++)i[o].setup(this)
this.updateRecordArrays()},e.prototype._unhandledEvent=function(e,t,r){var n="Attempted to handle event `"+t+"` "
throw n+="on "+String(this)+" while in state ",n+=e.stateName+". ",void 0!==r&&(n+="Called with "+Ne(r)+"."),new Oe(n)},e.prototype.triggerLater=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r]
1===this._deferredTriggers.push(t)&&this.store._updateInternalModel(this)},e.prototype._triggerDeferredTriggers=function(){if(this.hasRecord){for(var e=this._deferredTriggers,t=this._record,r=t.trigger,n=0,i=e.length;n<i;n++)r.apply(t,e[n])
e.length=0}},e.prototype.removeFromInverseRelationships=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0]
this._relationships.forEach(function(t,r){r.removeCompletelyFromInverse(),!0===e&&r.clear()})
var t=this._implicitRelationships
this.__implicitRelationships=null,Object.keys(t).forEach(function(r){var n=t[r]
n.removeCompletelyFromInverse(),!0===e&&n.clear()})},e.prototype.destroyRelationships=function(){this._relationships.forEach(function(e,t){return Ge(t)})
var e=this._implicitRelationships
this.__implicitRelationships=null,Object.keys(e).forEach(function(t){var r=e[t]
Ge(r),r.destroy()})},e.prototype.preloadData=function(e){var t=this
Object.keys(e).forEach(function(r){var n=Me(e,r)
t.modelClass.metaForProperty(r).isRelationship?t._preloadRelationship(r,n):t._data[r]=n})},e.prototype._preloadRelationship=function(e,t){var r=this.modelClass.metaForProperty(e),n=r.type
"hasMany"===r.kind?this._preloadHasMany(e,t,n):this._preloadBelongsTo(e,t,n)},e.prototype._preloadHasMany=function(e,t,r){for(var n=new Array(t.length),i=0;i<t.length;i++){var a=t[i]
n[i]=this._convertStringOrNumberIntoInternalModel(a,r)}this._relationships.get(e).updateInternalModelsFromAdapter(n)},e.prototype._preloadBelongsTo=function(e,t,r){var n=this._convertStringOrNumberIntoInternalModel(t,r)
this._relationships.get(e).setInternalModel(n)},e.prototype._convertStringOrNumberIntoInternalModel=function(e,t){return"string"==typeof e||"number"==typeof e?this.store._internalModelForId(t,e):e._internalModel?e._internalModel:e},e.prototype.updateRecordArrays=function(){this.store.recordArrayManager.recordDidChange(this)},e.prototype.setId=function(e){this.id=e,this._record.get("id")!==e&&this._record.set("id",e)},e.prototype.didError=function(e){this.error=e,this.isError=!0,this.hasRecord&&this._record.setProperties({isError:!0,adapterError:e})},e.prototype.didCleanError=function(){this.error=null,this.isError=!1,this.hasRecord&&this._record.setProperties({isError:!1,adapterError:null})},e.prototype.adapterDidCommit=function(e){e&&(this.store._internalModelDidReceiveRelationshipData(this.modelName,this.id,e.relationships),e=e.attributes),this.didCleanError()
var t=this._changedKeys(e)
Ve(this._data,this._inFlightAttributes),e&&Ve(this._data,e),this._inFlightAttributes=null,this.send("didCommit"),this.updateRecordArrays(),e&&this._record._notifyProperties(t)},e.prototype.addErrorMessageToAttribute=function(e,t){Me(this.getRecord(),"errors")._add(e,t)},e.prototype.removeErrorMessageFromAttribute=function(e){Me(this.getRecord(),"errors")._remove(e)},e.prototype.clearErrorMessages=function(){Me(this.getRecord(),"errors")._clear()},e.prototype.hasErrors=function(){var e=Me(this.getRecord(),"errors")
return!Le(e)},e.prototype.adapterDidInvalidate=function(e){var t=void 0
for(t in e)e.hasOwnProperty(t)&&this.addErrorMessageToAttribute(t,e[t])
this.send("becameInvalid"),this._saveWasRejected()},e.prototype.adapterDidError=function(e){this.send("becameError"),this.didError(e),this._saveWasRejected()},e.prototype._saveWasRejected=function(){var e=Object.keys(this._inFlightAttributes)
if(e.length>0)for(var t=this._attributes,r=0;r<e.length;r++)void 0===t[e[r]]&&(t[e[r]]=this._inFlightAttributes[e[r]])
this._inFlightAttributes=null},e.prototype._changedKeys=function(e){var t=[]
if(e){var r=void 0,n=void 0,i=void 0,a=void 0,o=Object.keys(e),s=o.length,l=this.hasChangedAttributes(),u=void 0
for(l&&(u=this._attributes),r=Ve(Object.create(null),this._data),r=Ve(r,this._inFlightAttributes),n=0;n<s;n++)i=e[a=o[n]],!0===l&&void 0!==u[a]||Fe(r[a],i)||t.push(a)}return t},e.prototype.toString=function(){return"<"+this.modelName+":"+this.id+">"},e.prototype.referenceFor=function(e,t){var r=this.references[t]
if(!r){var n=this._relationships.get(t)
"belongsTo"===e?r=new Te(this.store,this,n):"hasMany"===e&&(r=new ke(this.store,this,n)),this.references[t]=r}return r},Ae(e,[{key:"modelClass",get:function(){return this._modelClass||(this._modelClass=this.store._modelFor(this.modelName))}},{key:"type",get:function(){return this.modelClass}},{key:"recordReference",get:function(){return null===this._recordReference&&(this._recordReference=new Ee(this.store,this)),this._recordReference}},{key:"_recordArrays",get:function(){return null===this.__recordArrays&&(this.__recordArrays=re.create()),this.__recordArrays}},{key:"references",get:function(){return null===this._references&&(this._references=Object.create(null)),this._references}},{key:"_deferredTriggers",get:function(){return null===this.__deferredTriggers&&(this.__deferredTriggers=[]),this.__deferredTriggers}},{key:"_attributes",get:function(){return null===this.__attributes&&(this.__attributes=Object.create(null)),this.__attributes},set:function(e){this.__attributes=e}},{key:"_relationships",get:function(){return null===this.__relationships&&(this.__relationships=new ye(this)),this.__relationships}},{key:"_inFlightAttributes",get:function(){return null===this.__inFlightAttributes&&(this.__inFlightAttributes=Object.create(null)),this.__inFlightAttributes},set:function(e){this.__inFlightAttributes=e}},{key:"_data",get:function(){return null===this.__data&&(this.__data=Object.create(null)),this.__data},set:function(e){this.__data=e}},{key:"_implicitRelationships",get:function(){return null===this.__implicitRelationships&&(this.__implicitRelationships=Object.create(null)),this.__implicitRelationships}},{key:"isDestroyed",get:function(){return this._isDestroyed}},{key:"hasRecord",get:function(){return!!this._record}}]),e}()
v("ds-rollback-attribute")&&(Je.prototype.lastAcknowledgedValue=function(e){return e in this._inFlightAttributes?this._inFlightAttributes[e]:this._data[e]})
var Qe=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r]
n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),Ye=function(){function e(e){this.modelName=e,this._idToModel=Object.create(null),this._models=[],this._metadata=null}return e.prototype.get=function(e){return this._idToModel[e]},e.prototype.has=function(e){return!!this._idToModel[e]},e.prototype.set=function(e,t){this._idToModel[e]=t},e.prototype.add=function(e,t){t&&(this._idToModel[t]=e),this._models.push(e)},e.prototype.remove=function(e,t){delete this._idToModel[t]
var r=this._models.indexOf(e);-1!==r&&this._models.splice(r,1)},e.prototype.contains=function(e){return-1!==this._models.indexOf(e)},e.prototype.clear=function(){var e=this._models
this._models=[]
for(var t=0;t<e.length;t++){e[t].unloadRecord()}this._metadata=null},Qe(e,[{key:"length",get:function(){return this._models.length}},{key:"models",get:function(){return this._models}},{key:"metadata",get:function(){return this._metadata||(this._metadata=Object.create(null))}},{key:"type",get:function(){throw new Error("InternalModelMap.type is no longer available")}}]),e}(),Ze=function(){function e(){this._map=Object.create(null)}return e.prototype.retrieve=function(e){var t=this._map[e]
return void 0===t&&(t=this._map[e]=new Ye(e)),t},e.prototype.clear=function(){for(var e=this._map,t=Object.keys(e),r=0;r<t.length;r++){e[t[r]].clear()}},e}()
function et(e,t,r,n,i,a){return e.normalizeResponse(t,r,n,i,a)}function tt(e,t,r){var n=t.serializer
return void 0===n&&(n=e.serializerFor(r)),null!==n&&void 0!==n||(n={extract:function(e,t,r){return r}}),n}var rt=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r]
n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),nt=function(){function e(){this.types=Object.create(null)}return e.prototype.get=function(e,t){var r=this.types
if(void 0!==r[e])return r[e][t]},e.prototype.set=function(e,t,r){var n=this.types,i=n[e]
void 0===i&&(i=n[e]=Object.create(null)),i[t]=r},e.prototype.delete=function(e,t){var r=this.types
void 0!==r[e]&&delete r[e][t]},e}(),it=function(){function e(e){this._relInfo=e,this.lhs_payloads=new nt,this.rhs_payloads=e.isReflexive?this.lhs_payloads:new nt,this._pendingPayloads=[]}return e.prototype.get=function(e,t,r){return this._flushPending(),this._isLHS(e,r)?this.lhs_payloads.get(e,t):this.rhs_payloads.get(e,t)},e.prototype.push=function(e,t,r,n){this._pendingPayloads.push([e,t,r,n])},e.prototype.unload=function(e,t,r){this._flushPending(),this._isLHS(e,r)?this.lhs_payloads.delete(e,t):this.rhs_payloads.delete(e,t)},e.prototype._isLHS=function(e,t){var r=this._relInfo,n=r.isSelfReferential
return!0===(t===r.lhs_relationshipName)&&(!0===n||e===r.lhs_baseModelName||-1!==r.lhs_modelNames.indexOf(e))},e.prototype._isRHS=function(e,t){var r=this._relInfo,n=r.isSelfReferential
return!0===(t===r.rhs_relationshipName)&&(!0===n||e===r.rhs_baseModelName||-1!==r.rhs_modelNames.indexOf(e))},e.prototype._flushPending=function(){if(0!==this._pendingPayloads.length)for(var e=this._pendingPayloads.splice(0,this._pendingPayloads.length),t=0;t<e.length;++t){var r=e[t][0],n=e[t][1],i=e[t][2],a=e[t][3],o={data:{id:n,type:r}},s=void 0,l=void 0,u=void 0,d=void 0
this._isLHS(r,i)?(s=this.lhs_payloads.get(r,n),l=this.lhs_payloads,u=this.rhs_payloads,d=this._rhsRelationshipIsMany):(s=this.rhs_payloads.get(r,n),l=this.rhs_payloads,u=this.lhs_payloads,d=this._lhsRelationshipIsMany),void 0!==a.data&&this._removeInverse(n,s,u),l.set(r,n,a),this._populateInverse(a,o,u,d)}},e.prototype._populateInverse=function(e,t,r,n){if(e.data)if(Array.isArray(e.data))for(var i=0;i<e.data.length;++i){var a=e.data[i]
this._addToInverse(t,a,r,n)}else{var o=e.data
this._addToInverse(t,o,r,n)}},e.prototype._addToInverse=function(e,t,r,n){if(!this._relInfo.isReflexive||e.data.id!==t.id){var i=r.get(t.type,t.id),a=i&&i.data
a?Array.isArray(a)?a.push(e.data):r.set(t.type,t.id,e):n?r.set(t.type,t.id,{data:[e.data]}):r.set(t.type,t.id,e)}},e.prototype._removeInverse=function(e,t,r){var n=t&&t.data
if(n)if(Array.isArray(n))for(var i=0;i<n.length;++i){var a=n[i]
this._removeFromInverse(e,a,r)}else this._removeFromInverse(e,n,r)},e.prototype._removeFromInverse=function(e,t,r){var n=r.get(t.type,t.id),i=n&&n.data
i&&(Array.isArray(i)?n.data=i.filter(function(t){return t.id!==e}):r.set(t.type,t.id,{data:null}))},rt(e,[{key:"_lhsRelationshipIsMany",get:function(){var e=this._relInfo.lhs_relationshipMeta
return null!==e&&"hasMany"===e.kind}},{key:"_rhsRelationshipIsMany",get:function(){var e=this._relInfo.rhs_relationshipMeta
return null!==e&&"hasMany"===e.kind}}]),e}(),at=Ember.get,ot=Ember.assert,st=function(){function e(e){this._store=e,this._cache=Object.create(null),this._inverseLookupCache=new nt}return e.prototype.get=function(e,t,r){var n=this._getRelationshipPayloads(e,r,!1)
return n&&n.get(e,t,r)},e.prototype.push=function(e,t,r){var n=this
r&&Object.keys(r).forEach(function(i){var a=n._getRelationshipPayloads(e,i,!0)
a&&a.push(e,t,i,r[i])})},e.prototype.unload=function(e,t){var r=this,n=this._store._modelFor(e)
at(n,"relationshipsByName").forEach(function(n,i){var a=r._getRelationshipPayloads(e,i,!1)
a&&a.unload(e,t,i)})},e.prototype._getRelationshipPayloads=function(e,t,r){var n=this.getRelationshipInfo(e,t)
if(null!==n){var i=this._cache[n.lhs_key]
return!i&&r?this._initializeRelationshipPayloads(n):i}},e.prototype.getRelationshipInfo=function(e,t){var r=this._inverseLookupCache,n=this._store,i=r.get(e,t)
if(void 0!==i)return i
var a=n._modelFor(e),o=at(a,"relationshipsByName")
if(!o.has(t))return r.set(e,t,null),null
var s=a.inverseFor(t,n),l=o.get(t),u=void 0!==l.options&&!0===l.options.polymorphic,d=l.type
if(!s){var c={lhs_key:e+":"+t,lhs_modelNames:[e],lhs_baseModelName:e,lhs_relationshipName:t,lhs_relationshipMeta:l,lhs_isPolymorphic:u,rhs_key:"",rhs_modelNames:[],rhs_baseModelName:d,rhs_relationshipName:"",rhs_relationshipMeta:null,rhs_isPolymorphic:!1,hasInverse:!1,isSelfReferential:!1,isReflexive:!1}
return r.set(e,t,c),c}var f=s.name,p=at(s.type,"relationshipsByName").get(f),m=p.type,h=m===d
if(i=r.get(m,t)||r.get(d,f))return ot("The "+d+":"+f+" relationship declares 'inverse: null', but it was resolved as the inverse for "+m+":"+t+".",!1!==i.hasInverse),(i.lhs_baseModelName===m?i.lhs_modelNames:i.rhs_modelNames).push(e),r.set(e,t,i),i
var g={lhs_key:m+":"+t,lhs_modelNames:[e],lhs_baseModelName:m,lhs_relationshipName:t,lhs_relationshipMeta:l,lhs_isPolymorphic:u,rhs_key:d+":"+f,rhs_modelNames:[],rhs_baseModelName:d,rhs_relationshipName:f,rhs_relationshipMeta:p,rhs_isPolymorphic:void 0!==p.options&&!0===p.options.polymorphic,hasInverse:!0,isSelfReferential:h,isReflexive:h&&t===f}
return r.set(m,t,g),r.set(e,t,g),r.set(d,f,g),g},e.prototype._initializeRelationshipPayloads=function(e){var t=e.lhs_key,r=e.rhs_key,n=this._cache[t]
if(!0===e.hasInverse&&!0===e.rhs_isPolymorphic&&void 0!==(n=this._cache[r]))return this._cache[t]=n,n
var i=this._cache[t]=new it(e)
return!0===e.hasInverse&&(this._cache[r]=i),i},e}(),lt=Ember.RSVP.Promise
function ut(e,t,r,n,i){var a=Ember.A(i).invoke("createSnapshot"),o=t.modelFor(r),s=e.findMany(t,o,n,a),l="DS: Handle Adapter#findMany of '"+r+"'"
if(void 0===s)throw new Error("adapter.findMany returned undefined, this was very likely a mistake")
return(s=le(s=lt.resolve(s,l),se(ue,t))).then(function(n){var i=et(tt(t,e,r),t,o,n,null,"findMany")
return t._push(i)},null,"DS: Extract payload of "+r)}function dt(e,t,r,n,i){var a=t.modelFor(r),o=t.peekAll(r),s=o._createSnapshot(i),l=e.findAll(t,a,n,s),u="DS: Handle Adapter#findAll of "+a
return(l=le(l=lt.resolve(l,u),se(ue,t))).then(function(n){var i=et(tt(t,e,r),t,a,n,null,"findAll")
return t._push(i),t._didUpdateAll(r),o},null,"DS: Extract payload of findAll ${modelName}")}function ct(e){return null===e||void 0===e||""===e?null:"string"==typeof e?e:""+e}var ft=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r]
n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),pt=function(){function e(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}
this._snapshots=null,this._recordArray=e,this.length=e.get("length"),this._type=null,this.meta=t,this.adapterOptions=r.adapterOptions,this.include=r.include}return e.prototype.snapshots=function(){return null!==this._snapshots?this._snapshots:(this._snapshots=this._recordArray._takeSnapshot(),this._snapshots)},ft(e,[{key:"type",get:function(){return this._type||(this._type=this._recordArray.get("type"))}}]),e}(),mt=Ember.computed,ht=Ember.get,gt=Ember.set,vt=Ember.RSVP.Promise,yt=Ember.ArrayProxy.extend(Ember.Evented,{init:function(){this._super.apply(this,arguments),this.set("content",this.content||null),this.isLoaded=this.isLoaded||!1,this.isUpdating=!1,this.store=this.store||null,this._updatingPromise=null},replace:function(){throw new Error("The result of a server query (for all "+this.modelName+" types) is immutable. To modify contents, use toArray()")},type:mt("modelName",function(){return this.modelName?this.store._modelFor(this.modelName):null}).readOnly(),objectAtContent:function(e){var t=ht(this,"content").objectAt(e)
return t&&t.getRecord()},update:function(){var e=this
if(ht(this,"isUpdating"))return this._updatingPromise
this.set("isUpdating",!0)
var t=this._update().finally(function(){e._updatingPromise=null,e.get("isDestroying")||e.get("isDestroyed")||e.set("isUpdating",!1)})
return this._updatingPromise=t,t},_update:function(){return this.store.findAll(this.modelName,{reload:!0})},_pushInternalModels:function(e){ht(this,"content").pushObjects(e)},_removeInternalModels:function(e){ht(this,"content").removeObjects(e)},save:function(){var e=this,t="DS: RecordArray#save "+this.modelName,r=vt.all(this.invoke("save"),t).then(function(){return e},null,"DS: RecordArray#save return RecordArray")
return a.create({promise:r})},_dissociateFromOwnRecords:function(){var e=this
this.get("content").forEach(function(t){var r=t.__recordArrays
r&&r.delete(e)})},_unregisterFromManager:function(){this.manager.unregisterRecordArray(this)},willDestroy:function(){this._unregisterFromManager(),this._dissociateFromOwnRecords(),gt(this,"content",null),gt(this,"length",0),this._super.apply(this,arguments)},_createSnapshot:function(e){return new pt(this,this.get("meta"),e)},_takeSnapshot:function(){return ht(this,"content").map(function(e){return e.createSnapshot()})}}),bt=Ember.get,_t=yt.extend({init:function(){this._super.apply(this,arguments),this.set("filterFunction",this.get("filterFunction")||null),this.isLoaded=!0},replace:function(){throw new Error("The result of a client-side filter (on "+this.modelName+") is immutable.")},_updateFilter:function(){bt(this,"isDestroying")||bt(this,"isDestroyed")||bt(this,"manager").updateFilter(this,this.modelName,bt(this,"filterFunction"))},updateFilter:Ember.observer("filterFunction",function(){Ember.run.once(this,this._updateFilter)})})
function It(e){var t=Object.create(null)
for(var r in e)t[r]=e[r]
return t}var Ct=Ember.get,Pt=yt.extend({init:function(){this.set("content",this.get("content")||Ember.A()),this._super.apply(this,arguments),this.query=this.query||null,this.links=null},replace:function(){throw new Error("The result of a server query (on "+this.modelName+") is immutable.")},_update:function(){var e=Ct(this,"store"),t=Ct(this,"query")
return e._query(this.modelName,t,this)},_setInternalModels:function(e,t){this.get("content").setObjects(e),this.setProperties({isLoaded:!0,isUpdating:!1,meta:It(t.meta),links:It(t.links)}),Mt(e,this),Ember.run.once(this,"trigger","didLoad")}}),wt=Ember.get,Et=Ember.set,Tt=Ember.run,St=function(){function e(e){this.store=e.store,this.isDestroying=!1,this.isDestroyed=!1,this._filteredRecordArrays=Object.create(null),this._liveRecordArrays=Object.create(null),this._pending=Object.create(null),this._adapterPopulatedRecordArrays=[]}return e.prototype.recordDidChange=function(e){this.internalModelDidChange(e)},e.prototype.recordWasLoaded=function(e){this.internalModelDidChange(e)},e.prototype.internalModelDidChange=function(e){var t=e.modelName
if(!e._pendingRecordArrayManagerFlush){e._pendingRecordArrayManagerFlush=!0
var r=this._pending
1===(r[t]=r[t]||[]).push(e)&&Tt.schedule("actions",this,this._flush)}},e.prototype._flush=function(){var e=this._pending
this._pending=Object.create(null)
var t=[]
for(var r in e){for(var n=e[r],i=0;i<n.length;i++){var a=n[i]
a._pendingRecordArrayManagerFlush=!1,a.isHiddenFromRecordArrays()&&t.push(a)}if(this._filteredRecordArrays[r])for(var o=this.filteredRecordArraysFor(r),s=0;s<o.length;s++)this.updateFilterRecordArray(o[s],r,n)
var l=this._liveRecordArrays[r]
l&&this.updateLiveRecordArray(l,n),t.length>0&&At(t)}},e.prototype.updateLiveRecordArray=function(e,t){return function(e,t){for(var r=[],n=[],i=0;i<t.length;i++){var a=t[i],o=a.isHiddenFromRecordArrays(),s=a._recordArrays
o||a.isEmpty()||s.has(e)||(r.push(a),s.add(e)),o&&(n.push(a),s.delete(e))}r.length>0&&e._pushInternalModels(r)
n.length>0&&e._removeInternalModels(n)}(e,t)},e.prototype.updateFilterRecordArray=function(e,t,r){for(var n=wt(e,"filterFunction"),i=[],a=[],o=0;o<r.length;o++){var s=r[o]
if(!1===s.isHiddenFromRecordArrays()&&n(s.getRecord())){if(s._recordArrays.has(e))continue
i.push(s),s._recordArrays.add(e)}else s._recordArrays.delete(e)&&a.push(s)}i.length>0&&e._pushInternalModels(i),a.length>0&&e._removeInternalModels(a)},e.prototype._syncLiveRecordArray=function(e,t){var r=0===Object.keys(this._pending).length,n=this.store._internalModelsFor(t),i=wt(n,"length")===wt(e,"length")
if(!r||!i){for(var a=this._visibleInternalModelsByType(t),o=[],s=0;s<a.length;s++){var l=a[s],u=l._recordArrays
!1===u.has(e)&&(u.add(e),o.push(l))}e._pushInternalModels(o)}},e.prototype.updateFilter=function(e,t,r){var n=this.store._internalModelsFor(t).models
this.updateFilterRecordArray(e,r,n)},e.prototype._didUpdateAll=function(e){var t=this._liveRecordArrays[e]
t&&Et(t,"isUpdating",!1)},e.prototype.liveRecordArrayFor=function(e){var t=this._liveRecordArrays[e]
if(t)this._syncLiveRecordArray(t,e)
else{var r=this._visibleInternalModelsByType(e)
t=this.createRecordArray(e,r),this._liveRecordArrays[e]=t}return t},e.prototype._visibleInternalModelsByType=function(e){for(var t=this.store._internalModelsFor(e)._models,r=[],n=0;n<t.length;n++){var i=t[n]
!1===i.isHiddenFromRecordArrays()&&r.push(i)}return r},e.prototype.filteredRecordArraysFor=function(e){return this._filteredRecordArrays[e]||(this._filteredRecordArrays[e]=[])},e.prototype.createRecordArray=function(e,t){var r=yt.create({modelName:e,content:Ember.A(t||[]),store:this.store,isLoaded:!0,manager:this})
return Array.isArray(t)&&Mt(t,r),r},e.prototype.createFilteredRecordArray=function(e,t,r){var n=_t.create({query:r,modelName:e,content:Ember.A(),store:this.store,manager:this,filterFunction:t})
return this.registerFilteredRecordArray(n,e,t),n},e.prototype.createAdapterPopulatedRecordArray=function(e,t,r,n){var i=void 0
return Array.isArray(r)?Mt(r,i=Pt.create({modelName:e,query:t,content:Ember.A(r),store:this.store,manager:this,isLoaded:!0,isUpdating:!1,meta:It(n.meta),links:It(n.links)})):i=Pt.create({modelName:e,query:t,content:Ember.A(),store:this.store,manager:this}),this._adapterPopulatedRecordArrays.push(i),i},e.prototype.registerFilteredRecordArray=function(e,t,r){this.filteredRecordArraysFor(t).push(e),this.updateFilter(e,t,r)},e.prototype.unregisterRecordArray=function(e){var t=e.modelName,r=kt(this.filteredRecordArraysFor(t),e),n=kt(this._adapterPopulatedRecordArrays,e)
if(!r&&!n){var i=this._liveRecordArrays[t]
i&&e===i&&delete this._liveRecordArrays[t]}},e.prototype.willDestroy=function(){var e=this
Object.keys(this._filteredRecordArrays).forEach(function(t){return function(e){for(var t=e.length,r=[],n=0;n<t;n++)r=r.concat(e[n])
return r}(e._filteredRecordArrays[t]).forEach(xt)}),Object.keys(this._liveRecordArrays).forEach(function(t){return e._liveRecordArrays[t].destroy()}),this._adapterPopulatedRecordArrays.forEach(xt),this.isDestroyed=!0},e.prototype.destroy=function(){this.isDestroying=!0,Tt.schedule("actions",this,this.willDestroy)},e}()
function xt(e){e.destroy()}function kt(e,t){var r=e.indexOf(t)
return-1!==r&&(e.splice(r,1),!0)}function At(e){for(var t=0;t<e.length;t++){for(var r=e[t],n=r._recordArrays.list,i=0;i<n.length;i++)n[i]._removeInternalModels([r])
r._recordArrays.clear()}}function Mt(e,t){for(var r=0,n=e.length;r<n;r++){e[r]._recordArrays.add(t)}}var Rt=Ember.set,Dt=function(){function e(e,t){this.isDestroying=!1,this.isDestroyed=!1,this._owner=e,this._store=t,this._namespaces={adapter:Object.create(null),serializer:Object.create(null)}}return e.prototype.get=function(e,t){var r=this._namespaces[e]
if(r[t])return r[t]
var n=e+":"+t,i=this._instanceFor(n)||this._findInstance(e,this._fallbacksFor(e,t))
return i&&(r[t]=i,Rt(i,"store",this._store)),r[t]},e.prototype._fallbacksFor=function(e,t){return"adapter"===e?["application",this._store.get("adapter"),"-json-api"]:["application",this.get("adapter",t).get("defaultSerializer"),"-default"]},e.prototype._findInstance=function(e,t){for(var r=this._namespaces[e],n=0,i=t.length;n<i;n++){var a=t[n]
if(r[a])return r[a]
var o=e+":"+a,s=this._instanceFor(o)
if(s)return r[a]=s,s}},e.prototype._instanceFor=function(e){return this._owner.lookup(e)},e.prototype.destroyCache=function(e){for(var t=Object.keys(e),r=0,n=t.length;r<n;r++){var i=e[t[r]]
i&&i.destroy()}},e.prototype.destroy=function(){this.isDestroying=!0,this.destroyCache(this._namespaces.adapter),this.destroyCache(this._namespaces.serializer),this.isDestroyed=!0},e.prototype.toString=function(){return"ContainerInstanceCache"},e}(),Ot=Ember.A,Nt=Ember._Backburner,Lt=Ember.computed,Ft=Ember.copy,Ut=Ember.ENV,jt=Ember.Error,zt=Ember.get,qt=(Ember.inspect,Ember.isNone),Vt=(Ember.isPresent,Ember.MapWithDefault),Bt=Ember.run,Ht=Ember.set,Wt=Ember.RSVP,$t=Ember.Service,Gt=(Ember.typeOf,Wt.Promise)
function Kt(e,t){return s(e.then(function(e){return e.getRecord()}),t)}function Xt(e,t,r,n){var i=n._internalModel,a=n.modelName,o=t._modelFor(a),s=e[r](t,o,n),l=tt(t,e,a),u="DS: Extract and notify about "+r+" completion of "+i
return(s=le(s=le(s=Gt.resolve(s,u),se(ue,t)),se(ue,i))).then(function(e){return t._backburner.join(function(){var a=void 0,s=void 0
e&&((a=et(l,t,o,e,n.id,r)).included&&t._push({data:null,included:a.included}),s=a.data),t.didSaveRecord(i,{data:s})}),i},function(e){if(e instanceof $){var r=l.extractErrors(t,o,e,n.id)
t.recordWasInvalid(i,r)}else t.recordWasError(i,e)
throw e},u)}function Jt(e,t,r,n){Object.keys(r.relationships).forEach(function(i){var a=t._relationships
if(a.has(i)||function(e,t,r,n,i){var a=r.relationships[n].data
if(!a)return!1
var o=i[t.modelName]
o||(o=i[t.modelName]=zt(t.type,"inverseMap"))
var s=o[n]
if(void 0===s&&(s=t.type.inverseFor(n,e)),!s)return!1
var l=s.name
if(Array.isArray(a)){for(var u=0;u<a.length;++u){var d=e._internalModelsFor(a[u].type).get(a[u].id)
if(d&&d._relationships.has(l))return!0}return!1}var c=e._internalModelsFor(a.type).get(a.id)
return c&&c._relationships.has(l)}(e,t,r,i,n)){var o=r.relationships[i]
a.get(i).push(o,!1)}})}var Qt=$t.extend({init:function(){this._super.apply(this,arguments),this._backburner=new Nt(["normalizeRelationships","syncRelationships","finished"]),this.recordArrayManager=new St({store:this}),this._identityMap=new Ze,this._pendingSave=[],this._instanceCache=new Dt(Pe(this),this),this._modelFactoryCache=Object.create(null),this._relationshipsPayloads=new st(this),this._pendingSave=[],this._updatedRelationships=[],this._pushedInternalModels=[],this._updatedInternalModels=[],this._pendingFetch=Vt.create({defaultValue:function(){return[]}}),this._instanceCache=new Dt(Pe(this),this)},adapter:"-json-api",serialize:function(e,t){return v("ds-deprecate-store-serialize"),e._internalModel.createSnapshot().serialize(t)},defaultAdapter:Lt("adapter",function(){var e=zt(this,"adapter")
return this.adapterFor(e)}),createRecord:function(e,t){var r=S(e),n=Ft(t)||Object.create(null)
qt(n.id)&&(n.id=this._generateId(r,n)),n.id=ct(n.id)
var i=this._buildInternalModel(r,n.id)
i.loadedData()
var a=i.getRecord(n)
return i.eachRelationship(function(e,t){void 0!==n[e]&&i._relationships.get(e).setHasData(!0)}),a},_generateId:function(e,t){var r=this.adapterFor(e)
return r&&r.generateIdForRecord?r.generateIdForRecord(this,e,t):null},deleteRecord:function(e){e.deleteRecord()},unloadRecord:function(e){e.unloadRecord()},find:function(e,t,r){var n=S(e)
return this.findRecord(n,t)},findRecord:function(e,t,r){var n=S(e),i=this._internalModelForId(n,t)
return r=r||{},this.hasRecordForId(n,t)?Kt(this._findRecord(i,r),"DS: Store#findRecord "+n+" with id: "+t):this._findByInternalModel(i,r)},_findRecord:function(e,t){if(t.reload)return this._scheduleFetch(e,t)
var r=e.createSnapshot(t),n=this.adapterFor(e.modelName)
return n.shouldReloadRecord(this,r)?this._scheduleFetch(e,t):!1===t.backgroundReload?Gt.resolve(e):((t.backgroundReload||n.shouldBackgroundReloadRecord(this,r))&&this._scheduleFetch(e,t),Gt.resolve(e))},_findByInternalModel:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
return t.preload&&e.preloadData(t.preload),Kt(this._findEmptyInternalModel(e,t),"DS: Store#findRecord "+e.modelName+" with id: "+e.id)},_findEmptyInternalModel:function(e,t){return e.isEmpty()?this._scheduleFetch(e,t):e.isLoading()?e._loadingPromise:Gt.resolve(e)},findByIds:function(e,t){for(var r=new Array(t.length),n=S(e),i=0;i<t.length;i++)r[i]=this.findRecord(n,t[i])
return l(Wt.all(r).then(Ot,null,"DS: Store#findByIds of "+n+" complete"))},_fetchRecord:function(e,t){var r=e.modelName,n=this.adapterFor(r)
return function(e,t,r,n,i,a){var o=i.createSnapshot(a),s=i.modelName,l=e.findRecord(t,r,n,o),u="DS: Handle Adapter#findRecord of '"+s+"' with id: '"+n+"'"
return(l=le(l=lt.resolve(l,u),se(ue,t))).then(function(i){var a=et(tt(t,e,s),t,r,i,n,"findRecord")
return t._push(a)},function(e){throw i.notFound(),i.isEmpty()&&i.unloadRecord(),e},"DS: Extract payload of '"+s+"'")}(n,this,e.type,e.id,e,t)},_scheduleFetchMany:function(e){for(var t=new Array(e.length),r=0;r<e.length;r++)t[r]=this._scheduleFetch(e[r])
return Gt.all(t)},_scheduleFetch:function(e,t){if(e._loadingPromise)return e._loadingPromise
var r=e.id,n=e.modelName,i=Wt.defer("Fetching "+n+"' with id: "+r),a={internalModel:e,resolver:i,options:t},o=i.promise
return e.loadingData(o),0===this._pendingFetch.size&&Bt.schedule("afterRender",this,this.flushAllPendingFetches),this._pendingFetch.get(n).push(a),o},flushAllPendingFetches:function(){this.isDestroyed||this.isDestroying||(this._pendingFetch.forEach(this._flushPendingFetchForType,this),this._pendingFetch.clear())},_flushPendingFetchForType:function(e,t){for(var r=this,n=r.adapterFor(t),i=!!n.findMany&&n.coalesceFindRequests,a=e.length,o=new Array(a),s=Object.create(null),l=0;l<a;l++){var u=e[l],d=u.internalModel
o[l]=d,s[d.id]=u}function c(e){var t=r._fetchRecord(e.internalModel,e.options)
e.resolver.resolve(t)}function f(e,t){for(var r=Object.create(null),n=0,i=e.length;n<i;n++){var a=e[n],o=s[a.id]
if(r[a.id]=a,o)o.resolver.resolve(a)}for(var l=[],u=0,d=t.length;u<d;u++){var c=t[u]
r[c.id]||l.push(c)}l.length&&p(l)}function p(e,t){for(var r=0,n=e.length;r<n;r++){var i=e[r],a=s[i.id]
a&&a.resolver.reject(t||new Error("Expected: '"+i+"' to be present in the adapter provided payload, but it was not found."))}}if(i){for(var m=new Array(a),h=0;h<a;h++)m[h]=o[h].createSnapshot()
for(var g=n.groupRecordsForFindMany(this,m),v=0,y=g.length;v<y;v++){for(var b=g[v],_=g[v].length,I=new Array(_),C=new Array(_),P=0;P<_;P++){var w=b[P]._internalModel
C[P]=w,I[P]=w.id}if(_>1)(function(e){ut(n,r,t,I,e).then(function(t){f(t,e)}).catch(function(t){p(e,t)})})(C)
else if(1===I.length){c(s[C[0].id])}}}else for(var E=0;E<a;E++)c(e[E])},getReference:function(e,t){var r=S(e)
return this._internalModelForId(r,t).recordReference},peekRecord:function(e,t){var r=S(e)
return this.hasRecordForId(r,t)?this._internalModelForId(r,t).getRecord():null},_reloadRecord:function(e){e.id
var t=e.modelName
this.adapterFor(t)
return this._scheduleFetch(e)},hasRecordForId:function(e,t){var r=S(e),n=ct(t),i=this._internalModelsFor(r).get(n)
return!!i&&i.isLoaded()},recordForId:function(e,t){return this._internalModelForId(e,t).getRecord()},_internalModelForId:function(e,t){var r=ct(t),n=this._internalModelsFor(e).get(r)
return n?n.hasScheduledDestroy()?(n.destroySync(),this._buildInternalModel(e,r)):n:this._buildInternalModel(e,r)},_internalModelDidReceiveRelationshipData:function(e,t,r){this._relationshipsPayloads.push(e,t,r)},_internalModelDestroyed:function(e){this._removeFromIdMap(e),this._relationshipsPayloads.unload(e.modelName,e.id)},findMany:function(e){for(var t=new Array(e.length),r=0;r<e.length;r++)t[r]=this._findEmptyInternalModel(e[r])
return Gt.all(t)},findHasMany:function(e,t,r){var n=this.adapterFor(e.modelName)
return function(e,t,r,n,i){var a=r.createSnapshot(),o=t.modelFor(i.type),s=e.findHasMany(t,a,n,i),l="DS: Handle Adapter#findHasMany of '"+r.modelName+"' : '"+i.type+"'"
return(s=le(s=le(s=lt.resolve(s,l),se(ue,t)),se(ue,r))).then(function(r){var n=et(tt(t,e,i.type),t,o,r,null,"findHasMany"),a=t._push(n)
return a.meta=n.meta,a},null,"DS: Extract payload of '"+r.modelName+"' : hasMany '"+i.type+"'")}(n,this,e,t,r)},findBelongsTo:function(e,t,r){var n=this.adapterFor(e.modelName)
return function(e,t,r,n,i){var a=r.createSnapshot(),o=t.modelFor(i.type),s=e.findBelongsTo(t,a,n,i),l="DS: Handle Adapter#findBelongsTo of "+r.modelName+" : "+i.type
return(s=le(s=le(s=lt.resolve(s,l),se(ue,t)),se(ue,r))).then(function(r){var n=et(tt(t,e,i.type),t,o,r,null,"findBelongsTo")
return n.data?t._push(n):null},null,"DS: Extract payload of "+r.modelName+" : "+i.type)}(n,this,e,t,r)},query:function(e,t){var r=S(e)
return this._query(r,t)},_query:function(e,t,r){var n=this.adapterFor(e)
return l(function(e,t,r,n,i){var a=t.modelFor(r),o=void 0
e.query.length>3?(i=i||t.recordArrayManager.createAdapterPopulatedRecordArray(r,n),o=e.query(t,a,n,i)):o=e.query(t,a,n)
var s="DS: Handle Adapter#query of "+a
return(o=le(o=lt.resolve(o,s),se(ue,t))).then(function(o){var s=et(tt(t,e,r),t,a,o,null,"query"),l=t._push(s)
return i?i._setInternalModels(l,s):i=t.recordArrayManager.createAdapterPopulatedRecordArray(r,n,l,s),i},null,"DS: Extract payload of query "+r)}(n,this,e,t,r))},queryRecord:function(e,t){var r=S(e),n=this.adapterFor(r)
return s(function(e,t,r,n){var i=t.modelFor(r),a=e.queryRecord(t,i,n),o="DS: Handle Adapter#queryRecord of "+r
return(a=le(a=lt.resolve(a,o),se(ue,t))).then(function(n){var a=et(tt(t,e,r),t,i,n,null,"queryRecord")
return t._push(a)},null,"DS: Extract payload of queryRecord "+r)}(n,this,e,t).then(function(e){return e?e.getRecord():null}))},findAll:function(e,t){var r=S(e)
return this._fetchAll(r,this.peekAll(r),t)},_fetchAll:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this.adapterFor(e),i=this._internalModelsFor(e).metadata.since
if(r.reload)return Ht(t,"isUpdating",!0),l(dt(n,this,e,i,r))
var a=t._createSnapshot(r)
return n.shouldReloadAll(this,a)?(Ht(t,"isUpdating",!0),l(dt(n,this,e,i,r))):!1===r.backgroundReload?l(Gt.resolve(t)):((r.backgroundReload||n.shouldBackgroundReloadAll(this,a))&&(Ht(t,"isUpdating",!0),dt(n,this,e,i,r)),l(Gt.resolve(t)))},_didUpdateAll:function(e){this.recordArrayManager._didUpdateAll(e)},didUpdateAll:function(e){return this._didUpdateAll(e)},peekAll:function(e){var t=S(e)
return this.recordArrayManager.liveRecordArrayFor(t)},unloadAll:function(e){if(0===arguments.length)this._identityMap.clear()
else{var t=S(e)
this._internalModelsFor(t).clear()}},filter:function(e,t,r){Ut.ENABLE_DS_FILTER
var n=void 0,i=void 0,a=3===arguments.length,o=S(e)
return a?n=this.query(o,t):2===arguments.length&&(r=t),i=a?this.recordArrayManager.createFilteredRecordArray(o,r,t):this.recordArrayManager.createFilteredRecordArray(o,r),l((n=n||Gt.resolve(i)).then(function(){return i},null,"DS: Store#filter of "+o))},recordIsLoaded:function(e,t){return this.hasRecordForId(e,t)},scheduleSave:function(e,t,r){var n=e.createSnapshot(r)
e.flushChangedAttributes(),e.adapterWillCommit(),this._pendingSave.push({snapshot:n,resolver:t}),Bt.once(this,this.flushPendingSave)},flushPendingSave:function(){var e=this._pendingSave.slice()
this._pendingSave=[]
for(var t=0,r=e.length;t<r;t++){var n=e[t],i=n.snapshot,a=n.resolver,o=i._internalModel,s=this.adapterFor(o.modelName),l=void 0
"root.deleted.saved"!==o.currentState.stateName?(l=o.isNew()?"createRecord":o.isDeleted()?"deleteRecord":"updateRecord",a.resolve(Xt(s,this,l,i))):a.resolve()}},didSaveRecord:function(e,t){var r=void 0
t&&(r=t.data),r&&(this.updateId(e,r),this._setupRelationshipsForModel(e,r)),e.adapterDidCommit(r)},recordWasInvalid:function(e,t){e.adapterDidInvalidate(t)},recordWasError:function(e,t){e.adapterDidError(t)},updateId:function(e,t){var r=e.id,n=e.modelName,i=ct(t.id)
if(null===r||null!==i){this._existingInternalModelForId(n,i)
this._internalModelsFor(e.modelName).set(i,e),e.setId(i)}},_internalModelsFor:function(e){return this._identityMap.retrieve(e)},_load:function(e){var t=this._internalModelForId(e.type,e.id),r=!1===t.currentState.isEmpty
return t.setupData(e),r?this.recordArrayManager.recordDidChange(t):this.recordArrayManager.recordWasLoaded(t),t},_modelForMixin:function(e){var t=Pe(this),r=void 0
if(t.factoryFor){var n=t.factoryFor("mixin:"+e)
r=n&&n.class}else r=t._lookupFactory("mixin:"+e)
if(r){var i=U.extend(r)
i.reopenClass({__isMixin:!0,__mixin:r}),t.register("model:"+e,i)}return this.modelFactoryFor(e)},modelFor:function(e){var t=S(e)
return this._modelFor(t)},_modelFor:function(e){var t=this._modelFactoryFor(e)
return t.class?t.class:t},_modelFactoryFor:function(e){var t=this._modelFactoryCache[e]
if(!t){if((t=this.modelFactoryFor(e))||(t=this._modelForMixin(e)),!t)throw new jt("No model was found for '"+e+"'")
var r=Pe(this).factoryFor?t.class:t
r.modelName=r.modelName||e,this._modelFactoryCache[e]=t}return t},modelFactoryFor:function(e){var t=S(e),r=Pe(this)
return r.factoryFor?r.factoryFor("model:"+t):r._lookupFactory("model:"+t)},push:function(e){var t=this._push(e)
return Array.isArray(t)?t.map(function(e){return e.getRecord()}):null===t?null:t.getRecord()},_push:function(e){var t=this
return this._backburner.join(function(){var r=e.included,n=void 0,i=void 0
if(r)for(n=0,i=r.length;n<i;n++)t._pushInternalModel(r[n])
if(Array.isArray(e.data)){i=e.data.length
var a=new Array(i)
for(n=0;n<i;n++)a[n]=t._pushInternalModel(e.data[n])
return a}return null===e.data?null:t._pushInternalModel(e.data)})},_hasModelFor:function(e){var t=Pe(this)
return e=S(e),t.factoryFor?!!t.factoryFor("model:"+e):!!t._lookupFactory("model:"+e)},_pushInternalModel:function(e){e.type
var t=this._load(e)
return this._setupRelationshipsForModel(t,e),t},_setupRelationshipsForModel:function(e,t){void 0!==t.relationships&&2===this._pushedInternalModels.push(e,t)&&this._backburner.schedule("normalizeRelationships",this,this._setupRelationships)},_setupRelationships:function(){for(var e=this._pushedInternalModels,t=void 0,r=0,n=e.length;r<n;r+=2){t=t||Object.create(null),Jt(this,e[r],e[r+1],t)}e.length=0},pushPayload:function(e,t){var r=void 0,n=void 0
if(t){n=t
var i=S(e)
r=this.serializerFor(i)}else n=e,r=this.serializerFor("application")
if(v("ds-pushpayload-return"))return r.pushPayload(this,n)
r.pushPayload(this,n)},normalize:function(e,t){var r=S(e),n=this.serializerFor(r),i=this._modelFor(r)
return n.normalize(i,t)},_buildInternalModel:function(e,t,r){this._existingInternalModelForId(e,t)
var n=new Je(e,t,this,r)
return this._internalModelsFor(e).add(n,t),n},_existingInternalModelForId:function(e,t){var r=this._internalModelsFor(e).get(t)
return r&&r.hasScheduledDestroy()&&(r.destroySync(),r=null),r},buildInternalModel:function(e,t,r){return this._buildInternalModel(e,t,r)},recordWasLoaded:function(e){this.recordArrayManager.recordWasLoaded(e)},_removeFromIdMap:function(e){var t=this._internalModelsFor(e.modelName),r=e.id
t.remove(e,r)},adapterFor:function(e){var t=S(e)
return this._instanceCache.get("adapter",t)},serializerFor:function(e){var t=S(e)
return this._instanceCache.get("serializer",t)},lookupAdapter:function(e){return this.adapterFor(e)},lookupSerializer:function(e){return this.serializerFor(e)},willDestroy:function(){this._super.apply(this,arguments),this._pushedInternalModels=null,this.recordArrayManager.destroy(),this._instanceCache.destroy(),this.unloadAll()},_updateRelationshipState:function(e){var t=this
1===this._updatedRelationships.push(e)&&this._backburner.join(function(){t._backburner.schedule("syncRelationships",t,t._flushUpdatedRelationships)})},_flushUpdatedRelationships:function(){for(var e=this._updatedRelationships,t=0,r=e.length;t<r;t++)e[t].flushCanonical()
e.length=0},_updateInternalModel:function(e){1===this._updatedInternalModels.push(e)&&Bt.schedule("actions",this,this._flushUpdatedInternalModels)},_flushUpdatedInternalModels:function(){for(var e=this._updatedInternalModels,t=0,r=e.length;t<r;t++)e[t]._triggerDeferredTriggers()
e.length=0},_pushResourceIdentifier:function(e,t){if(!qt(t))return this._internalModelForId(t.type,t.id)},_pushResourceIdentifiers:function(e,t){if(!qt(t)){for(var r=new Array(t.length),n=0;n<t.length;n++)r[n]=this._pushResourceIdentifier(e,t[n])
return r}}}),Yt=Ember.Namespace.create({VERSION:r,name:"DS"})
Ember.libraries&&Ember.libraries.registerCoreLibrary("Ember Data",Yt.VERSION)
var Zt=Ember.get
var er=Ember.get,tr=Ember.Mixin.create({buildURL:function(e,t,r,n,i){switch(n){case"findRecord":return this.urlForFindRecord(t,e,r)
case"findAll":return this.urlForFindAll(e,r)
case"query":return this.urlForQuery(i,e)
case"queryRecord":return this.urlForQueryRecord(i,e)
case"findMany":return this.urlForFindMany(t,e,r)
case"findHasMany":return this.urlForFindHasMany(t,e,r)
case"findBelongsTo":return this.urlForFindBelongsTo(t,e,r)
case"createRecord":return this.urlForCreateRecord(e,r)
case"updateRecord":return this.urlForUpdateRecord(t,e,r)
case"deleteRecord":return this.urlForDeleteRecord(t,e,r)
default:return this._buildURL(e,t)}},_buildURL:function(e,t){var r=void 0,n=[],i=er(this,"host"),a=this.urlPrefix()
return e&&(r=this.pathForType(e))&&n.push(r),t&&n.push(encodeURIComponent(t)),a&&n.unshift(a),n=n.join("/"),!i&&n&&"/"!==n.charAt(0)&&(n="/"+n),n},urlForFindRecord:function(e,t,r){return this._buildURL(t,e)},urlForFindAll:function(e,t){return this._buildURL(e)},urlForQuery:function(e,t){return this._buildURL(t)},urlForQueryRecord:function(e,t){return this._buildURL(t)},urlForFindMany:function(e,t,r){return this._buildURL(t)},urlForFindHasMany:function(e,t,r){return this._buildURL(t,e)},urlForFindBelongsTo:function(e,t,r){return this._buildURL(t,e)},urlForCreateRecord:function(e,t){return this._buildURL(e)},urlForUpdateRecord:function(e,t,r){return this._buildURL(t,e)},urlForDeleteRecord:function(e,t,r){return this._buildURL(t,e)},urlPrefix:function(e,t){var r=er(this,"host"),n=er(this,"namespace")
if(r&&"/"!==r||(r=""),e)return/^\/\//.test(e)||/http(s)?:\/\//.test(e)?e:"/"===e.charAt(0)?""+r+e:t+"/"+e
var i=[]
return r&&i.push(r),n&&i.push(n),i.join("/")},pathForType:function(e){var r=Ember.String.camelize(e)
return t.pluralize(r)}}),rr="\r\n"
function nr(e){return e&&e.Object===Object?e:void 0}var ir,ar=nr((ir="object"==typeof global&&global)&&void 0===ir.nodeType?ir:void 0)||nr("object"==typeof self&&self)||nr("object"==typeof window&&window)||new Function("return this")(),or=Ember.String.capitalize,sr=Ember.String.underscore,lr=Ember.assert,ur=Ember.get,dr=Ember.DataAdapter.extend({getFilters:function(){return[{name:"isNew",desc:"New"},{name:"isModified",desc:"Modified"},{name:"isClean",desc:"Clean"}]},detect:function(e){return e!==U&&U.detect(e)},columnsForType:function(e){var t=[{name:"id",desc:"Id"}],r=0,n=this
return ur(e,"attributes").forEach(function(e,i){if(r++>n.attributeLimit)return!1
var a=or(sr(i).replace("_"," "))
t.push({name:i,desc:a})}),t},getRecords:function(e,t){if(arguments.length<2){var r=e._debugContainerKey
if(r){var n=r.match(/model:(.*)/)
n&&(t=n[1])}}return lr("Cannot find model name. Please upgrade to Ember.js >= 1.13 for Ember Inspector support",!!t),this.get("store").peekAll(t)},getRecordColumnValues:function(e){var t=this,r=0,n={id:ur(e,"id")}
return e.eachAttribute(function(i){if(r++>t.attributeLimit)return!1
n[i]=ur(e,i)}),n},getRecordKeywords:function(e){var t=[],r=Ember.A(["id"])
return e.eachAttribute(function(e){return r.push(e)}),r.forEach(function(r){return t.push(ur(e,r))}),t},getRecordFilterValues:function(e){return{isNew:e.get("isNew"),isModified:e.get("hasDirtyAttributes")&&!e.get("isNew"),isClean:!e.get("hasDirtyAttributes")}},getRecordColor:function(e){var t="black"
return e.get("isNew")?t="green":e.get("hasDirtyAttributes")&&(t="blue"),t},observeRecord:function(e,t){var r=Ember.A(),n=Ember.A(["id","isNew","hasDirtyAttributes"])
e.eachAttribute(function(e){return n.push(e)})
var i=this
n.forEach(function(n){var a=function(){t(i.wrapRecord(e))}
Ember.addObserver(e,n,a),r.push(function(){Ember.removeObserver(e,n,a)})})
return function(){r.forEach(function(e){return e()})}}})
e.Model=U,e.Errors=g,e.Store=Qt,e.DS=Yt,e.belongsTo=function(e,t){var r=void 0,n=void 0
"object"==typeof e?(r=e,n=void 0):(r=t,n=e),"string"==typeof n&&(n=S(n))
var i={type:n,isRelationship:!0,options:r=r||{},kind:"belongsTo",name:"Belongs To",key:null}
return Ember.computed({get:function(e){return r.hasOwnProperty("serialize"),r.hasOwnProperty("embedded"),this._internalModel._relationships.get(e).getRecord()},set:function(e,t){return void 0===t&&(t=null),t&&t.then?this._internalModel._relationships.get(e).setRecordPromise(t):t?this._internalModel._relationships.get(e).setInternalModel(t._internalModel):this._internalModel._relationships.get(e).setInternalModel(t),this._internalModel._relationships.get(e).getRecord()}}).meta(i)},e.hasMany=function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{},"string"==typeof e&&(e=S(e))
var r={type:e,options:t,isRelationship:!0,kind:"hasMany",name:"Has Many",key:null}
return Ember.computed({get:function(e){return this._internalModel._relationships.get(e).getRecords()},set:function(e,t){var r=this._internalModel._relationships.get(e)
return r.clear(),r.addInternalModels(t.map(function(e){return Zt(e,"_internalModel")})),r.getRecords()}}).meta(r)},e.BuildURLMixin=tr,e.Snapshot=Ie,e.AdapterError=B,e.InvalidError=$,e.UnauthorizedError=X,e.ForbiddenError=J,e.NotFoundError=Q,e.ConflictError=Y,e.ServerError=Z,e.TimeoutError=G,e.AbortError=K,e.errorsHashToArray=function(e){var t=[]
return Ember.isPresent(e)&&Object.keys(e).forEach(function(r){for(var n=Ember.makeArray(e[r]),i=0;i<n.length;i++){var a="Invalid Attribute",o="/data/attributes/"+r
r===V&&(a="Invalid Document",o="/data"),t.push({title:a,detail:n[i],source:{pointer:o}})}}),t},e.errorsArrayToHash=function(e){var t={}
return Ember.isPresent(e)&&e.forEach(function(e){if(e.source&&e.source.pointer){var r=e.source.pointer.match(z)
r?r=r[2]:-1!==e.source.pointer.search(q)&&(r=V),r&&(t[r]=t[r]||[],t[r].push(e.detail||e.title))}}),t},e.normalizeModelName=S,e.getOwner=Pe,e.modelHasAttributeOrRelationshipNamedType=function(e){return Ce(e,"attributes").has("type")||Ce(e,"relationshipsByName").has("type")},e.coerceId=ct,e.parseResponseHeaders=function(e){var t=Object.create(null)
if(!e)return t
for(var r=e.split(rr),n=0;n<r.length;n++){for(var i=r[n],a=0,o=!1;a<i.length;a++)if(58===i.charCodeAt(a)){o=!0
break}if(!1!==o){var s=i.substring(0,a).trim(),l=i.substring(a+1,i.length).trim()
l&&(t[s]=l)}}return t},e.global=ar,e.isEnabled=v,e.RootState=T,e.InternalModel=Je,e.ContainerInstanceCache=Dt,e.PromiseArray=a
e.PromiseObject=o,e.PromiseManyArray=d,e.RecordArray=yt,e.FilteredRecordArray=_t,e.AdapterPopulatedRecordArray=Pt,e.ManyArray=fe,e.RecordArrayManager=St,e.Relationship=ae,e.DebugAdapter=dr,e.diffArray=de,e.RelationshipPayloadsManager=st,e.RelationshipPayloads=it,e.SnapshotRecordArray=pt,Object.defineProperty(e,"__esModule",{value:!0})}),define("ember-data/adapter",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Object.extend({defaultSerializer:"-default",findRecord:null,findAll:null,query:null,queryRecord:null,generateIdForRecord:null,serialize:function(e,t){return e.serialize(t)},createRecord:null,updateRecord:null,deleteRecord:null,coalesceFindRequests:!0,findMany:null,groupRecordsForFindMany:function(e,t){return[t]},shouldReloadRecord:function(e,t){return!1},shouldReloadAll:function(e,t){return!t.length},shouldBackgroundReloadRecord:function(e,t){return!0},shouldBackgroundReloadAll:function(e,t){return!0}})}),define("ember-data/adapters/errors",["exports","ember-data/-private"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AdapterError",{enumerable:!0,get:function(){return t.AdapterError}}),Object.defineProperty(e,"InvalidError",{enumerable:!0,get:function(){return t.InvalidError}}),Object.defineProperty(e,"UnauthorizedError",{enumerable:!0,get:function(){return t.UnauthorizedError}}),Object.defineProperty(e,"ForbiddenError",{enumerable:!0,get:function(){return t.ForbiddenError}}),Object.defineProperty(e,"NotFoundError",{enumerable:!0,get:function(){return t.NotFoundError}}),Object.defineProperty(e,"ConflictError",{enumerable:!0,get:function(){return t.ConflictError}}),Object.defineProperty(e,"ServerError",{enumerable:!0,get:function(){return t.ServerError}}),Object.defineProperty(e,"TimeoutError",{enumerable:!0,get:function(){return t.TimeoutError}}),Object.defineProperty(e,"AbortError",{enumerable:!0,get:function(){return t.AbortError}}),Object.defineProperty(e,"errorsHashToArray",{enumerable:!0,get:function(){return t.errorsHashToArray}}),Object.defineProperty(e,"errorsArrayToHash",{enumerable:!0,get:function(){return t.errorsArrayToHash}})})
define("ember-data/adapters/json-api",["exports","ember-inflector","ember-data/adapters/rest","ember-data/-private"],function(e,t,r,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var i=r.default.extend({defaultSerializer:"-json-api",ajaxOptions:function(e,t,r){var n=this._super.apply(this,arguments)
n.contentType&&(n.contentType="application/vnd.api+json")
var i=n.beforeSend
return n.beforeSend=function(e){e.setRequestHeader("Accept","application/vnd.api+json"),i&&i(e)},n},coalesceFindRequests:!1,findMany:function(e,t,r,i){if((0,n.isEnabled)("ds-improved-ajax")&&!this._hasCustomizedAjax())return this._super.apply(this,arguments)
var a=this.buildURL(t.modelName,r,i,"findMany")
return this.ajax(a,"GET",{data:{filter:{id:r.join(",")}}})},pathForType:function(e){var r=Ember.String.dasherize(e)
return(0,t.pluralize)(r)},updateRecord:function(e,t,r){if((0,n.isEnabled)("ds-improved-ajax")&&!this._hasCustomizedAjax())return this._super.apply(this,arguments)
var i={}
e.serializerFor(t.modelName).serializeIntoHash(i,t,r,{includeId:!0})
var a=this.buildURL(t.modelName,r.id,r,"updateRecord")
return this.ajax(a,"PATCH",{data:i})},_hasCustomizedAjax:function(){return this.ajax!==i.prototype.ajax||this.ajaxOptions!==i.prototype.ajaxOptions}});(0,n.isEnabled)("ds-improved-ajax")&&i.reopen({methodForRequest:function(e){return"updateRecord"===e.requestType?"PATCH":this._super.apply(this,arguments)},dataForRequest:function(e){var t=e.requestType,r=e.ids
if("findMany"===t)return{filter:{id:r.join(",")}}
if("updateRecord"===t){var n=e.store,i=e.type,a=e.snapshot,o={}
return n.serializerFor(i.modelName).serializeIntoHash(o,i,a,{includeId:!0}),o}return this._super.apply(this,arguments)},headersForRequest:function(){var e=this._super.apply(this,arguments)||{}
return e.Accept="application/vnd.api+json",e},_requestToJQueryAjaxHash:function(){var e=this._super.apply(this,arguments)
return e.contentType&&(e.contentType="application/vnd.api+json"),e}}),e.default=i}),define("ember-data/adapters/rest",["exports","ember-data/adapter","ember-data/-private"],function(e,t,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var n=Ember.MapWithDefault,i=Ember.get,a=Ember.run,o=Ember.RSVP.Promise,s=t.default.extend(r.BuildURLMixin,{defaultSerializer:"-rest",sortQueryParams:function(e){var t=Object.keys(e),r=t.length
if(r<2)return e
for(var n={},i=t.sort(),a=0;a<r;a++)n[i[a]]=e[i[a]]
return n},coalesceFindRequests:!1,findRecord:function(e,t,n,i){if((0,r.isEnabled)("ds-improved-ajax")&&!this._hasCustomizedAjax()){var a=this._requestFor({store:e,type:t,id:n,snapshot:i,requestType:"findRecord"})
return this._makeRequest(a)}var o=this.buildURL(t.modelName,n,i,"findRecord"),s=this.buildQuery(i)
return this.ajax(o,"GET",{data:s})},findAll:function(e,t,n,i){var a=this.buildQuery(i)
if((0,r.isEnabled)("ds-improved-ajax")&&!this._hasCustomizedAjax()){var o=this._requestFor({store:e,type:t,sinceToken:n,query:a,snapshots:i,requestType:"findAll"})
return this._makeRequest(o)}var s=this.buildURL(t.modelName,null,i,"findAll")
return n&&(a.since=n),this.ajax(s,"GET",{data:a})},query:function(e,t,n){if((0,r.isEnabled)("ds-improved-ajax")&&!this._hasCustomizedAjax()){var i=this._requestFor({store:e,type:t,query:n,requestType:"query"})
return this._makeRequest(i)}var a=this.buildURL(t.modelName,null,null,"query",n)
return this.sortQueryParams&&(n=this.sortQueryParams(n)),this.ajax(a,"GET",{data:n})},queryRecord:function(e,t,n){if((0,r.isEnabled)("ds-improved-ajax")&&!this._hasCustomizedAjax()){var i=this._requestFor({store:e,type:t,query:n,requestType:"queryRecord"})
return this._makeRequest(i)}var a=this.buildURL(t.modelName,null,null,"queryRecord",n)
return this.sortQueryParams&&(n=this.sortQueryParams(n)),this.ajax(a,"GET",{data:n})},findMany:function(e,t,n,i){if((0,r.isEnabled)("ds-improved-ajax")&&!this._hasCustomizedAjax()){var a=this._requestFor({store:e,type:t,ids:n,snapshots:i,requestType:"findMany"})
return this._makeRequest(a)}var o=this.buildURL(t.modelName,n,i,"findMany")
return this.ajax(o,"GET",{data:{ids:n}})},findHasMany:function(e,t,n,i){if((0,r.isEnabled)("ds-improved-ajax")&&!this._hasCustomizedAjax()){var a=this._requestFor({store:e,snapshot:t,url:n,relationship:i,requestType:"findHasMany"})
return this._makeRequest(a)}var o=t.id,s=t.modelName
return n=this.urlPrefix(n,this.buildURL(s,o,t,"findHasMany")),this.ajax(n,"GET")},findBelongsTo:function(e,t,n,i){if((0,r.isEnabled)("ds-improved-ajax")&&!this._hasCustomizedAjax()){var a=this._requestFor({store:e,snapshot:t,url:n,relationship:i,requestType:"findBelongsTo"})
return this._makeRequest(a)}var o=t.id,s=t.modelName
return n=this.urlPrefix(n,this.buildURL(s,o,t,"findBelongsTo")),this.ajax(n,"GET")},createRecord:function(e,t,n){if((0,r.isEnabled)("ds-improved-ajax")&&!this._hasCustomizedAjax()){var i=this._requestFor({store:e,type:t,snapshot:n,requestType:"createRecord"})
return this._makeRequest(i)}var a={},o=e.serializerFor(t.modelName),s=this.buildURL(t.modelName,null,n,"createRecord")
return o.serializeIntoHash(a,t,n,{includeId:!0}),this.ajax(s,"POST",{data:a})},updateRecord:function(e,t,n){if((0,r.isEnabled)("ds-improved-ajax")&&!this._hasCustomizedAjax()){var i=this._requestFor({store:e,type:t,snapshot:n,requestType:"updateRecord"})
return this._makeRequest(i)}var a={}
e.serializerFor(t.modelName).serializeIntoHash(a,t,n)
var o=n.id,s=this.buildURL(t.modelName,o,n,"updateRecord")
return this.ajax(s,"PUT",{data:a})},deleteRecord:function(e,t,n){if((0,r.isEnabled)("ds-improved-ajax")&&!this._hasCustomizedAjax()){var i=this._requestFor({store:e,type:t,snapshot:n,requestType:"deleteRecord"})
return this._makeRequest(i)}var a=n.id
return this.ajax(this.buildURL(t.modelName,a,n,"deleteRecord"),"DELETE")},_stripIDFromURL:function(e,t){var r,n,i=this.buildURL(t.modelName,t.id,t).split("/"),a=i[i.length-1],o=t.id
return decodeURIComponent(a)===o?i[i.length-1]="":(r=a,n="?id="+o,("function"!=typeof String.prototype.endsWith?-1!==r.indexOf(n,r.length-n.length):r.endsWith(n))&&(i[i.length-1]=a.substring(0,a.length-o.length-1))),i.join("/")},maxURLLength:2048,groupRecordsForFindMany:function(e,t){var r=n.create({defaultValue:function(){return[]}}),i=this,a=this.maxURLLength
t.forEach(function(t){var n=i._stripIDFromURL(e,t)
r.get(n).push(t)})
var o=[]
return r.forEach(function(t,r){(function(t,r,n){var a=0,o=i._stripIDFromURL(e,t[0]),s=[[]]
return t.forEach(function(e){var t=encodeURIComponent(e.id).length+n
o.length+a+t>=r&&(a=0,s.push([])),a+=t
var i=s.length-1
s[i].push(e)}),s})(t,a,"&ids%5B%5D=".length).forEach(function(e){return o.push(e)})}),o},handleResponse:function(e,t,n,i){if(this.isSuccess(e,t,n))return n
if(this.isInvalid(e,t,n))return new r.InvalidError(n.errors)
var a=this.normalizeErrorResponse(e,t,n),o=this.generatedDetailedMessage(e,t,n,i)
switch(e){case 401:return new r.UnauthorizedError(a,o)
case 403:return new r.ForbiddenError(a,o)
case 404:return new r.NotFoundError(a,o)
case 409:return new r.ConflictError(a,o)
default:if(e>=500)return new r.ServerError(a,o)}return new r.AdapterError(a,o)},isSuccess:function(e,t,r){return e>=200&&e<300||304===e},isInvalid:function(e,t,r){return 422===e},ajax:function(e,t,r){var n=this,i={url:e,method:t}
return new o(function(o,s){var d=n.ajaxOptions(e,t,r)
d.success=function(e,t,r){var s=l(n,r,e,i)
a.join(null,o,s)},d.error=function(e,t,r){var o=u(n,e,i,{textStatus:t,errorThrown:r})
a.join(null,s,o)},n._ajaxRequest(d)},"DS: RESTAdapter#ajax "+t+" to "+e)},_ajaxRequest:function(e){Ember.$.ajax(e)},ajaxOptions:function(e,t,r){var n=r||{}
n.url=e,n.type=t,n.dataType="json",n.context=this,n.data&&"GET"!==t&&(n.contentType="application/json; charset=utf-8",n.data=JSON.stringify(n.data))
var a=i(this,"headers")
return void 0!==a&&(n.beforeSend=function(e){Object.keys(a).forEach(function(t){return e.setRequestHeader(t,a[t])})}),n},parseErrorResponse:function(e){var t=e
try{t=Ember.$.parseJSON(e)}catch(e){}return t},normalizeErrorResponse:function(e,t,r){return r&&"object"==typeof r&&r.errors?r.errors:[{status:""+e,title:"The backend responded with an error",detail:""+r}]},generatedDetailedMessage:function(e,t,r,n){var i=void 0,a=t["Content-Type"]||"Empty Content-Type"
return i="text/html"===a&&r.length>250?"[Omitted Lengthy HTML]":r,["Ember Data Request "+(n.method+" "+n.url)+" returned a "+e,"Payload ("+a+")",i].join("\n")},buildQuery:function(e){var t={}
if(e){var r=e.include
r&&(t.include=r)}return t},_hasCustomizedAjax:function(){return this.ajax!==s.prototype.ajax||this.ajaxOptions!==s.prototype.ajaxOptions}})
function l(e,t,n,i){var a=void 0
try{a=e.handleResponse(t.status,(0,r.parseResponseHeaders)(t.getAllResponseHeaders()),n,i)}catch(e){return o.reject(e)}return a&&a.isAdapterError?o.reject(a):a}function u(e,t,n,i){var a=void 0
if(i.errorThrown instanceof Error)a=i.errorThrown
else if("timeout"===i.textStatus)a=new r.TimeoutError
else if("abort"===i.textStatus||0===t.status)a=new r.AbortError
else try{a=e.handleResponse(t.status,(0,r.parseResponseHeaders)(t.getAllResponseHeaders()),e.parseErrorResponse(t.responseText)||i.errorThrown,n)}catch(e){a=e}return a}(0,r.isEnabled)("ds-improved-ajax")&&s.reopen({dataForRequest:function(e){var t=e.store,r=e.type,n=e.snapshot,i=e.requestType,a=e.query
r=r||n&&n.type
var o=t.serializerFor(r.modelName),s={}
switch(i){case"createRecord":o.serializeIntoHash(s,r,n,{includeId:!0})
break
case"updateRecord":o.serializeIntoHash(s,r,n)
break
case"findRecord":s=this.buildQuery(n)
break
case"findAll":e.sinceToken&&((a=a||{}).since=e.sinceToken),s=a
break
case"query":case"queryRecord":this.sortQueryParams&&(a=this.sortQueryParams(a)),s=a
break
case"findMany":s={ids:e.ids}
break
default:s=void 0}return s},methodForRequest:function(e){switch(e.requestType){case"createRecord":return"POST"
case"updateRecord":return"PUT"
case"deleteRecord":return"DELETE"}return"GET"},urlForRequest:function(e){var t=e.type,r=e.id,n=e.ids,i=e.snapshot,a=e.snapshots,o=e.requestType,s=e.query
switch(t=t||i&&i.type,r=r||i&&i.id,o){case"findAll":return this.buildURL(t.modelName,null,a,o)
case"query":case"queryRecord":return this.buildURL(t.modelName,null,null,o,s)
case"findMany":return this.buildURL(t.modelName,n,a,o)
case"findHasMany":case"findBelongsTo":var l=this.buildURL(t.modelName,r,i,o)
return this.urlPrefix(e.url,l)}return this.buildURL(t.modelName,r,i,o,s)},headersForRequest:function(e){return this.get("headers")},_requestFor:function(e){return{method:this.methodForRequest(e),url:this.urlForRequest(e),headers:this.headersForRequest(e),data:this.dataForRequest(e)}},_requestToJQueryAjaxHash:function(e){var t={}
t.type=e.method,t.url=e.url,t.dataType="json",t.context=this,e.data&&("GET"!==e.method?(t.contentType="application/json; charset=utf-8",t.data=JSON.stringify(e.data)):t.data=e.data)
var r=e.headers
return void 0!==r&&(t.beforeSend=function(e){Object.keys(r).forEach(function(t){return e.setRequestHeader(t,r[t])})}),t},_makeRequest:function(e){var t=this,r=this._requestToJQueryAjaxHash(e),n=e.method,i=e.url,s={method:n,url:i}
return new o(function(e,n){r.success=function(r,n,i){var o=l(t,i,r,s)
a.join(null,e,o)},r.error=function(e,r,i){var o=u(t,e,s,{textStatus:r,errorThrown:i})
a.join(null,n,o)},t._ajaxRequest(r)},"DS: RESTAdapter#makeRequest: "+n+" "+i)}}),e.default=s}),define("ember-data/attr",["exports"],function(e){"use strict"
function t(e,t){return t in e._attributes?e._attributes[t]:t in e._inFlightAttributes?e._inFlightAttributes[t]:e._data[t]}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,r){"object"==typeof e?(r=e,e=void 0):r=r||{}
var n={type:e,isAttribute:!0,options:r}
return Ember.computed({get:function(e){var n=this._internalModel
return function(e,t){return t in e._attributes||t in e._inFlightAttributes||t in e._data}(n,e)?t(n,e):function(e,t,r){if("function"==typeof t.defaultValue)return t.defaultValue.apply(null,arguments)
var n=t.defaultValue
return n}(this,r,e)},set:function(e,r){var n=this._internalModel,i=t(n,e),a=void 0
return r!==i&&(n._attributes[e]=r,a=e in n._inFlightAttributes?n._inFlightAttributes[e]:n._data[e],this._internalModel.send("didSetProperty",{name:e,oldValue:i,originalValue:a,value:r})),r}}).meta(n)}}),define("ember-data/index",["exports","ember-data/-private","ember-data/setup-container","ember-data/instance-initializers/initialize-store-service","ember-data/transforms/transform","ember-data/transforms/number","ember-data/transforms/date","ember-data/transforms/string","ember-data/transforms/boolean","ember-data/adapter","ember-data/adapters/json-api","ember-data/adapters/rest","ember-data/serializer","ember-data/serializers/json-api","ember-data/serializers/json","ember-data/serializers/rest","ember-data/serializers/embedded-records-mixin","ember-data/attr","ember-inflector"],function(e,t,r,n,i,a,o,s,l,u,d,c,f,p,m,h,g,v){"use strict"
if(Object.defineProperty(e,"__esModule",{value:!0}),Ember.VERSION.match(/^1\.([0-9]|1[0-2])\./))throw new Ember.Error("Ember Data requires at least Ember 1.13.0, but you have "+Ember.VERSION+". Please upgrade your version of Ember, then upgrade Ember Data.")
t.DS.Store=t.Store,t.DS.PromiseArray=t.PromiseArray,t.DS.PromiseObject=t.PromiseObject,t.DS.PromiseManyArray=t.PromiseManyArray,t.DS.Model=t.Model,t.DS.RootState=t.RootState,t.DS.attr=v.default,t.DS.Errors=t.Errors,t.DS.InternalModel=t.InternalModel,t.DS.Snapshot=t.Snapshot,t.DS.Adapter=u.default,t.DS.AdapterError=t.AdapterError,t.DS.InvalidError=t.InvalidError,t.DS.TimeoutError=t.TimeoutError,t.DS.AbortError=t.AbortError,t.DS.UnauthorizedError=t.UnauthorizedError,t.DS.ForbiddenError=t.ForbiddenError,t.DS.NotFoundError=t.NotFoundError,t.DS.ConflictError=t.ConflictError,t.DS.ServerError=t.ServerError,t.DS.errorsHashToArray=t.errorsHashToArray,t.DS.errorsArrayToHash=t.errorsArrayToHash,t.DS.Serializer=f.default,t.DS.DebugAdapter=t.DebugAdapter,t.DS.RecordArray=t.RecordArray,t.DS.FilteredRecordArray=t.FilteredRecordArray,t.DS.AdapterPopulatedRecordArray=t.AdapterPopulatedRecordArray,t.DS.ManyArray=t.ManyArray,t.DS.RecordArrayManager=t.RecordArrayManager,t.DS.RESTAdapter=c.default
t.DS.BuildURLMixin=t.BuildURLMixin,t.DS.RESTSerializer=h.default,t.DS.JSONSerializer=m.default,t.DS.JSONAPIAdapter=d.default,t.DS.JSONAPISerializer=p.default,t.DS.Transform=i.default,t.DS.DateTransform=o.default,t.DS.StringTransform=s.default,t.DS.NumberTransform=a.default,t.DS.BooleanTransform=l.default,t.DS.EmbeddedRecordsMixin=g.default,t.DS.belongsTo=t.belongsTo,t.DS.hasMany=t.hasMany,t.DS.Relationship=t.Relationship,t.DS._setupContainer=r.default,t.DS._initializeStoreService=n.default,Object.defineProperty(t.DS,"normalizeModelName",{enumerable:!0,writable:!1,configurable:!1,value:t.normalizeModelName}),Object.defineProperty(t.global,"DS",{configurable:!0,get:function(){return t.DS}}),e.default=t.DS}),define("ember-data/instance-initializers/initialize-store-service",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){(e.lookup?e:e.container).lookup("service:store")}}),define("ember-data/model",["exports","ember-data/-private"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.Model}})}),define("ember-data/relationships",["exports","ember-data/-private"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"belongsTo",{enumerable:!0,get:function(){return t.belongsTo}}),Object.defineProperty(e,"hasMany",{enumerable:!0,get:function(){return t.hasMany}})}),define("ember-data/serializer",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Object.extend({normalizeResponse:null,serialize:null,normalize:function(e,t){return t}})}),define("ember-data/serializers/embedded-records-mixin",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var t=Ember.get,r=Ember.set,n=Ember.String.camelize
e.default=Ember.Mixin.create({normalize:function(e,t,r){var n=this._super(e,t,r)
return this._extractEmbeddedRecords(this,this.store,e,n)},keyForRelationship:function(e,t,r){return"serialize"===r&&this.hasSerializeRecordsOption(e)||"deserialize"===r&&this.hasDeserializeRecordsOption(e)?this.keyForAttribute(e,r):this._super(e,t,r)||e},serializeBelongsTo:function(e,t,r){var n=r.key
if(this.noSerializeOptionSpecified(n))this._super(e,t,r)
else{var i=this.hasSerializeIdsOption(n),a=this.hasSerializeRecordsOption(n),o=e.belongsTo(n)
if(i){var s=this._getMappedKey(r.key,e.type)
s===r.key&&this.keyForRelationship&&(s=this.keyForRelationship(r.key,r.kind,"serialize")),o?(t[s]=o.id,r.options.polymorphic&&this.serializePolymorphicType(e,t,r)):t[s]=null}else a&&this._serializeEmbeddedBelongsTo(e,t,r)}},_serializeEmbeddedBelongsTo:function(e,t,r){var n=e.belongsTo(r.key),i=this._getMappedKey(r.key,e.type)
i===r.key&&this.keyForRelationship&&(i=this.keyForRelationship(r.key,r.kind,"serialize")),n?(t[i]=n.serialize({includeId:!0}),this.removeEmbeddedForeignKey(e,n,r,t[i]),r.options.polymorphic&&this.serializePolymorphicType(e,t,r)):t[i]=null},serializeHasMany:function(e,t,r){var n=r.key
if(this.noSerializeOptionSpecified(n))this._super(e,t,r)
else if(this.hasSerializeIdsOption(n)){var i=this._getMappedKey(r.key,e.type)
i===r.key&&this.keyForRelationship&&(i=this.keyForRelationship(r.key,r.kind,"serialize")),t[i]=e.hasMany(n,{ids:!0})}else this.hasSerializeRecordsOption(n)?this._serializeEmbeddedHasMany(e,t,r):this.hasSerializeIdsAndTypesOption(n)&&this._serializeHasManyAsIdsAndTypes(e,t,r)},_serializeHasManyAsIdsAndTypes:function(e,t,r){var n=this.keyForAttribute(r.key,"serialize"),i=e.hasMany(r.key)
t[n]=Ember.A(i).map(function(e){return{id:e.id,type:e.modelName}})},_serializeEmbeddedHasMany:function(e,t,r){var n=this._getMappedKey(r.key,e.type)
n===r.key&&this.keyForRelationship&&(n=this.keyForRelationship(r.key,r.kind,"serialize")),t[n]=this._generateSerializedHasMany(e,r)},_generateSerializedHasMany:function(e,t){for(var r=e.hasMany(t.key),n=Ember.A(r),i=new Array(n.length),a=0;a<n.length;a++){var o=n[a],s=o.serialize({includeId:!0})
this.removeEmbeddedForeignKey(e,o,t,s),i[a]=s}return i},removeEmbeddedForeignKey:function(e,t,r,n){if("belongsTo"===r.kind){var i=e.type.inverseFor(r.key,this.store)
if(i){var a=i.name,o=this.store.serializerFor(t.modelName).keyForRelationship(a,i.kind,"deserialize")
o&&delete n[o]}}},hasEmbeddedAlwaysOption:function(e){var t=this.attrsOption(e)
return t&&"always"===t.embedded},hasSerializeRecordsOption:function(e){var t=this.hasEmbeddedAlwaysOption(e),r=this.attrsOption(e)
return t||r&&"records"===r.serialize},hasSerializeIdsOption:function(e){var t=this.attrsOption(e)
return t&&("ids"===t.serialize||"id"===t.serialize)},hasSerializeIdsAndTypesOption:function(e){var t=this.attrsOption(e)
return t&&("ids-and-types"===t.serialize||"id-and-type"===t.serialize)},noSerializeOptionSpecified:function(e){var t=this.attrsOption(e)
return!(t&&(t.serialize||t.embedded))},hasDeserializeRecordsOption:function(e){var t=this.hasEmbeddedAlwaysOption(e),r=this.attrsOption(e)
return t||r&&"records"===r.deserialize},attrsOption:function(e){var t=this.get("attrs")
return t&&(t[n(e)]||t[e])},_extractEmbeddedRecords:function(e,t,r,n){var i=this
return r.eachRelationship(function(r,a){e.hasDeserializeRecordsOption(r)&&("hasMany"===a.kind&&i._extractEmbeddedHasMany(t,r,n,a),"belongsTo"===a.kind&&i._extractEmbeddedBelongsTo(t,r,n,a))}),n},_extractEmbeddedHasMany:function(e,n,i,a){var o=t(i,"data.relationships."+n+".data")
if(o){for(var s=new Array(o.length),l=0;l<o.length;l++){var u,d=o[l],c=this._normalizeEmbeddedRelationship(e,a,d),f=c.data,p=c.included
if(i.included=i.included||[],i.included.push(f),p)(u=i.included).push.apply(u,p)
s[l]={id:f.id,type:f.type}}r(i,"data.relationships."+n,{data:s})}},_extractEmbeddedBelongsTo:function(e,n,i,a){var o=t(i,"data.relationships."+n+".data")
if(o){var s,l=this._normalizeEmbeddedRelationship(e,a,o),u=l.data,d=l.included
if(i.included=i.included||[],i.included.push(u),d)(s=i.included).push.apply(s,d)
var c={id:u.id,type:u.type}
r(i,"data.relationships."+n,{data:c})}},_normalizeEmbeddedRelationship:function(e,t,r){var n=t.type
t.options.polymorphic&&(n=r.type)
var i=e.modelFor(n)
return e.serializerFor(n).normalize(i,r,null)},isEmbeddedRecordsMixin:!0})}),define("ember-data/serializers/json-api",["exports","ember-inflector","ember-data/serializers/json","ember-data/-private"],function(e,t,r,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var i=Ember.String.dasherize,a=r.default.extend({_normalizeDocumentHelper:function(e){if("object"===Ember.typeOf(e.data))e.data=this._normalizeResourceHelper(e.data)
else if(Array.isArray(e.data)){for(var t=new Array(e.data.length),r=0;r<e.data.length;r++){var n=e.data[r]
t[r]=this._normalizeResourceHelper(n)}e.data=t}if(Array.isArray(e.included)){for(var i=new Array(e.included.length),a=0;a<e.included.length;a++){var o=e.included[a]
i[a]=this._normalizeResourceHelper(o)}e.included=i}return e},_normalizeRelationshipDataHelper:function(e){if((0,n.isEnabled)("ds-payload-type-hooks")){var t=this.modelNameFromPayloadType(e.type),r=this.modelNameFromPayloadKey(e.type)
t!==r&&this._hasCustomModelNameFromPayloadKey()&&(t=r),e.type=t}else e.type=this.modelNameFromPayloadKey(e.type)
return e},_normalizeResourceHelper:function(e){var t=void 0
if((0,n.isEnabled)("ds-payload-type-hooks")){t=this.modelNameFromPayloadType(e.type)
var r=this.modelNameFromPayloadKey(e.type)
"modelNameFromPayloadType",t!==r&&this._hasCustomModelNameFromPayloadKey()&&(t=r,"modelNameFromPayloadKey")}else t=this.modelNameFromPayloadKey(e.type),"modelNameFromPayloadKey"
if(!this.store._hasModelFor(t))return null
var i=this.store._modelFor(t)
return this.store.serializerFor(t).normalize(i,e).data},pushPayload:function(e,t){var r=this._normalizeDocumentHelper(t)
if((0,n.isEnabled)("ds-pushpayload-return"))return e.push(r)
e.push(r)},_normalizeResponse:function(e,t,r,n,i,a){return this._normalizeDocumentHelper(r)},normalizeQueryRecordResponse:function(){var e=this._super.apply(this,arguments)
return e},extractAttributes:function(e,t){var r=this,n={}
return t.attributes&&e.eachAttribute(function(e){var i=r.keyForAttribute(e,"deserialize")
void 0!==t.attributes[i]&&(n[e]=t.attributes[i])}),n},extractRelationship:function(e){if("object"===Ember.typeOf(e.data)&&(e.data=this._normalizeRelationshipDataHelper(e.data)),Array.isArray(e.data)){for(var t=new Array(e.data.length),r=0;r<e.data.length;r++){var n=e.data[r]
t[r]=this._normalizeRelationshipDataHelper(n)}e.data=t}return e},extractRelationships:function(e,t){var r=this,n={}
return t.relationships&&e.eachRelationship(function(e,i){var a=r.keyForRelationship(e,i.kind,"deserialize")
if(void 0!==t.relationships[a]){var o=t.relationships[a]
n[e]=r.extractRelationship(o)}}),n},_extractType:function(e,t){if((0,n.isEnabled)("ds-payload-type-hooks")){var r=this.modelNameFromPayloadType(t.type),i=this.modelNameFromPayloadKey(t.type)
return r!==i&&this._hasCustomModelNameFromPayloadKey()&&(r=i),r}return this.modelNameFromPayloadKey(t.type)},modelNameFromPayloadKey:function(e){return(0,t.singularize)((0,n.normalizeModelName)(e))},payloadKeyFromModelName:function(e){return(0,t.pluralize)(e)},normalize:function(e,t){t.attributes&&this.normalizeUsingDeclaredMapping(e,t.attributes),t.relationships&&this.normalizeUsingDeclaredMapping(e,t.relationships)
var r={id:this.extractId(e,t),type:this._extractType(e,t),attributes:this.extractAttributes(e,t),relationships:this.extractRelationships(e,t)}
return this.applyTransforms(e,r.attributes),{data:r}},keyForAttribute:function(e,t){return i(e)},keyForRelationship:function(e,t,r){return i(e)},serialize:function(e,t){var r=this._super.apply(this,arguments),i=void 0
if((0,n.isEnabled)("ds-payload-type-hooks")){i=this.payloadTypeFromModelName(e.modelName)
var a=this.payloadKeyFromModelName(e.modelName)
i!==a&&this._hasCustomPayloadKeyFromModelName()&&(i=a)}else i=this.payloadKeyFromModelName(e.modelName)
return r.type=i,{data:r}},serializeAttribute:function(e,t,r,n){var i=n.type
if(this._canSerialize(r)){t.attributes=t.attributes||{}
var a=e.attr(r)
if(i)a=this.transformFor(i).serialize(a,n.options)
var o=this._getMappedKey(r,e.type)
o===r&&(o=this.keyForAttribute(r,"serialize")),t.attributes[o]=a}},serializeBelongsTo:function(e,t,r){var i=r.key
if(this._canSerialize(i)){var a=e.belongsTo(i)
if(void 0!==a){t.relationships=t.relationships||{}
var o=this._getMappedKey(i,e.type)
o===i&&(o=this.keyForRelationship(i,"belongsTo","serialize"))
var s=null
if(a){var l=void 0
if((0,n.isEnabled)("ds-payload-type-hooks")){l=this.payloadTypeFromModelName(a.modelName)
var u=this.payloadKeyFromModelName(a.modelName)
l!==u&&this._hasCustomPayloadKeyFromModelName()&&(l=u)}else l=this.payloadKeyFromModelName(a.modelName)
s={type:l,id:a.id}}t.relationships[o]={data:s}}}},serializeHasMany:function(e,t,r){var i=r.key,a="_shouldSerializeHasMany"
if((0,n.isEnabled)("ds-check-should-serialize-relationships")&&(a="shouldSerializeHasMany"),this[a](e,i,r)){var o=e.hasMany(i)
if(void 0!==o){t.relationships=t.relationships||{}
var s=this._getMappedKey(i,e.type)
s===i&&this.keyForRelationship&&(s=this.keyForRelationship(i,"hasMany","serialize"))
for(var l=new Array(o.length),u=0;u<o.length;u++){var d=o[u],c=void 0
if((0,n.isEnabled)("ds-payload-type-hooks")){c=this.payloadTypeFromModelName(d.modelName)
var f=this.payloadKeyFromModelName(d.modelName)
c!==f&&this._hasCustomPayloadKeyFromModelName()&&(c=f)}else c=this.payloadKeyFromModelName(d.modelName)
l[u]={type:c,id:d.id}}t.relationships[s]={data:l}}}}});(0,n.isEnabled)("ds-payload-type-hooks")&&a.reopen({modelNameFromPayloadType:function(e){return(0,t.singularize)((0,n.normalizeModelName)(e))},payloadTypeFromModelName:function(e){return(0,t.pluralize)(e)},_hasCustomModelNameFromPayloadKey:function(){return this.modelNameFromPayloadKey!==a.prototype.modelNameFromPayloadKey},_hasCustomPayloadKeyFromModelName:function(){return this.payloadKeyFromModelName!==a.prototype.payloadKeyFromModelName}}),e.default=a}),define("ember-data/serializers/json",["exports","ember-data/serializer","ember-data/-private"],function(e,t,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var n=Ember.get,i=Ember.isNone,a=Ember.assign||Ember.merge,o=t.default.extend({primaryKey:"id",mergedProperties:["attrs"],applyTransforms:function(e,t){var r=this,i=n(e,"attributes")
return e.eachTransformedAttribute(function(e,n){if(void 0!==t[e]){var a=r.transformFor(n),o=i.get(e)
t[e]=a.deserialize(t[e],o.options)}}),t},normalizeResponse:function(e,t,r,n,i){switch(i){case"findRecord":return this.normalizeFindRecordResponse.apply(this,arguments)
case"queryRecord":return this.normalizeQueryRecordResponse.apply(this,arguments)
case"findAll":return this.normalizeFindAllResponse.apply(this,arguments)
case"findBelongsTo":return this.normalizeFindBelongsToResponse.apply(this,arguments)
case"findHasMany":return this.normalizeFindHasManyResponse.apply(this,arguments)
case"findMany":return this.normalizeFindManyResponse.apply(this,arguments)
case"query":return this.normalizeQueryResponse.apply(this,arguments)
case"createRecord":return this.normalizeCreateRecordResponse.apply(this,arguments)
case"deleteRecord":return this.normalizeDeleteRecordResponse.apply(this,arguments)
case"updateRecord":return this.normalizeUpdateRecordResponse.apply(this,arguments)}},normalizeFindRecordResponse:function(e,t,r,n,i){return this.normalizeSingleResponse.apply(this,arguments)},normalizeQueryRecordResponse:function(e,t,r,n,i){return this.normalizeSingleResponse.apply(this,arguments)},normalizeFindAllResponse:function(e,t,r,n,i){return this.normalizeArrayResponse.apply(this,arguments)},normalizeFindBelongsToResponse:function(e,t,r,n,i){return this.normalizeSingleResponse.apply(this,arguments)},normalizeFindHasManyResponse:function(e,t,r,n,i){return this.normalizeArrayResponse.apply(this,arguments)},normalizeFindManyResponse:function(e,t,r,n,i){return this.normalizeArrayResponse.apply(this,arguments)},normalizeQueryResponse:function(e,t,r,n,i){return this.normalizeArrayResponse.apply(this,arguments)},normalizeCreateRecordResponse:function(e,t,r,n,i){return this.normalizeSaveResponse.apply(this,arguments)},normalizeDeleteRecordResponse:function(e,t,r,n,i){return this.normalizeSaveResponse.apply(this,arguments)},normalizeUpdateRecordResponse:function(e,t,r,n,i){return this.normalizeSaveResponse.apply(this,arguments)},normalizeSaveResponse:function(e,t,r,n,i){return this.normalizeSingleResponse.apply(this,arguments)},normalizeSingleResponse:function(e,t,r,n,i){return this._normalizeResponse(e,t,r,n,i,!0)},normalizeArrayResponse:function(e,t,r,n,i){return this._normalizeResponse(e,t,r,n,i,!1)},_normalizeResponse:function(e,t,r,n,i,a){var o={data:null,included:[]},s=this.extractMeta(e,t,r)
if(s&&(o.meta=s),a){var l=this.normalize(t,r),u=l.data,d=l.included
o.data=u,d&&(o.included=d)}else{for(var c=new Array(r.length),f=0,p=r.length;f<p;f++){var m,h=r[f],g=this.normalize(t,h),v=g.data,y=g.included
if(y)(m=o.included).push.apply(m,y)
c[f]=v}o.data=c}return o},normalize:function(e,t){var r=null
return t&&(this.normalizeUsingDeclaredMapping(e,t),"object"===Ember.typeOf(t.links)&&this.normalizeUsingDeclaredMapping(e,t.links),r={id:this.extractId(e,t),type:e.modelName,attributes:this.extractAttributes(e,t),relationships:this.extractRelationships(e,t)},this.applyTransforms(e,r.attributes)),{data:r}},extractId:function(e,t){var i=t[n(this,"primaryKey")]
return(0,r.coerceId)(i)},extractAttributes:function(e,t){var r=this,n=void 0,i={}
return e.eachAttribute(function(e){n=r.keyForAttribute(e,"deserialize"),void 0!==t[n]&&(i[e]=t[n])}),i},extractRelationship:function(e,t){if(Ember.isNone(t))return null
if("object"===Ember.typeOf(t)){t.id&&(t.id=(0,r.coerceId)(t.id))
var n=this.store.modelFor(e)
if(t.type&&!(0,r.modelHasAttributeOrRelationshipNamedType)(n))if((0,r.isEnabled)("ds-payload-type-hooks")){var i=this.modelNameFromPayloadType(t.type),a=this.modelNameFromPayloadKey(t.type)
i!==a&&this._hasCustomModelNameFromPayloadKey()&&(i=a),t.type=i}else t.type=this.modelNameFromPayloadKey(t.type)
return t}return{id:(0,r.coerceId)(t),type:e}},extractPolymorphicRelationship:function(e,t,r){return this.extractRelationship(e,t)},extractRelationships:function(e,t){var r=this,n={}
return e.eachRelationship(function(e,i){var a=null,o=r.keyForRelationship(e,i.kind,"deserialize")
if(void 0!==t[o]){var s=null,l=t[o]
if("belongsTo"===i.kind)s=i.options.polymorphic?r.extractPolymorphicRelationship(i.type,l,{key:e,resourceHash:t,relationshipMeta:i}):r.extractRelationship(i.type,l)
else if("hasMany"===i.kind&&!Ember.isNone(l)){s=new Array(l.length)
for(var u=0,d=l.length;u<d;u++){var c=l[u]
s[u]=r.extractRelationship(i.type,c)}}a={data:s}}var f=r.keyForLink(e,i.kind)
if(t.links&&void 0!==t.links[f]){var p=t.links[f];(a=a||{}).links={related:p}}a&&(n[e]=a)}),n},modelNameFromPayloadKey:function(e){return(0,r.normalizeModelName)(e)},normalizeRelationships:function(e,t){var r=this,n=void 0
this.keyForRelationship&&e.eachRelationship(function(e,i){e!==(n=r.keyForRelationship(e,i.kind,"deserialize"))&&void 0!==t[n]&&(t[e]=t[n],delete t[n])})},normalizeUsingDeclaredMapping:function(e,t){var r=n(this,"attrs"),i=void 0,a=void 0
if(r)for(var o in r)i=a=this._getMappedKey(o,e),void 0!==t[a]&&(n(e,"attributes").has(o)&&(i=this.keyForAttribute(o)),n(e,"relationshipsByName").has(o)&&(i=this.keyForRelationship(o)),a!==i&&(t[i]=t[a],delete t[a]))},_getMappedKey:function(e,t){var r=n(this,"attrs"),i=void 0
return r&&r[e]&&((i=r[e]).key&&(i=i.key),"string"==typeof i&&(e=i)),e},_canSerialize:function(e){var t=n(this,"attrs")
return!t||!t[e]||!1!==t[e].serialize},_mustSerialize:function(e){var t=n(this,"attrs")
return t&&t[e]&&!0===t[e].serialize},shouldSerializeHasMany:function(e,t,r){return this._shouldSerializeHasMany,o.prototype._shouldSerializeHasMany,this._shouldSerializeHasMany(e,t,r)},_shouldSerializeHasMany:function(e,t,r){var n=e.type.determineRelationshipType(r,this.store)
return!!this._mustSerialize(t)||this._canSerialize(t)&&("manyToNone"===n||"manyToMany"===n)},serialize:function(e,t){var i=this,a={}
if(t&&t.includeId)if((0,r.isEnabled)("ds-serialize-id"))this.serializeId(e,a,n(this,"primaryKey"))
else{var o=e.id
o&&(a[n(this,"primaryKey")]=o)}return e.eachAttribute(function(t,r){i.serializeAttribute(e,a,t,r)}),e.eachRelationship(function(t,r){"belongsTo"===r.kind?i.serializeBelongsTo(e,a,r):"hasMany"===r.kind&&i.serializeHasMany(e,a,r)}),a},serializeIntoHash:function(e,t,r,n){a(e,this.serialize(r,n))},serializeAttribute:function(e,t,r,n){if(this._canSerialize(r)){var i=n.type,a=e.attr(r)
if(i)a=this.transformFor(i).serialize(a,n.options)
var o=this._getMappedKey(r,e.type)
o===r&&this.keyForAttribute&&(o=this.keyForAttribute(r,"serialize")),t[o]=a}},serializeBelongsTo:function(e,t,r){var n=r.key
if(this._canSerialize(n)){var a=e.belongsTo(n,{id:!0}),o=this._getMappedKey(n,e.type)
o===n&&this.keyForRelationship&&(o=this.keyForRelationship(n,"belongsTo","serialize")),i(a)?t[o]=null:t[o]=a,r.options.polymorphic&&this.serializePolymorphicType(e,t,r)}},serializeHasMany:function(e,t,n){var i=n.key,a="_shouldSerializeHasMany"
if((0,r.isEnabled)("ds-check-should-serialize-relationships")&&(a="shouldSerializeHasMany"),this[a](e,i,n)){var o=e.hasMany(i,{ids:!0})
if(void 0!==o){var s=this._getMappedKey(i,e.type)
s===i&&this.keyForRelationship&&(s=this.keyForRelationship(i,"hasMany","serialize")),t[s]=o}}},serializePolymorphicType:function(){},extractMeta:function(e,t,r){if(r&&void 0!==r.meta){var n=r.meta
return delete r.meta,n}},extractErrors:function(e,t,n,i){var a=this
return n&&"object"==typeof n&&n.errors&&(n=(0,r.errorsArrayToHash)(n.errors),this.normalizeUsingDeclaredMapping(t,n),t.eachAttribute(function(e){var t=a.keyForAttribute(e,"deserialize")
t!==e&&void 0!==n[t]&&(n[e]=n[t],delete n[t])}),t.eachRelationship(function(e){var t=a.keyForRelationship(e,"deserialize")
t!==e&&void 0!==n[t]&&(n[e]=n[t],delete n[t])})),n},keyForAttribute:function(e,t){return e},keyForRelationship:function(e,t,r){return e},keyForLink:function(e,t){return e},transformFor:function(e,t){var n=(0,r.getOwner)(this).lookup("transform:"+e)
return n}});(0,r.isEnabled)("ds-payload-type-hooks")&&o.reopen({modelNameFromPayloadType:function(e){return(0,r.normalizeModelName)(e)},_hasCustomModelNameFromPayloadKey:function(){return this.modelNameFromPayloadKey!==o.prototype.modelNameFromPayloadKey}}),(0,r.isEnabled)("ds-serialize-id")&&o.reopen({serializeId:function(e,t,r){var n=e.id
n&&(t[r]=n)}}),e.default=o}),define("ember-data/serializers/rest",["exports","ember-inflector","ember-data/serializers/json","ember-data/-private"],function(e,t,r,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var i=Ember.String.camelize,a=r.default.extend({keyForPolymorphicType:function(e,t,r){return this.keyForRelationship(e)+"Type"},normalize:function(e,t,r){return this.normalizeHash&&this.normalizeHash[r]&&this.normalizeHash[r](t),this._super(e,t)},_normalizeArray:function(e,t,r,n){var i=this,a={data:[],included:[]},o=e.modelFor(t),s=e.serializerFor(t)
return Ember.makeArray(r).forEach(function(t){var r,l=i._normalizePolymorphicRecord(e,t,n,o,s),u=l.data,d=l.included;(a.data.push(u),d)&&(r=a.included).push.apply(r,d)}),a},_normalizePolymorphicRecord:function(e,t,r,i,a){var o=a,s=i
if(!(0,n.modelHasAttributeOrRelationshipNamedType)(i)&&t.type){var l=void 0
if((0,n.isEnabled)("ds-payload-type-hooks")){l=this.modelNameFromPayloadType(t.type)
var u=this.modelNameFromPayloadKey(t.type)
l!==u&&!this._hasCustomModelNameFromPayloadType()&&this._hasCustomModelNameFromPayloadKey()&&(l=u)}else l=this.modelNameFromPayloadKey(t.type)
e._hasModelFor(l)&&(o=e.serializerFor(l),s=e.modelFor(l))}return o.normalize(s,t,r)},_normalizeResponse:function(e,t,r,i,a,o){var s={data:null,included:[]},l=this.extractMeta(e,t,r)
l&&(s.meta=l)
for(var u=Object.keys(r),d=0,c=u.length;d<c;d++){var f=u[d],p=f,m=!1
"_"===f.charAt(0)&&(m=!0,p=f.substr(1))
var h=this.modelNameFromPayloadKey(p)
if(e.modelFactoryFor(h)){var g=!m&&this.isPrimaryType(e,h,t),v=r[f]
if(null!==v)if(!g||Array.isArray(v)){var y,b,_=this._normalizeArray(e,h,v,f),I=_.data,C=_.included
if(C)(y=s.included).push.apply(y,C)
if(o)I.forEach(function(e){var t=g&&(0,n.coerceId)(e.id)===i
g&&!i&&!s.data||t?s.data=e:s.included.push(e)})
else if(g)s.data=I
else if(I)(b=s.included).push.apply(b,I)}else{var P,w=this._normalizePolymorphicRecord(e,v,f,t,this),E=w.data,T=w.included
s.data=E,T&&(P=s.included).push.apply(P,T)}}}return s},isPrimaryType:function(e,t,r){return e.modelFor(t)===r},pushPayload:function(e,t){var r={data:[],included:[]}
for(var i in t){var a=this.modelNameFromPayloadKey(i)
if(e.modelFactoryFor(a)){var o=e.modelFor(a),s=e.serializerFor(o.modelName)
Ember.makeArray(t[i]).forEach(function(e){var t,n=s.normalize(o,e,i),a=n.data,l=n.included;(r.data.push(a),l)&&(t=r.included).push.apply(t,l)})}}if((0,n.isEnabled)("ds-pushpayload-return"))return e.push(r)
e.push(r)},modelNameFromPayloadKey:function(e){return(0,t.singularize)((0,n.normalizeModelName)(e))},serialize:function(e,t){return this._super.apply(this,arguments)},serializeIntoHash:function(e,t,r,n){e[this.payloadKeyFromModelName(t.modelName)]=this.serialize(r,n)},payloadKeyFromModelName:function(e){return i(e)},serializePolymorphicType:function(e,t,r){var o=r.key,s=this.keyForPolymorphicType(o,r.type,"serialize"),l=e.belongsTo(o)
o=this.keyForAttribute?this.keyForAttribute(o,"serialize"):o,(o+="Type")!==s&&this.keyForPolymorphicType===a.prototype.keyForPolymorphicType&&(s=o),Ember.isNone(l)?t[s]=null:(0,n.isEnabled)("ds-payload-type-hooks")?t[s]=this.payloadTypeFromModelName(l.modelName):t[s]=i(l.modelName)},extractPolymorphicRelationship:function(e,t,r){var i=r.key,a=r.resourceHash,o=r.relationshipMeta.options.polymorphic,s=this.keyForPolymorphicType(i,e,"deserialize")
if(o&&void 0!==a[s]&&"object"!=typeof t){if((0,n.isEnabled)("ds-payload-type-hooks")){var l=a[s],u=this.modelNameFromPayloadType(l),d=this.modelNameFromPayloadKey(l)
return l!==d&&!this._hasCustomModelNameFromPayloadType()&&this._hasCustomModelNameFromPayloadKey()&&(u=d),{id:t,type:u}}return{id:t,type:this.modelNameFromPayloadKey(a[s])}}return this._super.apply(this,arguments)}});(0,n.isEnabled)("ds-payload-type-hooks")&&a.reopen({modelNameFromPayloadType:function(e){return(0,t.singularize)((0,n.normalizeModelName)(e))},payloadTypeFromModelName:function(e){return i(e)},_hasCustomModelNameFromPayloadKey:function(){return this.modelNameFromPayloadKey!==a.prototype.modelNameFromPayloadKey},_hasCustomModelNameFromPayloadType:function(){return this.modelNameFromPayloadType!==a.prototype.modelNameFromPayloadType},_hasCustomPayloadTypeFromModelName:function(){return this.payloadTypeFromModelName!==a.prototype.payloadTypeFromModelName},_hasCustomPayloadKeyFromModelName:function(){return this.payloadKeyFromModelName!==a.prototype.payloadKeyFromModelName}}),e.default=a}),define("ember-data/setup-container",["exports","ember-data/-private","ember-data/serializers/json-api","ember-data/serializers/json","ember-data/serializers/rest","ember-data/adapters/json-api","ember-data/adapters/rest","ember-data/transforms/number","ember-data/transforms/date","ember-data/transforms/string","ember-data/transforms/boolean"],function(e,t,r,n,i,a,o,s,l,u,d){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){c=e,c.register("data-adapter:main",t.DebugAdapter),function(e){e.register("transform:boolean",d.default),e.register("transform:date",l.default),e.register("transform:number",s.default),e.register("transform:string",u.default)}(e),function(e){var t=e.inject||e.injection
t.call(e,"controller","store","service:store"),t.call(e,"route","store","service:store"),t.call(e,"data-adapter","store","service:store")}(e),function(e){var s=e.registerOptionsForType||e.optionsForType
s.call(e,"serializer",{singleton:!1}),s.call(e,"adapter",{singleton:!1}),e.register("serializer:-default",n.default),e.register("serializer:-rest",i.default),e.register("adapter:-rest",o.default),e.register("adapter:-json-api",a.default),e.register("serializer:-json-api",r.default),l=e,u="service:store",(l.has?l.has(u):l.hasRegistration(u))||e.register("service:store",t.Store)
var l,u}(e)
var c}}),define("ember-data/store",["exports","ember-data/-private"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.Store}})}),define("ember-data/transform",["exports","ember-data/transforms/transform"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})}),define("ember-data/transforms/boolean",["exports","ember-data/transforms/transform"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var r=Ember.isNone
e.default=t.default.extend({deserialize:function(e,t){var n=typeof e
return r(e)&&!0===t.allowNull?null:"boolean"===n?e:"string"===n?null!==e.match(/^true$|^t$|^1$/i):"number"===n&&1===e},serialize:function(e,t){return r(e)&&!0===t.allowNull?null:Boolean(e)}})}),define("ember-data/transforms/date",["exports","ember-data/transforms/transform"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),Ember.Date=Ember.Date||{},Ember.Date.parse=function(e){return Date.parse(e)},e.default=t.default.extend({deserialize:function(e){var t=typeof e
if("string"===t){var r=e.indexOf("+")
return-1!==r&&e.length-3===r?new Date(e+":00"):-1!==r&&e.length-5===r?(r+=3,new Date(e.slice(0,r)+":"+e.slice(r))):new Date(e)}return"number"===t?new Date(e):null===e||void 0===e?e:null},serialize:function(e){return e instanceof Date&&!isNaN(e)?e.toISOString():null}})}),define("ember-data/transforms/number",["exports","ember-data/transforms/transform"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var r=Ember.isEmpty
function n(e){return e==e&&e!==1/0&&e!==-1/0}e.default=t.default.extend({deserialize:function(e){var t=void 0
return r(e)?null:n(t=Number(e))?t:null},serialize:function(e){var t=void 0
return r(e)?null:n(t=Number(e))?t:null}})}),define("ember-data/transforms/string",["exports","ember-data/transforms/transform"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var r=Ember.isNone
e.default=t.default.extend({deserialize:function(e){return r(e)?null:String(e)},serialize:function(e){return r(e)?null:String(e)}})}),define("ember-data/transforms/transform",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Object.extend({serialize:null,deserialize:null})}),define("ember-data/version",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default="2.16.4"}),define("sfw-components/components/add-payment-instrument-form",["exports","sfw-components/templates/components/add-payment-instrument-form"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({layout:t.default,tagName:""})}),define("sfw-components/components/bullet-list",["exports","sfw-components/templates/components/bullet-list"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({layout:t.default})}),define("sfw-components/components/button-dropdown",["exports","sfw-components/templates/components/button-dropdown"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({layout:t.default,classNames:["dropdown"],inlineStyle:Ember.String.htmlSafe(""),actions:{selectItem:function(e){var t=this.setSelectedItem(e)
this.send("toggleOptions"),t&&this.sendAction("change",this.get("pidlModelObj")),this.focusButton()},toggleOptions:function(){if(!this.get("isDisabled")){var e=this.get("pidl_blend_id"),t=$("#"+e)
t&&t.length&&t.parent&&(t=t.parent())&&t.toggleClass&&(t.toggleClass("open"),this.set("isExpanded",t.hasClass("open")),this.scrollToSelectedItem(!0),this.focusSelectedItem())}}},focusButton:function(){$("#"+this.get("pidl_blend_id")).focus()},closeOptions:function(){var e=$("#"+this.get("pidl_blend_id"))
e&&e.length&&e.parent&&(e=e.parent())&&e.removeClass&&e.removeClass("open")},setButtonVal:function(){var e=this.get("pidl_blend_id"),t=$("#"+e)
if(t&&t.length){var r=this.get("selectedItem")
t.val(r)}},searchTerm:null,multiCharTermFound:null,lastKeyStrokeTime:null,menuContainerControl:function(){var e=this.get("isOneUi")?"_menu":"_menu_container"
return $("#"+this.get("pidl_blend_id")+e)},setupEventHandlers:function(){var e=this
if(!e.get("isDisabled")){var t=$("#"+this.get("pidl_blend_id")),r=this.menuContainerControl(),n=$("#"+this.get("pidl_blend_id")+"_outer_container"),i=$("#"+this.get("pidl_blend_id")+"_menu a");[r,t,n].forEach(function(t){t.focusout(function(t){var r=t&&t.relatedTarget&&t.relatedTarget.id,n=t&&t.relatedTarget&&t.relatedTarget.firstElementChild&&t.relatedTarget.firstElementChild.id
r||(r=window.getSelection&&window.getSelection()&&window.getSelection().rangeCount&&window.getSelection().getRangeAt(0)&&window.getSelection().getRangeAt(0).startContainer&&window.getSelection().getRangeAt(0).startContainer.parentElement&&window.getSelection().getRangeAt(0).startContainer.parentElement.id),r&&r.startsWithIgnoreCase&&r.startsWithIgnoreCase(e.get("pidl_blend_id"))||n===e.get("pidl_blend_id")||(e.closeOptions(),e.sendAction("focusOut",e.get("pidlModelObj")))})}),i.keyup(function(t){var r=!0
if(e.get("content")){switch(t.keyCode){case 196:r=!1,e.send("toggleOptions"),e.focusButton()}return r}}),i.keydown(function(t){var r=e.get("content")
if(r){var n=!0,i=!1
switch(t.keyCode){case 13:var a=$("#"+e.get("pidl_blend_id")+"_menu a:focus")
if(a.prop("id")){var o=a.prop("id").replace(e.get("pidl_blend_id")+"_menuItem_",""),s=r.find(function(e){return e.id===o})
return e.send("selectItem",s),!1}break
case 40:(i=e.selectNextItem(t.altKey))&&e.focusSelectedItem(),n=!1
break
case 38:(i=e.selectPreviousItem(t.altKey))&&e.focusSelectedItem(),n=!1}if(i){var l=e.get("pidlModelObj.data_description.is_key")
e.sendAction("change",e.get("pidlModelObj"),l,l)}return n}}),t.keydown(function(t){var r=!0
if(!e.get("content"))return r
var n=!1
switch(t.keyCode){case 40:n=e.selectNextItem(t.altKey),r=!1
break
case 38:n=e.selectPreviousItem(t.altKey),r=!1}if(n){var i=e.get("pidlModelObj.data_description.is_key")
e.sendAction("change",e.get("pidlModelObj"),i,i)}return r}),t.keypress(a()),i.keypress(a(!0))}function a(t){return function(r){var n=!1,i=e.get("content")
if(i){(!e.lastKeyStrokeTime||Date.now()-e.lastKeyStrokeTime>750)&&(e.searchTerm="",e.multiCharTermFound=!1)
var a=r.key||String.fromCharCode(r.which||r.keyCode)
e.lastKeyStrokeTime=Date.now(),e.searchTerm=e.searchTerm+a
for(var o,s=e.selectedItem?e.selectedItem.index:-1,l=0;l<=i.length;l++){var u=(l+Math.max(0,s)+(e.multiCharTermFound?0:1))%i.length,d=i[u],c=u===s
if(d.label.startsWithIgnoreCase(e.searchTerm)){e.multiCharTermFound=e.searchTerm.length>1,n=e.setSelectedItem(d),t&&$("#"+e.get("pidl_blend_id")+"_menuItem_"+d.id).focus(),o=null
break}c||o||e.multiCharTermFound||!d.label.startsWithIgnoreCase(a)||(o=d)}if(o&&(n=e.setSelectedItem(o),e.searchTerm="",e.multiCharTermFound=!1,t&&$("#"+e.get("pidl_blend_id")+"_menuItem_"+o.id).focus()),n){var f=e.get("pidlModelObj.data_description.is_key")
e.sendAction("change",e.get("pidlModelObj"),f,f)}}}}},initializeComponent:function(){this.setButtonVal(),this.setupEventHandlers()},init:function(){if(this._super(arguments),!this.get("inner_content")){var e=this.get("initialContent"),t=this.get("prompt"),r=this.get("pidlModelObj.data_value")
this._initializeContent(e,t,r)}},didInsertElement:function(){this._super(arguments),Ember.run.scheduleOnce("afterRender",this,this.initializeComponent)
var e=this.get("selectedItem")
Ember.run.scheduleOnce("afterRender",this,this.setSelectedItem,e)},_initializeContent:function(e,t,r){if(e&&e.length){t&&""!==e[0].id&&(e=$.merge([{id:"",label:t}],e))
for(var n=r&&r.toLowerCase,i=n&&r.toLowerCase(),a=e[0],o=function(e){return function(){return e}},s=0;s<e.length;s++){var l=e[s]
l.index=s,l.isSelected=!1,l.toString=o(l.id),l.id&&l.id.toLowerCase&&n&&l.id.toLowerCase()===i&&(a=l)}this.set("inner_content",e),this.setSelectedItem(a,!0)}},pidl_blend_id:"pidl_blend_id_placeholder",pidl_blend_error_id:"pidl_blend_error_id_placeholder",defaultValue:null,data_value:null,pidlModelObj:null,isDisabled:!1,selectedItem:null,isFirstScrollToSelectedItem:!0,scrollToSelectedItem:function(e){if(e){if(!this.isFirstScrollToSelectedItem)return
this.isFirstScrollToSelectedItem=!1}var t=this.menuContainerControl(),r=$("li.active",t)
if(r.length>0){var n=t.scrollTop()+r.first().offset().top-t.offset().top
t.scrollTop(n)}},selectNextItem:function(e){var t=!1,r=this.get("content")
if(!r)return t
if(e)this.send("toggleOptions")
else if(this.selectedItem){var n=this.selectedItem.index+1
n<r.length&&(t=this.setSelectedItem(r[n]))}else t=this.setSelectedItem(r[0])
return t},selectPreviousItem:function(e){var t=!1,r=this.get("content")
if(!r)return t
if(e)this.send("toggleOptions")
else if(this.selectedItem){var n=this.selectedItem.index-1
n>=0&&(t=this.setSelectedItem(r[n]))}else t=this.setSelectedItem(r[0])
return t},focusSelectedItem:function(){var e=this.menuContainerControl(),t=$("li.active a",e)
t.length>0&&t.focus()},setSelectedItem:function(e,t){var r=this.get("inner_content"),n=!1
if(r&&e){var i=$("#"+this.get("pidl_blend_id")+"_menu li")
i&&i.removeClass&&i.addClass&&(i.removeClass("active").addClass("inactive"),i.attr("aria-selected","false"))
for(var a=0;a<r.length;a++){var o=r[a]
if(e.id===o.id){var s=$("#"+this.get("pidl_blend_id")+"_menuItem_"+o.id)
if(s&&s.length&&s.parent){var l=s.parent()
l&&l.removeClass&&l.addClass&&(l.removeClass("inactive").addClass("active"),l.attr("aria-selected","true"))}this.set("selectedItem",o),this.set("data_value",o),t||this.set("pidlModelObj.data_value",e.id),n=!0,this.setButtonVal()
var u=$("#"+this.get("pidl_blend_id"))
this.get("ariaLabel")&&e.label&&u.attr("aria-label",this.get("ariaLabel")+" "+e.label)}}Ember.run.scheduleOnce("afterRender",this,this.scrollToSelectedItem)}return n},inner_content:null,content:Ember.computed("inner_content",function(){return this.get("inner_content")}),isExpanded:Ember.computed(function(){return!1}),isOneUi:Ember.computed(function(){return"oneui"===EmberENV.styles}),role:Ember.computed("isDisabled",function(){return this.get("isDisabled")?"button":"combobox"}),hasPopup:Ember.computed("isDisabled",function(){return!this.get("isDisabled")})})}),define("sfw-components/components/collapsible-content",["exports","sfw-components/templates/components/collapsible-content","sfw-components/utils/more-less"],function(e,t,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({layout:t.default,disabled:!1,isExpanded:!1,enableToggleButton:!1,isCheckout:!1,actions:{toggleTextView:function(){this.toggleProperty("isExpanded")}},didRender:function(){this._super(arguments),this.get("disabled")||(0,r.default)(this.$(".collapsibleContent"),this.$(".moreLessToggle"))&&this.set("enableToggleButton",!1)},didInsertElement:function(){this.get("isCheckout")||(this.handleContentResize=function(){(0,r.default)(this.$(".collapsibleContent"),this.$(".moreLessToggle"))?this.set("enableToggleButton",!1):!(0,r.default)(this.$(".collapsibleContent"),this.$(".moreLessToggle"))&&this.get("enableToggleButton")&&this.set("enableToggleButton",!1)},Ember.run.next(this,this.handleContentResize),$(window).on("resize",Ember.run.bind(this,this.handleContentResize)))},willDestroyElement:function(){this.get("isCheckout")||(this._super(arguments),$(window).off("resize"))},moreLessToggleText:Ember.computed("isExpanded",function(){return this.get("isExpanded")?this.get("strings.Shared_Label_Less"):this.get("strings.Shared_Label_More")}),moreLessToggleReader:Ember.computed("isExpanded",function(){return this.get("isExpanded")?this.get("strings.Shared_Label_Less_Reader"):this.get("strings.Shared_Label_More_Reader")})})}),define("sfw-components/components/contact-preference",["exports","sfw-components/templates/components/contact-preference","sfw-telemetry/utils/start-data","sfw-components/utils/template-tokenizer","sfw-messaging/utils/open-url","sfw-telemetry/utils/blend-bi-tracker","sfw-services/utils/constant-links"],function(e,t,r,n,i,a,o){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({contactPreference:Ember.inject.service(),classNames:["contactPreferenceContainer"],layout:t.default,orderLineItems:null,product:null,hidePrivacyStatement:!1,topicIds:null,init:function(){this._super.apply(this,arguments)
var e=this.get("contactPreference").initialize(this.get("topicIds"),this.get("orderLineItems"),this.get("product"))
this.set("topicIds",e)},choiceType:Ember.computed.alias("contactPreference.choiceType"),isChecked:Ember.computed.equal("choiceType","optOut"),showCheckbox:Ember.computed("choiceType",function(){var e=this.get("choiceType")
return"optIn"===e||"optOut"===e}),showNotice:Ember.computed.equal("choiceType","notice"),privacyStatement:Ember.computed(function(){var e=r.default.get().Market.toUpperCase(),t=this.get("strings")
return"DE"===e||"CA"===e?n.default.tokenize(t.See_Link,["0"],function(){return t.Microsoft_Privacy_Statement_Title},function(e){return e.id="privacyStatement",e.biContentName="Privacy Statement",e.css="cli_privacyStatement",e.url=o.default.get().privacyStatement,e}):null}),actions:{onChange:function(e){if(e=e||window.event){var t=e.target||e.srcElement
t&&this.send("updateContactPreference",t.checked),t.checked?t.setAttribute("aria-checked",!0):t.setAttribute("aria-checked",!1)}else this.send("updateContactPreference",$("#contactPreference").is(":checked"))
return!0},updateContactPreference:function(e){this.set("contactPreference.state",e?"optInExplicit":"optOut"),this.set("contactPreference.checkBoxVal",e)
var t={name:"ContactPreferenceClicked",action:e?"OptIn":"OptOut"}
a.default.captureContentPageAction(t)},privacyStatement:function(e){i.default.open(e,"privacyStatement")}}})}),define("sfw-components/components/credit-card-icons",["exports","sfw-components/templates/components/credit-card-icons"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({layout:t.default,classNames:["supportedCardTypes"]})}),define("sfw-components/components/fingerprint-tagging",["exports","sfw-services/utils/external-urls","sfw-telemetry/utils/blend-bi-tracker","sfw-components/templates/components/fingerprint-tagging","sfw-telemetry/utils/flight-config","sfw-telemetry/utils/start-data"],function(e,t,r,n,i,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({layout:n.default,tagName:"span",sessionId:null,tagType:null,taggingUrl:Ember.computed("sessionId",function(){var e=this.get("sessionId")
return t.default.get("FingerprintTaggingUrl").replace({sessionId:e}).toString()}),isRTL:Ember.computed(function(){return i.default.isEnabled("iframertlfix")&&"RTL".equalsIgnoreCase(a.default.get().TextDirection)}),initTime:null,didReceiveAttrs:function(){this._super(arguments)
var e=this.get("sessionId"),t=this.get("taggingUrl")
this.set("initTime",new Date),r.default.captureContentPageAction({name:"FingerprintTaggingIframeInit"},{sessionId:e,taggingUrl:t})},willDestroyElement:function(){this._super(arguments)
var e=this.get("sessionId"),t=this.get("taggingUrl"),n=new Date-this.get("initTime")
r.default.captureContentPageAction({name:"FingerprintTaggingIframeTeardown"},{sessionId:e,taggingUrl:t,viewTimeMilliseconds:n})}})}),define("sfw-components/components/formatted-price",["exports","sfw-telemetry/utils/start-data","sfw-services/services/format-currency","sfw-services/utils/currency-formatter","sfw-components/templates/components/formatted-price","sfw-telemetry/utils/flight-config"],function(e,t,r,n,i,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({layout:i.default,tagName:"span",number:null,currencyCode:null,formattedPriceDisplay:null,displayFormat:"{formattedPriceDisplay}",didReceiveAttrs:function(){var e=this
if(a.default.isEnabled("newcurrencyformatting")){var i=this.get("number"),o=this.get("currencyCode"),s=t.default.get().Culture,l=t.default.get().Market,u=this.get("displayFormat")
u||(u="{formattedPriceDisplay}")
var d=void 0,c=function(){d=u.replace("{formattedPriceDisplay}",i+" "+o),e.get("isDestroying")||e.get("isDestroyed")||e.set("formattedPriceDisplay",d)},f=n.default.formatCurrency(i,o,s,l)
if(f)d=u.replace("{formattedPriceDisplay}",f),this.get("isDestroying")||this.get("isDestroyed")||this.set("formattedPriceDisplay",d)
else try{return r.default.get(i,o,s,l).then(function(t){t?(d=u.replace("{formattedPriceDisplay}",t.price),e.get("isDestroying")||e.get("isDestroyed")||e.set("formattedPriceDisplay",d)):c()},c)}catch(e){c()}}},formattedPricePromise:Ember.computed("number","displayFormat","currencyCode",function(){var e=this
if(a.default.isEnabled("newcurrencyformatting"))return!0
var i=this.get("number"),o=this.get("currencyCode"),s=this.get("displayFormat"),l=t.default.get().Culture,u=t.default.get().Market,d=void 0,c=function(){d=s.replace("{formattedPriceDisplay}",i+" "+o),e.get("isDestroying")||e.get("isDestroyed")||e.set("formattedPriceDisplay",d)},f=n.default.formatCurrency(i,o,l,u)
if(f)d=s.replace("{formattedPriceDisplay}",f),this.get("isDestroying")||this.get("isDestroyed")||this.set("formattedPriceDisplay",d)
else try{return r.default.get(i,o,l,u).then(function(t){t?(d=s.replace("{formattedPriceDisplay}",t.price),e.get("isDestroying")||e.get("isDestroyed")||e.set("formattedPriceDisplay",d)):c()},c)}catch(e){c()}return!0})})}),define("sfw-components/components/item-price-info-monthlyequivalent",["exports","sfw-services/utils/currency-formatter","sfw-components/templates/components/item-price-info-monthlyequivalent","sfw-components/components/item-price-info-subscription","sfw-services/services/format-currency","sfw-telemetry/utils/flight-config"],function(e,t,r,n,i,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=n.default.extend({layout:r.default,order:null,monthlyEquivalentPrice:null,perMonthPriceFormat:null,isReadyToPurchase:Ember.computed("order.isCheckingOut",function(){return this.get("order.isCheckingOut")}),didReceiveAttrs:function(){var e=this
if(a.default.isEnabled("newcurrencyformatting")){var r=this.get("orderLineItem.listPrice")
t.default.formatMonthlyEquivalentPriceNew(r,this.get("orderLineItem.currencyCode"),null,null,i.default).then(function(t){var r=e.get("strings.Purchase_Label_Office_MonthlyEquivalentPrice_Explanation_Formatted").replace("{0}",e.get("strings.Purchase_Label_Office_MonthlyEquivalentPrice_Formatted").replace("{0}",t))
e.set("monthlyEquivalentPrice",r)
var n=e.get("strings.Purchase_Label_Office_MonthlyEquivalentPrice_Formatted").replace("{0}",t)
e.set("perMonthPriceFormat",n)})}else{var n=this.get("orderLineItem.listPrice"),o=this.get("strings.Purchase_Label_Office_MonthlyEquivalentPrice_Formatted").replace("{0}",t.default.formatMonthlyEquivalentPrice(n,this.get("orderLineItem.currencyCode"),null,null,i.default))
this.set("perMonthPriceFormat",o)
var s=this.get("strings.Purchase_Label_Office_MonthlyEquivalentPrice_Explanation_Formatted").replace("{0}",this.get("strings.Purchase_Label_Office_MonthlyEquivalentPrice_Formatted").replace("{0}",t.default.formatMonthlyEquivalentPrice(n,this.get("orderLineItem.currencyCode"),null,null,i.default)))
this.set("monthlyEquivalentPrice",s)}},productTitle:Ember.computed("orderLineItem",function(){return this.get("orderLineItem.displayTitle")})})})
define("sfw-components/components/item-price-info-subscription",["exports","sfw-components/templates/components/item-price-info-subscription","sfw-components/components/item-price-info","sfw-telemetry/utils/start-data","sfw-components/utils/time-unit-mapping","sfw-telemetry/utils/flight-config"],function(e,t,r,n,i,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=r.default.extend({layout:t.default,displayMetaContainer:Ember.computed("trialDuration","priceWithTaxLegend","renewalInfo","orderLineItem",function(){if(this.get("orderLineItem.isOmexProduct")&&this.get("orderLineItem.hasDiscountedInitialPeriod"))return!1
var e=this.get("priceWithTaxLegend"),t=this.get("renewalInfo")
return!(!n.default.get().OfferType||!n.default.get().OfferType.equalsIgnoreCase("turnonautorenewal"))||(!(!this.get("showBonusTime")||!e)||(e&&t?e.price!==parseFloat(t.price):!(!this.get("trialDuration")||!e)||t))}),renewalPromo:Ember.computed(function(){return n.default.get().OfferType&&n.default.get().OfferType.equalsIgnoreCase("turnonautorenewal")?this.get("strings.Auto_Renewal_Subscription_One_Month_Free"):null}),autoRenewalTitle:Ember.computed(function(){return n.default.get().OfferType&&n.default.get().OfferType.equalsIgnoreCase("turnonautorenewal")?this.get("strings.Turn_On_Auto_Renewal_Title"):null}),priceWithTaxLegend:Ember.computed("orderLineItem","isPiRequired",function(){var e=this.get("orderLineItem")
return this.get("isPiRequired")?0===e.get("listPrice")?null:e.get("formattedListPrice"):null}),renewalInfo:Ember.computed.oneWay("orderLineItem.formattedRenewalPriceInfo"),trialDuration:Ember.computed("orderLineItem",function(){return this.get("orderLineItem.webBlendsData.TrialDurationString")||""}),showBonusTime:Ember.computed("orderLineItem",function(){return this.get("orderLineItem.isBonusTime")}),bonusTimeSubtitle:Ember.computed("orderLineItem",function(){return this.get("strings.Purchase_Subscription_BonusTime_Subtitle").replace("{0}",this.get("orderLineItem.durationTimeUnitRecurrence")).replace("{1}",(0,i.default)(this.get("orderLineItem.durationTimeUnitTypeRecurrence")))}),showRenewalPriceFormat:Ember.computed("renewalInfo","orderLineItem",function(){return!(!this.get("orderLineItem.isSubscriptionItem")||this.get("orderLineItem.isDiscounted")||this.get("orderLineItem.isSubscriptionTrial")||!this.get("renewalInfo")||this.get("orderLineItem.isPriceVariant")||!a.default.isEnabled("renewalpriceformat")||this.get("orderLineItem.hasPromotionalDuration"))})})}),define("sfw-components/components/item-price-info",["exports","sfw-components/templates/components/item-price-info","sfw-components/utils/time-unit-mapping"],function(e,t,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({layout:t.default,orderLineItem:null,consumableQuantity:Ember.computed("orderLineItem",function(){var e=this.get("orderLineItem.consumableQuantity")
return!!(this.get("orderLineItem.isManagedConsumable")&&e>1)&&this.get("strings.Purchase_Label_Quantity")+" "+e}),displayMetaContainer:Ember.computed("consumableQuantity","lineItemQuantity","lineItemUnitPrice",function(){return this.get("consumableQuantity")||this.get("lineItemQuantity")||this.get("lineItemUnitPrice")||this.get("showDuration")}),isPiRequired:Ember.computed.oneWay("orderLineItem.isPIRequired"),lineItemQuantity:Ember.computed.oneWay("orderLineItem.formattedQuantity"),lineItemUnitPrice:Ember.computed.oneWay("orderLineItem.formattedUnitPrice"),priceWithTaxLegend:Ember.computed.oneWay("orderLineItem.formattedListPrice"),isGift:Ember.computed("orderLineItem.giftee",function(){return!!this.get("orderLineItem.giftee")}),showDuration:Ember.computed("orderLineItem",function(){return this.get("orderLineItem.durationRequired")}),durationTimeSubtitle:Ember.computed("orderLineItem",function(){return this.get("strings.Purchase_Subscription_DurationTime_Subtitle").replace("{0}",this.get("orderLineItem.durationTimeUnit")).replace("{1}",(0,r.default)(this.get("orderLineItem.durationTimeUnitType")))})})}),define("sfw-components/components/legal-terms",["exports","sfw-components/templates/components/legal-terms","sfw-telemetry/utils/client","sfw-components/utils/product-types","sfw-telemetry/utils/start-data","sfw-components/utils/template-tokenizer","sfw-components/utils/time-unit-mapping","sfw-messaging/utils/open-terms","sfw-components/utils/legal-market-region","sfw-telemetry/utils/flight-config"],function(e,t,r,n,i,a,o,s,l,u){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({classNames:r.default.isSaturnDesktop()||r.default.isModernXboxClient()||r.default.isGamingApp()?["legal-terms"]:["legal-terms marginTop"],classNameBindings:["legal-terms"],layout:t.default,disableCollapse:!1,isCheckout:!1,useItemPriceTotal:!1,order:null,orderLineItem:null,actionText:null,isPiRequiredButFree:!1,actions:{clickToRedirect:function(e,t){this.sendAction("clickToRedirect",e,t)}},isXboxOne:Ember.computed(function(){return r.default.isXboxOneClient()}),expandByDefault:!0,tokenizedText:Ember.computed("order","orderLineItem","useItemPriceTotal","actionText","isPiRequiredButFree","getCancelDisclaimer",function(){var e=this,t=this.get("strings"),d=this.get("order.isPiRequired"),c=!!this.get("orderLineItem.giftee"),f=l.default.getRegion(),p=this.get("useItemPriceTotal")?this.get("orderLineItem.formattedItemTotalPrice"):this.get("order.formattedTotalPrice"),m=this.get("orderLineItem.formattedRenewalPriceInfo"),h=m||p,g=this.get("orderLineItem.formattedListPrice"),v=!!i.default.get().DeviceSerialNumber,y="",b=this.get("orderLineItem.discountedInitialPeriodDuration"),_=this.get("orderLineItem.promotionalCoreDuration"),I=_&&_.UnitType&&_.Units&&_.UnitType.equalsIgnoreCase("Month")&&1===_.Units,C=_&&_.UnitType&&_.Units&&_.UnitType.equalsIgnoreCase("Month")&&2===_.Units,P=_&&_.UnitType&&_.Units&&_.UnitType.equalsIgnoreCase("Month")&&7===_.Units
if(c){var w=t.Purchase_Gifting_LegalTerms_EU_V1,E=t.Purchase_Gifting_LegalTerms_JP_V1,T=t.Purchase_Gifting_LegalTerms_V1
y="EU"===f?w:"JP"===f&&u.default.isEnabled("legalstringsjp")?E:T}else this.get("orderLineItem.isSubscriptionItem")?(y=function(e,t,n,a,o,s,d,c,f){var p,m=e.get("webBlendsData.TrialDurationString"),h=Boolean(i.default.get().OfferType&&i.default.get().OfferType.equalsIgnoreCase("turnonautorenewal")),g=n&&n.price&&t&&t.price&&n.price<t.price&&!m&&!h,v=l.default.getRegion(),y=e.get("isPriceVariant")
if(e.get("isRedeem"))return e.get("isAutoRenew")?r.default.isBuddyPassScenario()?c.legalForSubscriptionTrial[v]:c.legalForRedeemSubscriptionAutoRenewV1[v]:c.legalForRedeemSubscriptionAutoRenewOff[v]
if(e.get("isUpgrade"))return u.default.isEnabled("subscriptionlegalstringv2")?c.legalForSubscriptionV2[v]:c.legalUpgradeScenarioV1[v]
if(h)return c.legalForSubscriptionAutoRenewal[v]
if(y||g){var b=e.get("isOmexProduct")&&n.price>0&&e.get("hasDiscountedInitialPeriod")
return r.default.isWindowsOobeClient()&&!u.default.isEnabled("newsubscriptionlegalstrings")?c.legalForSubscriptionWinOobeTrialV1[v]:s?c.legalForSubscriptionDiscountFreeMonthV1[v]:d?c.legalForSubscriptionDiscountTwoFreeMonthsV1[v]:b?c.legalForAnnualSubscriptionDiscountPeriodLegalTermsV1[v]:u.default.isEnabled("subscriptionlegalstringv2")?c.legalForSubscriptionDiscountV2[v]:c.legalForSubscriptionDiscountV1[v]}if(f)return c.legalForSubscriptionDiscountSevenFreeMonthsV1[v]
if(a){if(e.get("isIAPSubscription")){var _=u.default.isEnabled("subscriptionlegalstringv2")?c.legalForSubscriptionV2:c.legalForIAPSubscription,I=r.default.isXboxOneClient()?c.legal_SubscriptionIAPRefundableV1[v]:_[v]
p=o?c.legalForIAPSubscriptionTrial[v]:I}else if(r.default.isWindowsOobeClient()&&!1===r.default.isWindowsRoobe()&&!1===u.default.isEnabled("newsubscriptionlegalstrings"))p=o?u.default.isEnabled("newoobelegal")?c.legalForSubscriptionWinOobeTrialV1[v]:c.legalForSubscriptionWindowsOobeTrial:c.legalForSubscriptionWinOobeTrialV1[v]
else{var C=u.default.isEnabled("subscriptionlegalstringv2")?c.legalForSubscriptionV2:c.legalForSubscriptionV1
p=o?c.legalForSubscriptionTrial[v]:C[v]}return p}return c.oemLegalTerm.replace("{oemTrialPeriod}",m)}(this.get("orderLineItem"),h,g,d,this.get("orderLineItem.isSubscriptionTrial"),I,C,this.get("legalStrings"),P),(this.get("isXboxOne")||r.default.isGamingApp())&&(y=u.default.isEnabled("disable30dayrefund")?y.replace("{learnLink}.",""):y.replace("{learnLink}",t.Purchase_Subscription_Refund_Note),u.default.isEnabled("subscriptionlegalstringv2")&&"EU"===f&&y.replace("{cancelDisclaimer}","{cancelDisclaimerEU}"))):y=v?this.get("isXboxOne")?t.Purchase_LegalTerms_Warranty_Xbox:t.Purchase_LegalTerms_Warranty:function(e,t,a,o){var s=e.get("isCsvPurchase"),u=e.get("isPreOrder"),d=e.get("isRedeem")
if(!t){if(d){var c=l.default.getRegion()
return o.legalForRedeemSubscriptionAutoRenewOff[c]}return o.freeItemLegalTerm}var f=l.default.getRegion()
if(r.default.isXboxOneClient()&&"CN".equalsIgnoreCase(i.default.get().Market))return o.besTVTerm
if(n.default.isMediaItem()||e.get("isRental")){if(e.get("product.isBook")&&e.get("marketProperties.BookAttributes.RentalDurationInDays"))return o.legalForRentBook[f].replace("{rentalDuration}",e.get("marketProperties.BookAttributes.RentalDurationInDays"))
var p=void 0,m=void 0,h=void 0,g=void 0
return"rent"===i.default.get().TransactionType&&i.default.get().ExpirationBeforePlayInHours&&i.default.get().ExpirationAfterPlayInHours?(h=i.default.get().ExpirationBeforePlayInHours,p=i.default.get().ExpirationAfterPlayInHours):e.get("skuProperties.FulfillmentData.ViewingPeriodInHours")&&e.get("skuProperties.FulfillmentData.AcquisitionPeriodInHours")&&(h=e.get("skuProperties.FulfillmentData.AcquisitionPeriodInHours"),p=e.get("skuProperties.FulfillmentData.ViewingPeriodInHours")),h&&p?(h>24?(h=Math.floor(h/24),g=o.duration.Days):g=o.duration.Hours,p>24?(p=Math.floor(p/24),m=o.duration.Days):m=o.duration.Hours,o.legalForRentVideo[f].replace("{rentalStartValue}",h).replace("{rentalStartUnit}",g).replace("{rentalEndValue}",p).replace("{rentalEndUnit}",m)):o.legalForBuyVideo[f]}return e.get("isMedia")?o.legalForBuyVideo[f]:s?o.legalForCSV[f]:u?o.legalForPreOrder[f]:a?o.piRequiredButFree:e.get("isRefundable")||!e.get("isMedia")&&r.default.isXboxOneClient()?o.legalTermRefundableV1[f]:o.legalTerm[f]}(this.get("orderLineItem"),d,this.get("isPiRequiredButFree"),this.get("legalStrings"))
y=y.replace("{buttonText}",this.get("actionText")),i.default.get().XPriceLegalString&&u.default.isEnabled("enablexpricestrings")&&(y+=" "+i.default.get().XPriceLegalString)
var S=""
if(u.default.isEnabled("proratedrefunds")&&this.get("orderLineItem.isSubscriptionItem")){y=y.replace(/({CancelDisclaimer}|{CancelDisclaimer_V3}|{cancelDisclaimerIL}|{cancelDisclaimerEU})/i,"{proratedCancelDisclaimer}"),S=this.get("getCancelDisclaimer")}return a.default.tokenize(y,["msaTou","termsLink","giftTermsLink","learnLink","pricePerPeriod","finalRenewalLabel","discountRenewalLabel","warrantyTermsLink","listPrice","renewalPrice","freeMonth","initialPriceWithTaxes","renewPriceWithTaxes","introductoryPeriodCount","introductoryPeriodUnit","cancelDisclaimer","cancelDisclaimerIL","cancelDisclaimerEU","serviceAgreementLink","cancelDisclaimer_V3","learnCancellationLink","usageRulesLinkText","finalPromotionalLabel","proratedCancelDisclaimer","refundLinkText","privacy"],function(r){switch(r){case"msaTou":return t.Microsoft_Service_Agreement_Link
case"termsLink":return t.Store_Terms_Of_Sale_Link
case"learnLink":return"EU"===f?t.LearnAboutRefunds_Text:t.LearnMore_Text
case"giftTermsLink":return t.Gift_Terms_And_Conditions_Link
case"warrantyTermsLink":return t.Warranty_Terms_Link
case"freeMonth":return t.Subscribe_Auto_Renew_Discount_1Month
case"cancelDisclaimer":return u.default.isEnabled("subscriptionlegalstringv2")?t.Cancel_Subscription_Disclaimer_New:t.Cancel_Subscription_Disclaimer
case"cancelDisclaimerIL":return u.default.isEnabled("subscriptionlegalstringv2")?t.Cancel_Subscription_Disclaimer_IL_New:t.Cancel_Subscription_Disclaimer_IL
case"cancelDisclaimerEU":return u.default.isEnabled("subscriptionlegalstringv2")?t.Cancel_Subscription_Disclaimer_EU_New:t.Cancel_Subscription_Disclaimer
case"serviceAgreementLink":return t.Microsoft_Service_Agreement_Link
case"cancelDisclaimer_V3":return u.default.isEnabled("newcanceldisclaimer")?t.Cancel_Subscription_Disclaimer_UK_New_V1:t.Cancel_Subscription_Disclaimer_New_V1
case"learnCancellationLink":return t.LearnAboutCancellation_Text
case"usageRulesLinkText":return t.Purchase_UniversalLegalTerms_UsageRules_DigitalGoods
case"proratedCancelDisclaimer":return S===e.get("constants").refundCancelDisclaimerTypes.defaultCancelDisclaimer?u.default.isEnabled("showcanceldisclaimerdefaultv1")?t.Cancel_Subscription_Disclaimer_Default_V1:t.Cancel_Subscription_Disclaimer_Default:S===e.get("constants").refundCancelDisclaimerTypes.nonRefundableSubscription?"EU"===f?t.Cancel_Subscription_Disclaimer_No_Refunds_EU:u.default.isEnabled("showcanceldisclaimerdefaultv1")?t.Cancel_Subscription_Disclaimer_No_Refunds_V1:t.Cancel_Subscription_Disclaimer_No_Refunds:S===e.get("constants").refundCancelDisclaimerTypes.proratedRefundAvailableAnyTime?t.Cancel_Subscription_Disclaimer_Prorated_Refunds:S===e.get("constants").refundCancelDisclaimerTypes.proratedRefundAvailableAfterFirstYear?u.default.isEnabled("showcanceldisclaimerdefaultv1")?t.Cancel_Subscription_Disclaimer_Prorated_Refunds_FirstYear_V1:t.Cancel_Subscription_Disclaimer_Prorated_Refunds_FirstYear:t.Cancel_Subscription_Disclaimer
case"refundLinkText":return t.Microsoft_Returns_Refunds_Title
case"privacy":return t.RewardsOffer_PrivacyStatement
default:return r}},function(r){return"warrantyTermsLink"===r.value&&(r.value=e.get("orderLineItem.isXboxWarrantyLegalTerms")?"xboxWarrantyTermsLink":"surfaceWarrantyTermsLink"),"pricePerPeriod"===r.value||"finalRenewalLabel"===r.value||"discountRenewalLabel"===r.value||"listPrice"===r.value||"renewalPrice"===r.value||"initialPriceWithTaxes"===r.value||"renewPriceWithTaxes"===r.value||"finalPromotionalLabel"===r.value?(r.isPrice=!0,r.isToken=!1,"discountRenewalLabel"===r.value||"listPrice"===r.value?$.extend(r,g):"renewalPrice"===r.value?$.extend(r,m):"initialPriceWithTaxes"===r.value?($.extend(r,g),r.priceFormat=t.Purchase_Label_WithApplicableTax_Formatted.replace("{0}","{formattedPriceDisplay}")):"renewPriceWithTaxes"===r.value?($.extend(r,m),r.priceFormat=t.Purchase_Label_WithApplicableTax_Formatted.replace("{0}","{formattedPriceDisplay}")):"finalPromotionalLabel"===r.value&&h.promotionalPriceFormat?($.extend(r,h),r.priceFormat=h.promotionalPriceFormat):$.extend(r,h)):"freeMonth"===r.value?(r.isPrice=!1,r.isToken=!1,r.value=r.tokenText):"cancelDisclaimer"===r.value?(r.isPrice=!1,r.isToken=!1,r.value=r.tokenText):"cancelDisclaimerIL"===r.value?(r.isPrice=!1,r.isToken=!1,r.value=r.tokenText):"cancelDisclaimerEU"===r.value?(r.isPrice=!1,r.isToken=!1,r.value=r.tokenText):"cancelDisclaimer_V3"===r.value?(r.isPrice=!1,r.isToken=!1,r.value=r.tokenText):"proratedCancelDisclaimer"===r.value?(r.isPrice=!1,r.isToken=!1,r.value=r.tokenText):"introductoryPeriodCount"===r.value?(r.isToken=!1,r.value=""+b.Units):"introductoryPeriodUnit"===r.value?(r.isToken=!1,r.value=(0,o.default)(b.UnitType,b.Units)):(r.id=r.value+"_tou",r.css="cli_tou",s.default.enhanceToken(r)),r})}),useExtraWide:Ember.computed("orderLineItem","showSelectBackupPiLink",function(){return r.default.isXboxOneClient()&&(this.get("showSelectBackupPiLink")||this.get("showBackupPi"))&&(!!this.get("orderLineItem.giftee")||this.get("orderLineItem.isSubscriptionItem"))}),bankDisclaimerString:Ember.computed(function(){var e=i.default.get().Market,t=" "+this.get("strings.Extra_Bank_Disclaimer"),n=" "+this.get("strings.Extra_Bank_Disclaimer_New")
return["cr","ec","py"].includes(e.toLowerCase())?r.default.isXboxOneClient()&&!u.default.isEnabled("newbankdisclaimerxbox")?"ar"===e.toLowerCase()?t:"":n:""}),getCancelDisclaimer:Ember.computed("orderLineItem",function(){var e,t=i.default.get().Market,r=this.get("orderLineItem.RefundPolicyData"),n=r&&r.PolicyData&&r.PolicyData.ThenUseRefundType,a=r&&r.PolicyData&&r.PolicyData.UseRefundRanges
if(this.get("orderLineItem.isIAPSubscription"))return this.get("constants").refundCancelDisclaimerTypes.nonRefundableSubscription
if(!r||!n)return""
if(n.equalsIgnoreCase("Partial"))return this.get("constants").refundCancelDisclaimerTypes.proratedRefundAvailableAnyTime
if(n.equalsIgnoreCase("Full"))return this.get("constants").refundCancelDisclaimerTypes.defaultCancelDisclaimer
if(n.equalsIgnoreCase("None")){if(a&&0===a.length)return this.get("constants").refundCancelDisclaimerTypes.nonRefundableSubscription
if(a&&a[0]&&a[0].RefundType&&a[0].RefundType.equalsIgnoreCase("Full"))return e=t.toLowerCase(),["dk","fi","de","nl","pl","pt"].includes(e.toLowerCase())?this.get("constants").refundCancelDisclaimerTypes.proratedRefundAvailableAfterFirstYear:this.get("constants").refundCancelDisclaimerTypes.defaultCancelDisclaimer}return""})})}),define("sfw-components/components/message-with-bolded-button-names",["exports","sfw-components/templates/components/message-with-bolded-button-names"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({layout:t.default,tagName:"p"})}),define("sfw-components/components/message-with-links",["exports","sfw-components/templates/components/message-with-links","sfw-telemetry/utils/client"],function(e,t,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({layout:t.default,showAsLinkInXbox:!1,actions:{onClick:function(){this.sendAction.apply(this,["action"].concat(Array.prototype.slice.call(arguments)))}},showAsText:Ember.computed("showAsLinkInXbox",function(){return r.default.isXboxOneClient()&&!this.get("showAsLinkInXbox")})})}),define("sfw-components/components/pidl-displayhelp-item",["exports","sfw-components/templates/components/pidl-displayhelp-item"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({layout:t.default,classNameBindings:["isHeader:pidlDisplayHelpHeader","isText:pidlDisplayHelpText"],isHeader:Ember.computed(function(){var e=this.get("item")
return!!e&&"subheading"===e.displayType}),isText:Ember.computed(function(){var e=this.get("item")
return!!e&&"text"===e.displayType}),isImage:Ember.computed(function(){var e=this.get("item")
return!!e&&"image"===e.displayType}),imageAltText:Ember.computed(function(){var e=this.get("displayHelp"),t=this.get("item")
if(this.get("isImage")&&e&&e.length&&e.length>1){var r=e.indexOf(t)
if(r>0)return e[r-1].displayContent}return""})})}),define("sfw-components/components/pidl-displayhelp",["exports","sfw-components/templates/components/pidl-displayhelp"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({layout:t.default,keyDown:function(e){return 27!==e.keyCode||($(".pidlDisplayHelp").hide(),$(".pidlDisplayHelp").parents(".pidlContainer").find("button")[0].focus(),!1)},actions:{hideDisplayHelp:function(e){var t=$("#"+e+"_displayHelp")
t.hide(),t.parents(".pidlContainer").find("button")[0].focus()}},isDisplayModeInline:Ember.computed(function(){return"inline"===this.get("displayMode")}),isDisplayModePopUp:Ember.computed(function(){return"popup"===this.get("displayMode")})})}),define("sfw-components/components/pidl-document",["exports","sfw-components/templates/components/pidl-document"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend(Ember.Evented,{layout:t.default,tagName:"",actions:{checkDependency:function(){this.get("model")&&this.set("model.refreshTrigger",!this.get("model.refreshTrigger"))}},setupNotifier:Ember.on("didInsertElement",function(){var e=this
Ember.run.scheduleOnce("afterRender",this,function(){e.send("checkDependency")})})})}),define("sfw-components/components/pidl-group",["exports","sfw-components/templates/components/pidl-group"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({layout:t.default,classNameBindings:["pidlContainer","isOneUi:col-24-24","isOneUi:m-t-md"],attributeBindings:["styleDisplay:style"],styleDisplay:Ember.computed("model.isXboxOne","pidlGroup.displayIndex","model.displayIndex",function(){var e="display:block"
return this.get("model.isXboxOne")&&this.get("pidlGroup.displayIndex")!==this.get("model.displayIndex")&&(e="display:none"),Ember.String.htmlSafe(e)}),isInline:Ember.computed("pidlGroup.layoutOrientation",function(){return"inline"===this.get("pidlGroup").layoutOrientation}),canShowMembersDisplayName:Ember.computed("pidlGroup.showDisplayName",function(){var e=this.get("pidlGroup.showDisplayName")
return Boolean(e&&e.equalsIgnoreCase("required"))}),isOneUi:Ember.computed(function(){return"oneui"===EmberENV.styles})})}),define("sfw-components/components/pidl-item-label",["exports","sfw-components/templates/components/pidl-item-label"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({pidlItem:null,layout:t.default,tagName:"label",classNames:["pidlLabel","cli_pidlLabel"],attributeBindings:["getPidlItemId:for"],optionalLabel:Ember.computed(function(){return this.pidlItem&&("alipayBillingAgreementPhone"===this.pidlItem.displayId||"alipayBillingAgreementLastFiveCertNo"===this.pidlItem.displayId||this.pidlItem.isDisabled)?"":this.get("strings.Pidl_Item_Optional_Label")}),getPidlItemId:Ember.computed(function(){return this.pidlItem?this.pidlItem.pidl_blend_id:null})})}),define("sfw-components/components/pidl-item",["exports","sfw-components/templates/components/pidl-item","sfw-components/utils/pidl-validator2","sfw-services/utils/pidl-data","sfw-telemetry/utils/flight-config","sfw-telemetry/utils/client","sfw-components/utils/pidl-user-input-error"],function(e,t,r,n,i,a,o){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var s=null,l=null
$(".ember-application").on("keydown mousedown","input, select",function(e){l=0,9===e.keyCode?s=e.shiftKey?$(this).closest(".pidlContainer").prev().find("input, select, button").first().attr("id"):$(this).closest(".pidlContainer").next().find("input, select, button").first().attr("id"):(s=$(e.target).attr("id"),l=$(e.target).prop("selectionStart")+1)})
var u=function(){if(s){var e=$("#"+s)
e&&(e.focus(),e.prop("selectionStart",l||0))}}
Ember.TextField.reopen({attributeBindings:["aria-labelledby","aria-required"]}),e.default=Ember.Component.extend({layout:t.default,tagName:"",inGroup:!1,actions:{showDisplayHelp:function(e){var t=$("#"+e+"_displayHelp")
t.show(),Ember.run.later(function(){t.find("button").filter(":visible:first").focus()},200),Ember.run.later(function(){document.addEventListener("focus",function(e){"none"===t[0].style.display||t[0].includes(e.target)||(e.stopPropagation(),t.find("button").filter(":visible:first").focus())},!0)},200)},focusOut:function(e){if(e.valueHasChanged||this.get("model").formIsDone){var t=this
this.get("isXboxOne")?(e.fieldIsDone=!0,t.validate(e,!0)):Ember.run.later(function(){e.fieldIsDone=!0,t.validate(e,!0)},200)}},change:function(e,t,n){e.valueHasChanged=!0,e.dataClearValue=null,this.sendAction("update"),this.get("isXboxOne")&&r.default.reset(e),(e.fieldIsDone||this.get("isDropdown")||this.get("model").formIsDone)&&("alipayAccountType"===e.pidl_blend_id_value&&this.clearAliPayAccountTextBox(),this.validate(e,!1,t,n))}},clearAliPayAccountTextBox:function(){$("#"+n.default.pidl_blend_id_prefix+"alipayAccount").val(""),r.default.reset({pidl_blend_id:n.default.pidl_blend_id_prefix+"alipayAccount",pidl_blend_error_id:n.default.pidl_blend_error_id_prefix+"alipayAccount"})},validate:function(e,t,n,i){r.default.reset(e)
var a=r.default.validate(e,i)
return!n&&!a&&e.data_description.is_key&&this.findPidlForKey(e)?a=r.default.validate(e,i):!a&&t&&o.default.logField(e),a},findPidlForKey:function(e){var t=!1,n=this.get("model.originalPidl")?this.get("model.originalPidl"):this.parentController.parentController.get("model.originalPidl"),i=this.get("model.pidlDocuments")?this.get("model.pidlDocuments"):this.parentController.parentController.get("model.pidlDocuments"),a=this.get("userProfile")&&this.get("userProfile").get("default_address"),o=r.default.findPidlForKey(e,n,i,a)
return o&&(Ember.run.scheduleOnce("afterRender",this,u),Ember.run.scheduleOnce("afterRender",this,r.default.validateAll,[o],!this.get("model").formIsDone,!0),t=!0),t},validateAll:function(e){return this.get("model").formIsDone=!0,r.default.validateAll(e)},maskValue:function(){var e=this.get("pidlItem.data_value")
if(e&&!e.startsWith("**")&&!e.startsWith("")){this.set("pidlItem.dataClearValue",e)
var t=(e.length>11?e.slice(-4):"").padLeft("",e.length)
this.set("pidlItem.data_value",t)}},unmaskValue:function(){this.get("pidlItem.dataClearValue")&&(this.set("pidlItem.data_value",this.get("pidlItem.dataClearValue")),this.set("pidlItem.dataClearValue",null))},maskSecureField:Ember.on("init",Ember.observer("model.displayIndex",function(){this.get("isSecureField")&&this.get("isXboxOne")&&("display:block"===this.get("styleDisplay").string?this.maskValue():this.unmaskValue())})),isSecureField:Ember.computed("pidlItem",function(){var e=this.get("pidlItem.pidl_blend_id_value")&&this.get("pidlItem.pidl_blend_id_value").toLowerCase()
return"accounttoken"===e||"cvvtoken"===e}),isTextbox:Ember.computed("pidlItem.possibleValues","pidlItem.data_description.type",function(){return!this.get("pidlItem.possibleValues")&&("string"===this.get("pidlItem.data_description.type")||"number"===this.get("pidlItem.data_description.type"))}),isDropdown:Ember.computed("pidlItem.possibleValues",function(){return this.get("pidlItem.possibleValues")}),dropDownItems:Ember.computed("pidlItem.possibleValues","model.paymentMethodFamilies",function(){var e=this,t=this.get("pidlItem.possibleValues")
if(!t)return[]
var r=this.get("pidlItem").displayId&&this.get("pidlItem").displayId.equalsIgnoreCase("non_sim_mobi_phone_operator")
return function(e,t){var r=Ember.get(e,"possibleValues"),n=t&&t[0]&&t[0][0]&&(Ember.get(t[0][0],"data_description.addressCountry.default_value")||Ember.get(t[0][0],"data_description.paymentMethodCountry.default_value"))
if(i.default.isEnabled("jpsortreg")&&"jp".equalsIgnoreCase(n)&&"addressState".equalsIgnoreCase(Ember.get(e,"displayId")))return["hokkaido","aomoriken","iwateken","miyagiken","akitaken","yamagataken","fukushimaken","ibarakiken","tochigiken","gunmaken","saitamaken","chibaken","tokyoto","kanagawaken","niigataken","toyamaken","ishikawaken","fukuiken","yamanashiken","naganoken","gifuken","shizuokaken","aichiken","mieken","shigaken","kyotofu","osakafu","hyogoken","naraken","wakayamaken","tottoriken","shimaneken","okayamaken","hiroshimaken","yamaguchiken","tokushimaken","kagawaken","ehimeken","kochiken","fukuokaken","sagaken","nagasakiken","kumamotoken","oitaken","miyazakiken","kagoshimaken","okinawaken"]
var a=[]
for(var o in r)r.hasOwnProperty(o)&&a.push(o)
return a}(this.get("pidlItem"),this.get("model.originalPidl")).map(function(n){var i,a,o,s=t[n]
return{id:n,label:s,image:r?(i=e.get("model.paymentMethodFamilies"),a=s,o=null,i&&a&&i.forEach(function(e){e.get("display.name")===a&&(o=o&&o.containsIgnoreCase(".svg")?o:e.get("preferredLogo"))}),o):"",imageDescription:r?e.get("strings.Shared_Label_Logo").replace("{0}",s):""}})}),inlineStyle:Ember.computed("pidlItem.maxLength",function(){var e=""
return this.get("pidlItem.maxLength")&&(e="width:"+40*this.get("pidlItem.maxLength")+"px"),Ember.String.htmlSafe(e)}),canShowDisplayName:Ember.computed("showDisplayName",function(){var e=this.get("showDisplayName")
return Boolean(e)}),isRequired:Ember.computed("pidlItem",function(){return!this.get("pidlItem.data_description.is_optional")}),inner_isDisabled:null,isDisabled:Ember.computed("pidlItem.propertyName","inner_isDisabled","pidlItem.isDisabled","model.refreshTrigger",{get:function(){return this.get("pidlItem.pidl_blend_id_value")&&"country"===this.get("pidlItem.pidl_blend_id_value").toLowerCase()&&this.set("inner_isDisabled",!0),Boolean(this.get("inner_isDisabled")||this.get("pidlItem.isDisabled"))},set:function(e,t){this.set("inner_isDisabled",t)}}),styleDisplay:Ember.computed("model.displayIndex","model.isXboxOne","model.refreshTrigger",function(){var e="display:block",t=this.get("pidlItem.pidl_blend_id")
return r.default.isDependencyValid(this.get("pidlItem"))&&(r.default.reset(this.get("pidlItem")),$("#"+t).val(""),$("#"+t).trigger("change"),e="display:none"),!this.get("groupId")&&this.get("model.isXboxOne")&&this.get("pidlItem.displayIndex")!==this.get("model.displayIndex")&&(e="display:none"),Ember.String.htmlSafe(e)}),isXboxOne:Ember.computed("model.isXboxOne",function(){return this.get("model.isXboxOne")}),isMercury:Ember.computed(function(){return a.default.isMercury()}),isModernXboxClient:Ember.computed(function(){return a.default.isModernXboxClient()}),isOptionalAddressField:Ember.computed("pidlItem","model.operationName",function(){return this.get("pidlItem.pidl_blend_id_value")&&this.get("pidlItem.pidl_blend_id_value").toLowerCase().indexOf("address_line")>-1&&this.get("model.operationName")&&"add"===this.get("model.operationName").toLowerCase()&&this.get("pidlItem.data_description.is_optional")&&!this.get("pidlItem.data_value")}),containerClass:Ember.computed(function(){var e="pidlContainer"
"oneui"===EmberENV.styles&&(this.get("inGroup")||(e+=" col-24-24 m-t-md"))
return e})})}),define("sfw-components/components/privacy-statement",["exports","sfw-components/components/message-with-links","sfw-components/utils/template-tokenizer","sfw-services/utils/constant-links"],function(e,t,r,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default.extend({messageParts:Ember.computed(function(){var e=this.get("strings")
return r.default.tokenize(e.Microsoft_Privacy_Statement,["0"],function(){return e.Microsoft_Privacy_Statement_Title},function(e){return e.id="privacyStatement",e.biContentName="Privacy Statement",e.css="cli_privacyStatement",e.url=n.default.get().privacyStatement,e})})})}),define("sfw-components/components/risk-challenge",["exports","sfw-components/templates/components/risk-challenge","sfw-telemetry/utils/app-globals","sfw-services/utils/blend-service-errors","sfw-services/services/challenge-descriptions","sfw-telemetry/utils/client","sfw-services/utils/commerce-js","sfw-services/utils/error-equals","sfw-components/utils/order-bi-data","sfw-services/services/payment-instrument","sfw-services/utils/pidl-data","sfw-components/utils/pidl-validator2","sfw-components/utils/timer","sfw-telemetry/utils/start-data","sfw-telemetry/utils/blend-bi-tracker"],function(e,t,r,n,i,a,o,s,l,u,d,c,f,p,m){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({busyState:Ember.inject.service(),store:Ember.inject.service(),layout:t.default,tagName:"section",attributeBindings:["role","data-bi-area"],elementId:"riskChallengeContainer",role:"main","data-bi-area":"PurchaseRiskChallenge",paymentMethodType:null,modelData:null,order:null,selectedpi:null,selectedPi:Ember.computed.alias("selectedpi"),selectedBackupPi:null,model:null,didInsertElement:function(){this._super(arguments)
var e=this.get("busyState"),t=this,r=this.get("modelData")
return e.busy(),t.getModelPromise(r).then(function(r){e.done(),t.set("model",r)})},getModelPromise:function(e){var t=this
return e&&e.challengeType?i.default.get(e.challengeType).then(function(r){if("cvv".equalsIgnoreCase(e.challengeType)){if(t.get("selectedPi")){var i=t.get("selectedBackupPi")||t.get("selectedPi"),o=d.default.prepareModel(r,null,null,null,i.get("paymentMethod.paymentMethodType")),s=d.default.setDisplayIndex([o])
return{pidlDocuments:[o],originalPidl:[r],pidl_blend_id_prefix:d.default.pidl_blend_id_prefix,piModel:i,data:e,isXboxOne:a.default.isXboxOneClient(),displayIndex:0,lastDisplayIndex:s}}t.sendAction("handleError",n.default.get("InvalidData"))}else if("sms".equalsIgnoreCase(e.challengeType)){if(e.context&&("addPaymentInstrument"===e.context||"purchase"===e.context)){var l=d.default.prepareModel(r),u=d.default.setDisplayIndex([l])
return{pidlDocuments:[l],originalPidl:[r],pidl_blend_id_prefix:d.default.pidl_blend_id_prefix,data:e,isXboxOne:a.default.isXboxOneClient(),displayIndex:0,lastDisplayIndex:u}}t.sendAction("handleError",n.default.get("InvalidData"))}else t.sendAction("handleError",n.default.get("InvalidData"))}):Ember.RSVP.reject("invalid model data for risk challenge")},title:Ember.computed("isSmsChallenge","isAlipayBa",function(){var e=this.get("strings")
return this.get("isSmsChallenge")?this.get("isAlipayBa")?e.AlipayBA_Challenge_Title:e.Purchase_NonSimMobiChallenge_Title:e.CvvRiskChallenge_Title}),text:Ember.computed("isSmsAddPi","isAlipayBa","isSmsPurchaseChallenge","selectedPi",function(){var e=this.get("strings"),t=""
if(this.get("isSmsAddPi")){if(r.default._userPidlData&&r.default._userPidlData.displayData&&r.default._userPidlData.displayData[0].details)if(this.get("isAlipayBa")){var n=r.default._userPidlData.displayData[0].details.phone
t=n||r.default._userPidlData.displayData[0].details.alipayAccount}else t=r.default._userPidlData.displayData[0].details.msisdn
return e.Phone_Code_Sent_Note.replace("{0}",t)}if(this.get("isSmsPurchaseChallenge")){var i=this.get("selectedPi")
return t=i&&i.get("details.msisdn"),e.Phone_Code_Sent_Note.replace("{0}",t)}return e.CvvRiskChallenge_Text}),isAlipayBa:Ember.computed("paymentMethodType",function(){return!(!this.get("paymentMethodType")||"alipay_billing_agreement"!==this.get("paymentMethodType"))}),isSmsAddPi:Ember.computed("model.data",function(){return"sms".equalsIgnoreCase(this.get("model.data.challengeType"))&&"addpaymentinstrument".equalsIgnoreCase(this.get("model.data.context"))}),isCvvChallenge:Ember.computed("model.data",function(){return"cvv".equalsIgnoreCase(this.get("model.data.challengeType"))&&"purchase".equalsIgnoreCase(this.get("model.data.context"))}),isSmsChallenge:Ember.computed("model.data.challengeType",function(){return"sms".equalsIgnoreCase(this.get("model.data.challengeType"))}),isSmsPurchaseChallenge:Ember.computed("model.data",function(){return"sms".equalsIgnoreCase(this.get("model.data.challengeType"))&&"purchase".equalsIgnoreCase(this.get("model.data.context"))}),piInfo:Ember.computed(function(){var e=r.default._userPidlData&&r.default._userPidlData.data&&r.default._userPidlData.data.length&&r.default._userPidlData.data[0]
return{paymentMethodFamily:e&&e.paymentMethodFamily,paymentMethodType:e&&e.paymentMethodType}}),isXboxOne:Ember.computed(function(){return a.default.isXboxOneClient()}),actions:{submit:function(){var e=this.get("busyState"),t=this
if(c.default.validateAll(t.get("model.pidlDocuments"))){var i=t.get("model.data.context"),a=t.get("model.data.challengeType"),d={orderInfo:(0,l.default)(t.get("order"),t.get("selectedPi"),t.get("selectedBackupPi")),source:i,challengeType:a}
m.default.capturePageAction($("#challengeOK"),d)
var f=t.get("model.originalPidl"),h=t.get("model.pidl_blend_id_prefix")
if(!f)return m.default.capturePurchaseStatePageAction("Failed",d),void t.sendAction("handleError",n.default.get("InvalidData"))
f.length||(f=[f])
try{o.default.readUserInputData(f[0],h,"").then(function(i){if(f[0]&&i)return e.busy(),o.default.tokenizeUserInputData(f[0],i).then(function(){if(i.hasOwnProperty("challengeType")){var a=i.challengeType,o=i[a]
if(t.get("isSmsPurchaseChallenge")){var l=t.get("order"),f=l&&l.get("sessionId")
u.default.purchaseValidateChallenge("sms",f,i.pin).then(function(){e.done(),t.sendAction("handleSuccess",{autoConfirm:!0})},function(r){if(!s.default.isAddNonSimMobiInlineSMSError(r))return m.default.capturePurchaseStatePageAction("Failed",d),void t.sendAction("handleError",r)
e.done(),Ember.run.scheduleOnce("afterRender",t,c.default.showPifdValidationErrorV2,t.get("model.pidlDocuments"),r,t.get("model"))})}else{if(!t.get("isSmsAddPi"))return p.default.get().tokenizedRiskData=o,e.done(),void t.sendAction("handleSuccess",{autoConfirm:!0})
var h=r.default._userPidlData&&r.default._userPidlData.resumePiId
u.default.resumePaymentInstrument(h,i).then(function(){m.default.captureAddPiStatePageAction("Success",{piInfo:t.get("piInfo")}),t.sendAction("handleSmsAddPiSuccess",h)},function(n){if(s.default.isAddNonSimMobiInLinePhoneError(n))m.default.captureAddPiStatePageAction("InlineError",{piInfo:t.get("piInfo"),errorDetail:n}),r.default._userPidlData.pifdValidationError=n,e.done(),t.sendAction("handleAsyncPiContinue","mobile_billing_non_sim")
else if(s.default.isAddNonSimMobiInlineSMSError(n))m.default.captureAddPiStatePageAction("InlineError",{piInfo:t.get("piInfo"),errorDetail:n}),e.done(),Ember.run.scheduleOnce("afterRender",t,c.default.showPifdValidationErrorV2,t.get("model.pidlDocuments"),n,t.get("model"))
else{if(!s.default.isAddAlipayBaSMSCodeExpiredError(n))return m.default.captureAddPiStatePageAction("Failed",{piInfo:t.get("piInfo"),errorDetail:n}),void t.sendAction("handleError",n)
m.default.captureAddPiStatePageAction("InlineError",{piInfo:t.get("piInfo"),errorDetail:n}),e.done(),Ember.run.scheduleOnce("afterRender",t,c.default.showPifdValidationErrorV2,t.get("model.pidlDocuments"),n,t.get("model"))}})}}else m.default.capturePurchaseStatePageAction("Failed",d),t.sendAction("handleError",n.default.get("InvalidData"))
return null},function(e){m.default.capturePurchaseStatePageAction("Failed",d),t.sendAction("handleError",e)})
m.default.capturePurchaseStatePageAction("Failed",d),t.sendAction("handleError",n.default.get("InvalidData"))},function(e){m.default.capturePurchaseStatePageAction("Failed",d),t.sendAction("handleError",e)})}catch(e){m.default.capturePurchaseStatePageAction("Failed",d),t.sendAction("handleError",e)}}},cancel:function(){var e={source:this.get("model.data.context"),challengeType:this.get("model.data.challengeType")}
if(m.default.capturePageAction($("#challengeCancel"),e),this.get("isSmsAddPi"))return this.sendAction("handleAsyncPiContinue",this.get("isAlipayBa")?"alipay_billing_agreement":"mobile_billing_non_sim")
this.sendAction("handleSuccess",null)},resendCode:function(){var e=this.get("busyState")
e.busy()
var t=f.default.start(),n=this,i=n.get("order"),a=n.get("selectedPi"),o={orderInfo:(0,l.default)(i,a),source:n.get("model.data.context"),challengeType:n.get("model.data.challengeType")}
if(m.default.capturePageAction($("#resendCode"),o),n.get("isSmsPurchaseChallenge")){var s=i&&i.get("sessionId")
u.default.purchaseSendResendChallenge("sms",s,a&&a.id).then(function(){return f.default.waitAtLeast(t,2e3).then(function(){return e.done(),n.sendAction("handleSmsRiskChallengeContinue")})},function(e){m.default.capturePurchaseStatePageAction("Failed",o),n.sendAction("handleError",e)})}else if(n.get("isSmsAddPi")){var d=r.default._userPidlData&&r.default._userPidlData.resumePiId
u.default.resendActivationCode(d).then(function(){return f.default.waitAtLeast(t,2e3).then(function(){e.done()})},function(e){n.sendAction("handleError",e)})}},enterPressed:function(){this.send("submit")}}})}),define("sfw-components/components/subs-downgrade",["exports","sfw-components/templates/components/subs-downgrade","sfw-telemetry/utils/start-data","sfw-telemetry/utils/client","sfw-telemetry/utils/flight-config"],function(e,t,r,n,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({layout:t.default,ownedProduct:null,convertProduct:null,ownedBigId:null,convertBigId:null,expirationDate:null,sharedType:null,gamertag:Ember.computed(function(){if(n.default.isXboxOneClient())return r.default.get().Gamertag}),moderngamertag:Ember.computed(function(){return n.default.isModernXboxClient()?r.default.get().ModernGamertag:""}),moderngamertagsuffix:Ember.computed(function(){return n.default.isModernXboxClient()?r.default.get().ModernGamertagSuffix:""}),ismoderngamertagenabled:Ember.computed(function(){return!!this.get("moderngamertag")}),stringToken:Ember.computed("isOneDrive",function(){return{purchasing:this.get("isOneDrive")?"{oneDrivePurchase}":"{officePurchase}",owned:this.get("isOneDrive")?"{oneDriveOwned}":"{officeOwned}"}}),productBasedStrings:Ember.computed("isOneDrive",function(){var e=this.get("strings.Office_Downgrade_Option2"),t=this.get("strings.Office_Keep_Option2"),r=this.get("strings.Office_Downgrade_Title2")
return{downgradeTitle:this.get("isOneDrive")?this.get("strings.OneDrive_Downgrade_Title"):r,downgradeDescription:this.get("isOneDrive")?this.get("strings.OneDrive_Downgrade_Description"):this.get("strings.Office_Downgrade_Description"),downgradeDescriptionFamily:this.get("isOneDrive")?this.get("strings.OneDrive_Downgrade_Description_FamilyOwner"):this.get("strings.Office_Downgrade_Description_FamilyOwner"),downgradeSubsExpired:this.get("strings.Office_Downgrade_SubsExpired"),downgradeKeepOption:this.get("isOneDrive")?this.get("strings.OneDrive_Keep_Option"):t,downgradeOption:this.get("isOneDrive")?this.get("strings.OneDrive_Downgrade_Option"):e}}),isOneDrive:Ember.computed("ownedProduct",function(){var e=this
return["CFQ7TTC0KKN0","CFQ7TTC0KKN1","CFQ7TTC0KKN2","CFQ7TTC0KKN3","CFQ7TTC0KKML"].filter(function(t){return t.equalsIgnoreCase(e.get("ownedProduct.id"))}).length>0}),downgradeTitle:Ember.computed("sharedType","ownedProduct.ProductTitle",function(){return"Family".equalsIgnoreCase(this.get("sharedType"))?this.get("strings.Subscribe_FamilyMemberGetHisOwn_Title").replace("{productName}",this.get("ownedProduct.ProductTitle")):this.get("productBasedStrings.downgradeTitle")}),downgradeDescription:Ember.computed("sharedType","convertProduct.ProductTitle","ownedProduct.ProductTitle","isOwnedProductSharable",function(){if("Family".equalsIgnoreCase(this.get("sharedType")))return this.get("strings.Subscribe_FamilyMemberGetHisOwn_Description")
return(this.get("isOwnedProductSharable")?this.get("productBasedStrings.downgradeDescriptionFamily"):this.get("productBasedStrings.downgradeDescription")).replace(this.get("stringToken.purchasing"),this.get("convertProduct.ProductTitle")).replace(this.get("stringToken.owned"),this.get("ownedProduct.ProductTitle"))}),showDowngradeDetails:Ember.computed("sharedType",function(){return!"Family".equalsIgnoreCase(this.get("sharedType"))}),expirationDateString:Ember.computed("expirationDate",function(){return this.get("expirationDate")?i.default.isEnabled("onedrivedowngrade")?this.get("productBasedStrings.downgradeSubsExpired").replace("{expiryDate}",new Date(this.get("expirationDate")).toLocaleDateString()):this.get("strings.Office_Downgrade_SubsExpired").replace("{expiryDate}",new Date(this.get("expirationDate")).toLocaleDateString()):null}),isOwnedProductSharable:Ember.computed("ownedProduct",function(){var e=this.get("ownedProduct")
if(e){var t=this.get("ownedBigId").split("/")[1],r=e.get("DisplaySkuAvailabilities")
if(r){var n=r.find(function(e){return e.Sku.SkuId.toLowerCase()===t.toLowerCase()})
if(n)return n.Sku.Properties.IsSharable}}return!1}),keepCurrentOptionTitle:Ember.computed("ownedProduct.ProductTitle",function(){return this.get("productBasedStrings.downgradeKeepOption").replace(this.get("stringToken.owned"),this.get("ownedProduct.ProductTitle"))}),keepCurrentStrings:Ember.computed("ownedProduct.downgradeShortDescription",function(){var e=this.get("ownedProduct.downgradeShortDescription")
if(e){var t=e.slice()
return t.push(this.get("expirationDateString")),t}return null}),downgradeOptionTitle:Ember.computed("convertProduct.ProductTitle",function(){return this.get("productBasedStrings.downgradeOption").replace(this.get("stringToken.purchasing"),this.get("convertProduct.ProductTitle"))}),getLessOfficeButton:Ember.computed(function(){return this.get("strings.Office_GetLessOffice_Button2")}),keepCurrentButton:Ember.computed(function(){return this.get("strings.Office_KeepCurrentPlan_Button2")}),actions:{keepCurrent:function(){this.sendAction("keepCurrent")},downgradeConfirm:function(){this.sendAction("downgradeConfirm")},cancel:function(){this.sendAction("cancel")}}})}),define("sfw-components/services/busy-state",["exports","sfw-telemetry/utils/client","sfw-messaging/utils/post-messages","sfw-messaging/utils/messages","sfw-services/utils/strings","sfw-telemetry/utils/flight-config"],function(e,t,r,n,i,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Service.extend({counter:0,busy:function(){var e=this.get("counter")
this.set("counter",e+1),a.default.isEnabled("loadingspinner")&&$(".busyDiv").append('<span class="screen-reader" aria-live="polite" aria-busy="true" aria-label="'+i.default.Loading_Text+'"/>'),$(".busyDiv").addClass("active"),t.default.isModernXboxClient()&&r.default.send(n.default.busy())},done:function(){var e=this.get("counter")
e>0&&this.set("counter",e-1),0===this.get("counter")&&($(".busyDiv").find("span").remove(),$(".busyDiv").removeClass("active"),t.default.isModernXboxClient()&&r.default.send(n.default.busy("done")))},isBusy:function(){return this.get("counter")>0},showBusyWhile:function(e){var t=this
return this.busy(),e.finally(function(){return t.done()})}})}),define("sfw-components/templates/components/add-payment-instrument-form",["exports"],function(e){"use strict"
e.__esModule=!0,e.default=Ember.HTMLBars.template({id:"CO0JPtAO",block:'{"symbols":[],"statements":[[1,[25,"pidl-document",null,[["pidl","model","userProfile"],[[20,["model","pidlDocuments","0","pidlModel"]],[20,["model"]],[20,["model","userProfile"]]]]],false],[0,"\\n\\n"],[4,"if",[[20,["model","userProfile","isNew"]]],null,{"statements":[[4,"if",[[20,["model","pidlDocuments","2","pidlModel"]]],null,{"statements":[[4,"if",[[20,["model","canShowEmailNote"]]],null,{"statements":[[0,"        "],[6,"p"],[9,"class","emailNote"],[7],[0,"\\n            "],[1,[20,["strings","Add_Payment_Instrument_Email_Note"]],false],[0,"\\n        "],[8],[0,"\\n"]],"parameters":[]},null],[0,"        "],[1,[25,"pidl-document",null,[["pidl","model","userProfile"],[[20,["model","pidlDocuments","2","pidlModel"]],[20,["model"]],[20,["model","userProfile"]]]]],false],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null],[0,"\\n"],[4,"if",[[20,["model","pidlDocuments","1","pidlModel"]]],null,{"statements":[[0,"    "],[1,[25,"pidl-document",null,[["pidl","model","userProfile"],[[20,["model","pidlDocuments","1","pidlModel"]],[20,["model"]],[20,["model","userProfile"]]]]],false],[0,"\\n"]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"sfw-components/templates/components/add-payment-instrument-form.hbs"}})}),define("sfw-components/templates/components/bullet-list",["exports"],function(e){"use strict"
e.__esModule=!0,e.default=Ember.HTMLBars.template({id:"pWup/wdm",block:'{"symbols":["item"],"statements":[[6,"ul"],[9,"class","ulList cli_bulletList"],[7],[0,"\\n"],[4,"each",[[20,["listItems"]]],null,{"statements":[[0,"    "],[6,"li"],[9,"class","cli_bulletListItem"],[7],[1,[19,1,[]],false],[8],[0,"\\n"]],"parameters":[1]},null],[8],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"sfw-components/templates/components/bullet-list.hbs"}})}),define("sfw-components/templates/components/button-dropdown",["exports"],function(e){"use strict"
e.__esModule=!0,e.default=Ember.HTMLBars.template({id:"IoVYW0s+",block:'{"symbols":["item","item","item"],"statements":[[6,"div"],[9,"tabindex","-1"],[10,"id",[26,[[18,"pidl_blend_id"],"_outer_container"]]],[7],[0,"\\n  "],[6,"button"],[10,"id",[26,[[18,"pidl_blend_id"]]]],[10,"style",[18,"inlineStyle"],null],[9,"class","btn btn-dropdown"],[10,"role",[18,"role"],null],[10,"disabled",[18,"isDisabled"],null],[9,"aria-live","polite"],[10,"aria-haspopup",[18,"hasPopup"],null],[9,"type","button"],[10,"aria-role",[18,"role"],null],[10,"aria-owns",[26,[[18,"pidl_blend_id"],"_menu"]]],[10,"aria-controls",[26,[[18,"pidl_blend_id"],"_menu"]]],[10,"aria-expanded",[18,"isExpanded"],null],[10,"aria-label",[18,"ariaLabel"],null],[3,"action",[[19,0,[]],"toggleOptions"]],[7],[0,"\\n"],[4,"with",[[20,["selectedItem"]]],null,{"statements":[[4,"if",[[19,3,["image"]]],null,{"statements":[[0,"          "],[6,"img"],[10,"src",[26,[[19,3,["image"]]]]],[10,"aria-label",[26,[[19,3,["imageDescription"]]]]],[10,"alt",[26,[[19,3,["imageDescription"]]]]],[7],[8],[0,"\\n"]],"parameters":[]},null],[0,"      "],[1,[19,3,["label"]],false],[0,"\\n  "]],"parameters":[3]},null],[0," "],[6,"i"],[9,"class","icon-chevron-down"],[9,"aria-hidden","true"],[7],[8],[0,"\\n  "],[8],[0,"\\n"],[4,"if",[[20,["isOneUi"]]],null,{"statements":[[0,"  "],[6,"ul"],[10,"id",[26,[[18,"pidl_blend_id"],"_menu"]]],[9,"class","dropdown-menu"],[9,"role","group"],[10,"aria-labelledby",[26,[[18,"pidl_blend_id"]]]],[7],[0,"\\n"],[4,"each",[[20,["content"]]],null,{"statements":[[0,"          "],[6,"li"],[7],[0," "],[0,"\\n              "],[6,"a"],[10,"id",[26,[[18,"pidl_blend_id"],"_menuItem_",[19,2,["id"]]]]],[9,"tabindex","0"],[10,"data-tv-focus-down",[26,[[25,"if",[[25,"eq",[[20,["content","lastObject","id"]],[19,2,["id"]]],null],"__self",null],null]]]],[3,"action",[[19,0,[]],"selectItem",[19,2,[]]]],[7],[0,"\\n"],[4,"if",[[19,2,["image"]]],null,{"statements":[[0,"                      "],[6,"img"],[10,"src",[26,[[19,2,["image"]]]]],[10,"aria-label",[26,[[19,2,["imageDescription"]]]]],[10,"alt",[26,[[19,2,["imageDescription"]]]]],[7],[8],[0,"\\n"]],"parameters":[]},null],[0,"                  "],[1,[19,2,["label"]],false],[0,"\\n              "],[8],[0,"\\n          "],[8],[0,"\\n"]],"parameters":[2]},null],[0,"      "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"  "],[6,"div"],[10,"id",[26,[[18,"pidl_blend_id"],"_menu_container"]]],[9,"class","dropdown-menu-container"],[9,"tabindex","0"],[9,"role","group"],[10,"aria-labelledby",[26,[[18,"pidl_blend_id"]]]],[10,"style",[18,"inlineStyle"],null],[7],[0,"\\n      "],[6,"ul"],[10,"id",[26,[[18,"pidl_blend_id"],"_menu"]]],[9,"class","dropdown-menu"],[9,"role","group"],[7],[0,"\\n"],[4,"each",[[20,["content"]]],null,{"statements":[[0,"          "],[6,"li"],[9,"role","option"],[9,"class","inactive"],[9,"aria-selected","false"],[7],[0," "],[0,"\\n              "],[6,"a"],[10,"id",[26,[[18,"pidl_blend_id"],"_menuItem_",[19,1,["id"]]]]],[9,"tabindex","0"],[10,"data-tv-focus-down",[26,[[25,"if",[[25,"eq",[[20,["content","lastObject","id"]],[19,1,["id"]]],null],"__self",null],null]]]],[3,"action",[[19,0,[]],"selectItem",[19,1,[]]]],[7],[0,"\\n"],[4,"if",[[19,1,["image"]]],null,{"statements":[[0,"                      "],[6,"img"],[10,"src",[26,[[19,1,["image"]]]]],[10,"aria-label",[26,[[19,1,["imageDescription"]]]]],[10,"alt",[26,[[19,1,["imageDescription"]]]]],[7],[8],[0,"\\n"]],"parameters":[]},null],[0,"                  "],[1,[19,1,["label"]],false],[0,"\\n              "],[8],[0,"\\n          "],[8],[0,"\\n"]],"parameters":[1]},null],[0,"      "],[8],[0,"\\n  "],[8],[0,"\\n"]],"parameters":[]}],[8],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"sfw-components/templates/components/button-dropdown.hbs"}})}),define("sfw-components/templates/components/collapsible-content",["exports"],function(e){"use strict"
e.__esModule=!0,e.default=Ember.HTMLBars.template({id:"JH7Tug9/",block:'{"symbols":["&default"],"statements":[[4,"if",[[20,["disabled"]]],null,{"statements":[[11,1],[0,"\\n"]],"parameters":[]},{"statements":[[6,"div"],[10,"class",[26,["collapsibleContent ",[25,"if",[[20,["isExpanded"]],"more"],null]]]],[7],[0,"\\n    "],[11,1],[0,"\\n"],[8],[0,"\\n"],[4,"if",[[20,["enableToggleButton"]]],null,{"statements":[[0,"        "],[6,"div"],[9,"class","moreLessToggle"],[7],[0,"\\n            "],[6,"span"],[9,"role","button"],[9,"tabindex","0"],[10,"name",[18,"moreLessToggleReader"],null],[10,"aria-expanded",[26,[[18,"isExpanded"]]]],[10,"aria-label",[18,"moreLessToggleText"],null],[3,"action",[[19,0,[]],"toggleTextView"]],[7],[1,[18,"moreLessToggleText"],false],[8],[0,"\\n        "],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[]}]],"hasEval":false}',meta:{moduleName:"sfw-components/templates/components/collapsible-content.hbs"}})}),define("sfw-components/templates/components/contact-preference",["exports"],function(e){"use strict"
e.__esModule=!0,e.default=Ember.HTMLBars.template({id:"zChZIAct",block:'{"symbols":[],"statements":[[4,"if",[[20,["topicIds","length"]]],null,{"statements":[[4,"if",[[20,["showNotice"]]],null,{"statements":[[0,"        "],[6,"p"],[9,"id","contactPreferenceNotification"],[7],[0,"\\n            "],[1,[20,["strings","Contact_Preference_Notice"]],false],[0,"\\n        "],[8],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"if",[[20,["showCheckbox"]]],null,{"statements":[[0,"        "],[6,"div"],[9,"class","c-checkbox"],[7],[0,"\\n            "],[6,"label"],[9,"class","c-label"],[7],[0,"\\n                "],[6,"input"],[9,"id","contactPreference"],[9,"type","checkbox"],[10,"checked",[18,"isChecked"],null],[10,"aria-checked",[26,[[18,"isChecked"]]]],[9,"aria-labelledby","contactPreferenceLabel"],[3,"action",[[19,0,[]],"onChange"],[["on","preventDefault"],["change",false]]],[7],[8],[0,"\\n                "],[6,"span"],[9,"id","contactPreferenceLabel"],[9,"aria-hidden","true"],[7],[0,"\\n                    "],[4,"if",[[20,["alternateContactPreferenceOption"]]],null,{"statements":[[0," "],[0,"\\n                        "],[1,[18,"alternateContactPreferenceOption"],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"                        "],[1,[20,["strings","Contact_Preference_Option"]],false],[0,"\\n"]],"parameters":[]}],[4,"unless",[[20,["hidePrivacyStatement"]]],null,{"statements":[[4,"if",[[20,["privacyStatement"]]],null,{"statements":[[0,"                            "],[1,[25,"message-with-links",null,[["messageParts","action","inline"],[[20,["privacyStatement"]],"privacyStatement","true"]]],false],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null],[0,"                "],[8],[0,"\\n            "],[8],[0,"\\n        "],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"sfw-components/templates/components/contact-preference.hbs"}})}),define("sfw-components/templates/components/credit-card-icons",["exports"],function(e){"use strict"
e.__esModule=!0,e.default=Ember.HTMLBars.template({id:"y+i9bCbN",block:'{"symbols":["item"],"statements":[[6,"p"],[9,"class","cardsIconLabel cli_cardsIconLabel"],[7],[1,[20,["strings","Add_CreditCard_Or_DebitCard_Label"]],false],[8],[0,"\\n"],[4,"each",[[20,["supportedCreditCardPaymentMethods"]]],null,{"statements":[[6,"img"],[9,"class","preferredLogo cli_cardIcon"],[10,"aria-label",[19,1,["display","name"]],null],[10,"alt",[19,1,["display","name"]],null],[10,"src",[19,1,["preferredLogo"]],null],[7],[8],[0,"\\n"]],"parameters":[1]},null]],"hasEval":false}',meta:{moduleName:"sfw-components/templates/components/credit-card-icons.hbs"}})}),define("sfw-components/templates/components/fingerprint-tagging",["exports"],function(e){"use strict"
e.__esModule=!0,e.default=Ember.HTMLBars.template({id:"HCwFkVsd",block:'{"symbols":[],"statements":[[4,"if",[[20,["taggingUrl"]]],null,{"statements":[[4,"if",[[20,["isRTL"]]],null,{"statements":[[0,"        "],[6,"iframe"],[9,"class","cli_fpt_iframe fpt-iframe"],[9,"style","color:#000; float:right; position:absolute; top:-700px; right:-700px; border:0"],[10,"src",[26,[[18,"taggingUrl"]]]],[9,"aria-hidden","true"],[7],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"        "],[6,"iframe"],[9,"class","cli_fpt_iframe fpt-iframe"],[9,"style","color:#000; float:left; position:absolute; top:-700px; left:-700px; border:0"],[10,"src",[26,[[18,"taggingUrl"]]]],[9,"aria-hidden","true"],[7],[8],[0,"\\n"]],"parameters":[]}]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"sfw-components/templates/components/fingerprint-tagging.hbs"}})}),define("sfw-components/templates/components/formatted-price",["exports"],function(e){"use strict"
e.__esModule=!0,e.default=Ember.HTMLBars.template({id:"9bxo/2Dv",block:'{"symbols":[],"statements":[[4,"if",[[20,["formattedPricePromise"]]],null,{"statements":[[0,"    "],[1,[18,"formattedPriceDisplay"],true]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"sfw-components/templates/components/formatted-price.hbs"}})}),define("sfw-components/templates/components/item-price-info-monthlyequivalent",["exports"],function(e){"use strict"
e.__esModule=!0,e.default=Ember.HTMLBars.template({id:"3YbNQVf3",block:'{"symbols":[],"statements":[[4,"if",[[20,["isReadyToPurchase"]]],null,{"statements":[[0,"    "],[6,"div"],[9,"id","PriceContainerMEP"],[9,"aria-live","polite"],[7],[0,"\\n        "],[6,"div"],[9,"style","padding-top: 5px;"],[7],[0,"\\n            "],[6,"span"],[9,"class","floatLeft"],[7],[6,"strong"],[7],[1,[18,"productTitle"],false],[8],[8],[0,"\\n            "],[6,"span"],[9,"class","floatRight"],[7],[0,"\\n                "],[6,"strong"],[7],[0,"\\n                    "],[1,[18,"perMonthPriceFormat"],false],[0,"\\n                "],[8],[0,"\\n            "],[8],[0,"\\n            "],[6,"div"],[9,"style","clear: both;"],[7],[8],[0,"\\n        "],[8],[0,"\\n        "],[6,"div"],[9,"class","infoLineItem"],[7],[0,"\\n            "],[6,"span"],[9,"class","floatLeft"],[7],[1,[20,["strings","Purchase_MonthlyEquivalentPricing_PercentageSaving"]],false],[8],[0,"\\n            "],[6,"span"],[9,"class","floatRight"],[7],[1,[20,["strings","Subscribe_Charge_Frequency_TwelveMonths"]],false],[8],[0,"\\n            "],[6,"div"],[9,"style","clear: both;"],[7],[8],[0,"\\n        "],[8],[0,"\\n        "],[6,"div"],[9,"class","subTotal"],[7],[0,"\\n            "],[6,"span"],[9,"class","floatLeft"],[7],[6,"strong"],[7],[1,[20,["strings","Purchase_Subtotal"]],false],[8],[8],[0,"\\n            "],[6,"span"],[9,"class","floatRight"],[7],[0,"\\n                "],[6,"strong"],[7],[1,[25,"formatted-price",null,[["number","currencyCode","displayFormat"],[[20,["priceWithTaxLegend","price"]],[20,["priceWithTaxLegend","currencyCode"]],[20,["priceWithTaxLegend","priceFormat"]]]]],false],[8],[0,"\\n            "],[8],[0,"\\n            "],[6,"div"],[9,"style","clear: both;"],[7],[8],[0,"\\n        "],[8],[0,"\\n    "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"    "],[6,"div"],[9,"class","cli_totalPrice"],[7],[0,"\\n        "],[1,[25,"formatted-price",null,[["number","currencyCode","displayFormat"],[[20,["priceWithTaxLegend","price"]],[20,["priceWithTaxLegend","currencyCode"]],[20,["monthlyEquivalentPrice"]]]]],false],[0,"\\n    "],[8],[0,"\\n"]],"parameters":[]}]],"hasEval":false}',meta:{moduleName:"sfw-components/templates/components/item-price-info-monthlyequivalent.hbs"}})}),define("sfw-components/templates/components/item-price-info-subscription",["exports"],function(e){"use strict"
e.__esModule=!0,e.default=Ember.HTMLBars.template({id:"1okyghmX",block:'{"symbols":[],"statements":[[6,"div"],[9,"id","PriceContainer"],[9,"aria-live","polite"],[7],[0,"\\n"],[4,"if",[[20,["autoRenewalTitle"]]],null,{"statements":[[0,"        "],[6,"div"],[9,"class","cli_autoRenewalTitle"],[7],[1,[18,"autoRenewalTitle"],false],[8],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[20,["trialDuration"]]],null,{"statements":[[0,"            "],[6,"div"],[9,"class","cli_trialDuration"],[7],[1,[18,"trialDuration"],false],[8],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[20,["priceWithTaxLegend"]]],null,{"statements":[[4,"if",[[20,["isGift"]]],null,{"statements":[[0,"                    "],[6,"div"],[9,"class","priceTax cli_totalPrice"],[7],[0,"\\n                        "],[1,[20,["strings","Gift_Price"]],false],[0,"\\n                        "],[1,[25,"formatted-price",null,[["number","currencyCode","displayFormat"],[[20,["priceWithTaxLegend","price"]],[20,["priceWithTaxLegend","currencyCode"]],[20,["priceWithTaxLegend","priceFormat"]]]]],false],[0,"\\n                    "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[20,["showRenewalPriceFormat"]]],null,{"statements":[[0,"                        "],[6,"div"],[9,"class","priceTax cli_totalPrice"],[7],[0,"\\n                            "],[1,[25,"formatted-price",null,[["number","currencyCode","displayFormat"],[[20,["renewalInfo","price"]],[20,["renewalInfo","currencyCode"]],[20,["renewalInfo","priceFormat"]]]]],false],[0,"\\n                        "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"                        "],[6,"div"],[9,"class","priceTax cli_totalPrice"],[7],[0,"\\n                            "],[1,[25,"formatted-price",null,[["number","currencyCode","displayFormat"],[[20,["priceWithTaxLegend","price"]],[20,["priceWithTaxLegend","currencyCode"]],[20,["priceWithTaxLegend","priceFormat"]]]]],false],[0,"\\n                        "],[8],[0,"\\n"]],"parameters":[]}]],"parameters":[]}]],"parameters":[]},null]],"parameters":[]}]],"parameters":[]}],[8],[0,"\\n\\n"],[4,"if",[[20,["displayMetaContainer"]]],null,{"statements":[[6,"div"],[9,"class","metaContainer"],[7],[0,"\\n"],[4,"if",[[20,["renewalPromo"]]],null,{"statements":[[0,"        "],[6,"div"],[9,"class","cli_renewalPromo"],[7],[1,[18,"renewalPromo"],false],[8],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[20,["showBonusTime"]]],null,{"statements":[[0,"        "],[6,"h3"],[9,"class","type-t3"],[7],[1,[18,"bonusTimeSubtitle"],false],[8],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[20,["trialDuration"]]],null,{"statements":[[4,"if",[[20,["priceWithTaxLegend"]]],null,{"statements":[[4,"if",[[20,["isGift"]]],null,{"statements":[[0,"                    "],[6,"div"],[9,"class","priceTax cli_totalPrice"],[7],[0,"\\n                        "],[1,[20,["strings","Gift_Price"]],false],[0,"\\n                        "],[1,[25,"formatted-price",null,[["number","currencyCode","displayFormat"],[[20,["priceWithTaxLegend","price"]],[20,["priceWithTaxLegend","currencyCode"]],[20,["priceWithTaxLegend","priceFormat"]]]]],false],[0,"\\n                    "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"                    "],[6,"div"],[9,"class","cli_totalPrice"],[7],[0,"\\n                        "],[1,[25,"formatted-price",null,[["number","currencyCode","displayFormat"],[[20,["priceWithTaxLegend","price"]],[20,["priceWithTaxLegend","currencyCode"]],[20,["priceWithTaxLegend","priceFormat"]]]]],false],[0,"\\n                    "],[8],[0,"\\n"]],"parameters":[]}]],"parameters":[]},null]],"parameters":[]},null],[0,"\\n"],[4,"if",[[20,["renewalInfo"]]],null,{"statements":[[0,"        "],[6,"div"],[9,"class","cli_renewalPriceAndFrequency"],[7],[0,"\\n            "],[1,[25,"formatted-price",null,[["number","currencyCode","displayFormat"],[[20,["renewalInfo","price"]],[20,["renewalInfo","currencyCode"]],[20,["renewalInfo","priceFormat"]]]]],false],[0,"\\n        "],[8],[0,"\\n"]],"parameters":[]},null],[0,"    "]],"parameters":[]}]],"parameters":[]}],[8],[0,"\\n"]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"sfw-components/templates/components/item-price-info-subscription.hbs"}})}),define("sfw-components/templates/components/item-price-info",["exports"],function(e){"use strict"
e.__esModule=!0,e.default=Ember.HTMLBars.template({id:"2MiiHF5e",block:'{"symbols":[],"statements":[[6,"div"],[9,"id","PriceContainer"],[9,"aria-live","polite"],[7],[0,"\\n"],[4,"if",[[20,["priceWithTaxLegend"]]],null,{"statements":[[4,"if",[[20,["isGift"]]],null,{"statements":[[0,"            "],[6,"div"],[9,"class","priceTax cli_totalPrice"],[7],[0,"\\n               "],[1,[20,["strings","Gift_Price"]],false],[0,"\\n               "],[1,[25,"formatted-price",null,[["number","currencyCode","displayFormat"],[[20,["priceWithTaxLegend","price"]],[20,["priceWithTaxLegend","currencyCode"]],[20,["priceWithTaxLegend","priceFormat"]]]]],false],[0,"\\n            "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"            "],[6,"div"],[9,"class","priceTax cli_totalPrice"],[7],[0,"\\n                "],[1,[25,"formatted-price",null,[["number","currencyCode","displayFormat"],[[20,["priceWithTaxLegend","price"]],[20,["priceWithTaxLegend","currencyCode"]],[20,["priceWithTaxLegend","priceFormat"]]]]],false],[0,"\\n            "],[8],[0,"\\n"]],"parameters":[]}]],"parameters":[]},null],[8],[0,"\\n\\n"],[4,"if",[[20,["displayMetaContainer"]]],null,{"statements":[[0,"    "],[6,"div"],[9,"class","metaContainer"],[7],[0,"\\n"],[4,"if",[[20,["consumableQuantity"]]],null,{"statements":[[0,"            "],[6,"div"],[9,"class","cli_consumableQuantity"],[7],[1,[18,"consumableQuantity"],false],[8],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"if",[[20,["lineItemQuantity"]]],null,{"statements":[[0,"            "],[6,"div"],[9,"class","priceMeta cli_lineItemQuantity"],[7],[1,[18,"lineItemQuantity"],false],[8],[0,"\\n"]],"parameters":[]},null],[4,"if",[[20,["lineItemUnitPrice"]]],null,{"statements":[[0,"            "],[6,"div"],[9,"class","priceMeta cli_lineItemUnitPrice"],[7],[0,"\\n                "],[1,[25,"formatted-price",null,[["number","currencyCode","displayFormat"],[[20,["lineItemUnitPrice","price"]],[20,["lineItemUnitPrice","currencyCode"]],[20,["lineItemUnitPrice","priceFormat"]]]]],false],[0,"\\n            "],[8],[0,"\\n"]],"parameters":[]},null],[4,"if",[[20,["showDuration"]]],null,{"statements":[[0,"            "],[6,"div"],[9,"class","priceMeta cli_lineItemQuantity"],[7],[1,[18,"durationTimeSubtitle"],false],[8],[0,"\\n"]],"parameters":[]},null],[0,"    "],[8],[0,"\\n"]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"sfw-components/templates/components/item-price-info.hbs"}})}),define("sfw-components/templates/components/legal-terms",["exports"],function(e){"use strict"
e.__esModule=!0,e.default=Ember.HTMLBars.template({id:"jLsih5Un",block:'{"symbols":["part","part"],"statements":[[4,"collapsible-content",null,[["disabled","isCheckout","isExpanded"],[[20,["disableCollapse"]],[20,["isCheckout"]],[20,["expandByDefault"]]]],{"statements":[[0,"    "],[6,"div"],[9,"id","LegalContainer"],[7],[0,"\\n        "],[6,"p"],[9,"id","LegalText"],[10,"class",[26,["cli_LegalText ",[25,"if",[[20,["useExtraWide"]],"extra-wide"],null]]]],[10,"aria-label",[18,"legalTerm"],null],[7],[4,"if",[[20,["isXboxOne"]]],null,{"statements":[[2," Do not try to break down the below {each} block as breaking down introduces unwanted spaces  "],[4,"each",[[20,["tokenizedText"]]],null,{"statements":[[4,"if",[[19,2,["isToken"]]],null,{"statements":[[1,[19,2,["tokenText"]],false]],"parameters":[]},{"statements":[[4,"if",[[19,2,["isPrice"]]],null,{"statements":[[1,[25,"formatted-price",null,[["number","currencyCode","displayFormat"],[[19,2,["price"]],[19,2,["currencyCode"]],[19,2,["priceFormat"]]]]],false]],"parameters":[]},{"statements":[[1,[19,2,["value"]],false]],"parameters":[]}]],"parameters":[]}]],"parameters":[2]},null]],"parameters":[]},{"statements":[[2," Do not try to break down the below {each} block as breaking down introduces unwanted spaces  "],[4,"each",[[20,["tokenizedText"]]],null,{"statements":[[4,"if",[[19,1,["isToken"]]],null,{"statements":[[6,"a"],[10,"href",[19,1,["url"]],null],[10,"id",[19,1,["id"]],null],[10,"class",[19,1,["css"]],null],[10,"data-bi-name",[19,1,["tokenText"]],null],[10,"data-bi-id",[19,1,["id"]],null],[3,"action",[[19,0,[]],"clickToRedirect",[19,1,["url"]],[19,1,["touType"]],[19,1,["value"]]]],[7],[1,[19,1,["tokenText"]],false],[8]],"parameters":[]},{"statements":[[4,"if",[[19,1,["isPrice"]]],null,{"statements":[[1,[25,"formatted-price",null,[["number","currencyCode","displayFormat"],[[19,1,["price"]],[19,1,["currencyCode"]],[19,1,["priceFormat"]]]]],false]],"parameters":[]},{"statements":[[1,[19,1,["value"]],false]],"parameters":[]}]],"parameters":[]}]],"parameters":[1]},null]],"parameters":[]}],[4,"if",[[20,["bankDisclaimerString"]]],null,{"statements":[[6,"span"],[9,"id","LegalTextDisclaimer"],[10,"class",[26,["cli_LegalTextDisclaimer ",[25,"if",[[20,["useExtraWide"]],"extra-wide"],null]]]],[7],[1,[18,"bankDisclaimerString"],false],[8]],"parameters":[]},null],[8],[0,"\\n    "],[8],[0,"\\n"]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"sfw-components/templates/components/legal-terms.hbs"}})}),define("sfw-components/templates/components/message-with-bolded-button-names",["exports"],function(e){"use strict"
e.__esModule=!0,e.default=Ember.HTMLBars.template({id:"ZruAKmt4",block:'{"symbols":["part"],"statements":[[4,"each",[[20,["messageParts"]]],null,{"statements":[[4,"if",[[19,1,["isToken"]]],null,{"statements":[[6,"span"],[9,"class","bold"],[7],[1,[19,1,["tokenText"]],false],[8]],"parameters":[]},{"statements":[[1,[19,1,["value"]],false]],"parameters":[]}]],"parameters":[1]},null]],"hasEval":false}',meta:{moduleName:"sfw-components/templates/components/message-with-bolded-button-names.hbs"}})}),define("sfw-components/templates/components/message-with-links",["exports"],function(e){"use strict"
e.__esModule=!0,e.default=Ember.HTMLBars.template({id:"EJtH2IYY",block:'{"symbols":["part"],"statements":[[4,"each",[[20,["messageParts"]]],null,{"statements":[[4,"if",[[19,1,["isToken"]]],null,{"statements":[[4,"if",[[19,1,["url"]]],null,{"statements":[[4,"if",[[20,["showAsText"]]],null,{"statements":[[1,[19,1,["tokenText"]],false]],"parameters":[]},{"statements":[[6,"a"],[10,"href",[19,1,["url"]],null],[10,"id",[19,1,["id"]],null],[10,"class",[19,1,["css"]],null],[10,"data-bi-name",[19,1,["biContentName"]],null],[10,"data-bi-id",[19,1,["id"]],null],[3,"action",[[19,0,[]],"onClick",[19,1,["url"]],[19,1,["id"]]]],[7],[1,[19,1,["tokenText"]],false],[8]],"parameters":[]}]],"parameters":[]},{"statements":[[6,"span"],[9,"class","bold"],[7],[1,[19,1,["tokenText"]],false],[8]],"parameters":[]}]],"parameters":[]},{"statements":[[1,[19,1,["value"]],false]],"parameters":[]}]],"parameters":[1]},null]],"hasEval":false}',meta:{moduleName:"sfw-components/templates/components/message-with-links.hbs"}})}),define("sfw-components/templates/components/pidl-displayhelp-item",["exports"],function(e){"use strict"
e.__esModule=!0,e.default=Ember.HTMLBars.template({id:"U+D9b0r9",block:'{"symbols":[],"statements":[[4,"if",[[20,["isHeader"]]],null,{"statements":[[0,"    "],[6,"h2"],[7],[1,[20,["item","displayContent"]],false],[8],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"if",[[20,["isText"]]],null,{"statements":[[0,"    "],[6,"p"],[7],[1,[20,["item","displayContent"]],false],[8],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"if",[[20,["isImage"]]],null,{"statements":[[0,"    "],[6,"img"],[9,"class","pidlDisplayHelpImage"],[10,"alt",[18,"imageAltText"],null],[10,"src",[26,[[20,["item","sourceUrl"]]]]],[7],[8],[0,"    \\n"]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"sfw-components/templates/components/pidl-displayhelp-item.hbs"}})})
define("sfw-components/templates/components/pidl-displayhelp",["exports"],function(e){"use strict"
e.__esModule=!0,e.default=Ember.HTMLBars.template({id:"biItE6Y2",block:'{"symbols":["item","item"],"statements":[[4,"if",[[20,["isDisplayModePopUp"]]],null,{"statements":[[6,"div"],[9,"style","display: none"],[10,"id",[26,[[18,"displayId"],"_displayHelp"]]],[9,"class","pidlDisplayHelp"],[9,"role","dialog"],[7],[0,"\\n    "],[6,"button"],[9,"aria-label","Close"],[9,"data-dismiss","alert"],[9,"class","pidlDisplayHelpX"],[3,"action",[[19,0,[]],"hideDisplayHelp",[20,["displayId"]]]],[7],[0,"\\n        "],[6,"span"],[7],[0,""],[8],[0,"\\n    "],[8],[0,"\\n"],[4,"each",[[20,["displayHelp"]]],null,{"statements":[[0,"        "],[1,[25,"pidl-displayhelp-item",null,[["item","displayHelp"],[[19,2,[]],[20,["displayHelp"]]]]],false],[0,"\\n"]],"parameters":[2]},null],[8],[0,"\\n"]],"parameters":[]},{"statements":[[6,"div"],[9,"class","pidlDisplayHelpInline"],[7],[0,"\\n"],[4,"each",[[20,["displayHelp"]]],null,{"statements":[[0,"        "],[1,[25,"pidl-displayhelp-item",null,[["item","displayHelp"],[[19,1,[]],[20,["displayHelp"]]]]],false],[0,"\\n"]],"parameters":[1]},null],[8],[0,"\\n"]],"parameters":[]}]],"hasEval":false}',meta:{moduleName:"sfw-components/templates/components/pidl-displayhelp.hbs"}})}),define("sfw-components/templates/components/pidl-document",["exports"],function(e){"use strict"
e.__esModule=!0,e.default=Ember.HTMLBars.template({id:"sjQLksic",block:'{"symbols":["item"],"statements":[[4,"each",[[20,["pidl"]]],null,{"statements":[[4,"if",[[19,1,["isGroup"]]],null,{"statements":[[0,"        "],[1,[25,"pidl-group",null,[["pidlGroup","model","userProfile"],[[19,1,[]],[20,["model"]],[20,["userProfile"]]]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"        "],[1,[25,"pidl-item",null,[["pidlItem","model","userProfile","showDisplayName","update"],[[19,1,[]],[20,["model"]],[20,["userProfile"]],"true","checkDependency"]]],false],[0,"\\n"]],"parameters":[]}]],"parameters":[1]},null]],"hasEval":false}',meta:{moduleName:"sfw-components/templates/components/pidl-document.hbs"}})}),define("sfw-components/templates/components/pidl-group",["exports"],function(e){"use strict"
e.__esModule=!0,e.default=Ember.HTMLBars.template({id:"w/5F5RvN",block:'{"symbols":["item"],"statements":[[6,"label"],[10,"id",[26,[[20,["pidlGroup","displayId"]]]]],[9,"class","pidlLabel cli_pidlLabel"],[10,"for",[20,["pidlGroup","pidl_blend_id"]],null],[7],[1,[20,["pidlGroup","displayName"]],false],[8],[0,"\\n"],[4,"each",[[20,["pidlGroup","members"]]],null,{"statements":[[4,"if",[[20,["isInline"]]],null,{"statements":[[0,"        "],[6,"div"],[9,"class","pidlGroupColumn"],[7],[0,"\\n"],[4,"if",[[19,1,["isGroup"]]],null,{"statements":[[0,"                "],[1,[25,"pidl-group",null,[["pidlGroup","model","userProfile","groupId"],[[19,1,[]],[20,["model"]],[20,["userProfile"]],[20,["pidlGroup","displayId"]]]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"                "],[1,[25,"pidl-item",null,[["pidlItem","model","userProfile","groupId","showDisplayName","inGroup"],[[19,1,[]],[20,["model"]],[20,["userProfile"]],[20,["pidlGroup","displayId"]],[20,["canShowMembersDisplayName"]],true]]],false],[0,"\\n"]],"parameters":[]}],[0,"        "],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[1]},null]],"hasEval":false}',meta:{moduleName:"sfw-components/templates/components/pidl-group.hbs"}})}),define("sfw-components/templates/components/pidl-item-label",["exports"],function(e){"use strict"
e.__esModule=!0,e.default=Ember.HTMLBars.template({id:"jVybSD2M",block:'{"symbols":[],"statements":[[1,[20,["pidlItem","displayName"]],false],[4,"if",[[20,["pidlItem","data_description","is_optional"]]],null,{"statements":[[0," "],[1,[18,"optionalLabel"],false]],"parameters":[]},null],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"sfw-components/templates/components/pidl-item-label.hbs"}})}),define("sfw-components/templates/components/pidl-item",["exports"],function(e){"use strict"
e.__esModule=!0,e.default=Ember.HTMLBars.template({id:"5kFJ5DcW",block:'{"symbols":[],"statements":[[4,"unless",[[20,["pidlItem","isHidden"]]],null,{"statements":[[4,"if",[[20,["isOptionalAddressField"]]],null,{"statements":[[0,"        "],[1,[25,"input",null,[["type","value","id","class"],["hidden",[20,["pidlItem","data_value"]],[20,["pidlItem","pidl_blend_id"]],[25,"concat",["cli_pidlTextbox"," ",[25,"if",[[20,["pidlType"]],[25,"-normalize-class",["pidlType",[20,["pidlType"]]],null]],null]," "],null]]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[20,["isTextbox"]]],null,{"statements":[[0,"        "],[6,"div"],[10,"class",[26,[[18,"containerClass"]]]],[10,"style",[18,"styleDisplay"],null],[7],[0,"\\n"],[4,"if",[[20,["canShowDisplayName"]]],null,{"statements":[[0,"            "],[1,[25,"pidl-item-label",null,[["pidlItem"],[[20,["pidlItem"]]]]],false],[0,"\\n"]],"parameters":[]},null],[0,"            "],[6,"div"],[3,"action",[[19,0,[]],"focusOut",[20,["pidlItem"]]],[["on"],["focusOut"]]],[7],[0,"\\n                "],[6,"div"],[3,"action",[[19,0,[]],"change",[20,["pidlItem"]]],[["on"],["input"]]],[7],[0,"\\n"],[4,"if",[[20,["isModernXboxClient"]]],null,{"statements":[[0,"                        "],[1,[25,"input",null,[["value","id","aria-required","disabled","maxlength","aria-labelledby","placeholder","class"],[[20,["pidlItem","data_value"]],[20,["pidlItem","pidl_blend_id"]],[20,["isRequired"]],[20,["isDisabled"]],[20,["pidlItem","maxLength"]],[20,["pidlItem","pidl_blend_error_id"]],[20,["pidlItem","displayName"]],[25,"concat",["cli_pidlTextbox"," ","form-control"," ",[25,"if",[[20,["pidlType"]],[25,"-normalize-class",["pidlType",[20,["pidlType"]]],null]],null]," "],null]]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"                        "],[1,[25,"input",null,[["value","id","aria-required","disabled","maxlength","aria-labelledby","class"],[[20,["pidlItem","data_value"]],[20,["pidlItem","pidl_blend_id"]],[20,["isRequired"]],[20,["isDisabled"]],[20,["pidlItem","maxLength"]],[20,["pidlItem","pidl_blend_error_id"]],[25,"concat",["cli_pidlTextbox"," ","form-control"," ",[25,"if",[[20,["pidlType"]],[25,"-normalize-class",["pidlType",[20,["pidlType"]]],null]],null]," "],null]]]],false],[0,"\\n"]],"parameters":[]}],[4,"if",[[20,["pidlItem","displayHelp"]]],null,{"statements":[[4,"unless",[[20,["isXboxOne"]]],null,{"statements":[[0,"                            "],[6,"button"],[9,"type","button"],[10,"aria-label",[26,[[20,["strings","AddPi_DisplayHelpAriaLabel"]]]]],[9,"class","btn-link"],[9,"aria-haspopup","true"],[3,"action",[[19,0,[]],"showDisplayHelp",[20,["pidlItem","displayId"]]],[["on"],["click"]]],[7],[1,[20,["strings","AddPi_CvvHint_Text"]],false],[8],[0,"\\n                            "],[1,[25,"pidl-displayhelp",null,[["displayHelp","displayId","displayMode"],[[20,["pidlItem","displayHelp"]],[20,["pidlItem","displayId"]],"popup"]]],false],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null],[0,"                "],[8],[0,"\\n            "],[8],[0,"\\n            "],[6,"p"],[9,"class","pidl_individual_error cli_pidlError hideError"],[10,"id",[20,["pidlItem","pidl_blend_error_id"]],null],[9,"role","alert"],[7],[8],[0,"\\n"],[4,"if",[[20,["pidlItem","displayHelp"]]],null,{"statements":[[4,"if",[[20,["isXboxOne"]]],null,{"statements":[[0,"                    "],[1,[25,"pidl-displayhelp",null,[["displayHelp","displayId","displayMode"],[[20,["pidlItem","displayHelp"]],[20,["pidlItem","displayId"]],"inline"]]],false],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null],[0,"        "],[8],[0,"\\n"]],"parameters":[]},null],[4,"if",[[20,["isDropdown"]]],null,{"statements":[[0,"        "],[6,"div"],[10,"class",[26,[[18,"containerClass"]]]],[10,"style",[18,"styleDisplay"],null],[7],[0,"\\n"],[4,"if",[[20,["canShowDisplayName"]]],null,{"statements":[[0,"            "],[1,[25,"pidl-item-label",null,[["pidlItem"],[[20,["pidlItem"]]]]],false],[0,"\\n"]],"parameters":[]},null],[0,"            "],[1,[25,"button-dropdown",null,[["pidl_blend_id","pidlModelObj","prompt","initialContent","isDisabled","defaultValue","change","pidl_blend_error_id","inlineStyle","groupId","ariaLabel"],[[20,["pidlItem","pidl_blend_id"]],[20,["pidlItem"]],[20,["pidlItem","displaySelectionText"]],[20,["dropDownItems"]],[20,["isDisabled"]],[20,["pidlItem","data_value"]],"change",[20,["pidlItem","pidl_blend_error_id"]],[20,["inlineStyle"]],[20,["groupId"]],[20,["pidlItem","displayPropertyDescription"]]]]],false],[0,"\\n            "],[6,"p"],[9,"class","pidl_individual_error cli_pidlError hideError"],[10,"id",[20,["pidlItem","pidl_blend_error_id"]],null],[9,"role","alert"],[7],[8],[0,"\\n        "],[8],[0,"\\n"]],"parameters":[]},null],[4,"if",[[20,["isCheckbox"]]],null,{"statements":[[0,"        "],[6,"div"],[10,"class",[26,[[18,"containerClass"]]]],[10,"style",[18,"styleDisplay"],null],[7],[0,"\\n"],[4,"if",[[20,["canShowDisplayName"]]],null,{"statements":[[0,"            "],[1,[25,"pidl-item-label",null,[["pidlItem"],[[20,["pidlItem"]]]]],false],[0,"\\n"]],"parameters":[]},null],[0,"            "],[6,"div"],[3,"action",[[19,0,[]],"focusOut",[20,["pidlItem"]]],[["on"],["focusOut"]]],[7],[0,"\\n                "],[6,"div"],[3,"action",[[19,0,[]],"change",[20,["pidlItem"]]],[["on"],["change"]]],[7],[0,"\\n                    "],[1,[25,"input",null,[["type","id","checked"],["checkbox",[20,["pidlItem","pidl_blend_id"]],[20,["data_value"]]]]],false],[0,"\\n                "],[8],[0,"\\n                "],[6,"p"],[9,"class","pidl_individual_error cli_pidlError hideError"],[10,"id",[20,["pidlItem","pidl_blend_error_id"]],null],[9,"role","alert"],[7],[8],[0,"\\n            "],[8],[0,"\\n        "],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[]}]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"sfw-components/templates/components/pidl-item.hbs"}})}),define("sfw-components/templates/components/risk-challenge",["exports"],function(e){"use strict"
e.__esModule=!0,e.default=Ember.HTMLBars.template({id:"wP6kaa/e",block:'{"symbols":["pidlDocument","pidlDocument","info"],"statements":[[6,"div"],[9,"class","content"],[7],[0,"\\n    "],[6,"h1"],[9,"class","type-t2 cli_challengeTitle"],[7],[1,[18,"title"],false],[8],[0,"\\n    "],[6,"p"],[9,"id","ChallengeTextContainer"],[9,"class","cli_challengeText"],[7],[1,[18,"text"],false],[8],[0,"\\n"],[4,"if",[[20,["isCvvChallenge"]]],null,{"statements":[[0,"        "],[6,"form"],[9,"id","securityCodeContainer"],[9,"class","cli_challengeSecurityCodeContainer"],[9,"role","form"],[3,"action",[[19,0,[]],"enterPressed"],[["on"],["submit"]]],[7],[0,"\\n            "],[6,"div"],[9,"class","selectedPi cli_cvvSelectedPi"],[7],[0,"\\n                "],[6,"div"],[9,"class","piDisplayData"],[7],[0,"\\n"],[4,"with",[[20,["model","piModel","display_info"]]],null,{"statements":[[0,"                        "],[6,"div"],[9,"class","piLogo"],[7],[0,"\\n                            "],[6,"img"],[10,"aria-label",[19,3,["payment_method_display_name"]],null],[10,"alt",[19,3,["payment_method_display_name"]],null],[10,"src",[19,3,["logo"]],null],[7],[8],[0,"\\n                        "],[8],[0,"\\n                        "],[6,"div"],[9,"class","piName"],[7],[1,[19,3,["account_holder_name"]],false],[8],[0,"\\n                        "],[6,"div"],[9,"class","piIdentifier"],[7],[1,[19,3,["payment_instrument_identifier"]],false],[8],[0,"\\n                        "],[6,"div"],[9,"class","piExpiration"],[7],[0,"\\n                            "],[6,"span"],[7],[1,[19,3,["expiry_month"]],false],[8],[0,"/"],[6,"span"],[7],[1,[19,3,["expiry_year"]],false],[8],[0,"\\n                        "],[8],[0,"\\n"]],"parameters":[3]},null],[0,"                "],[8],[0,"\\n            "],[8],[0,"\\n            "],[6,"div"],[9,"id","securityCodeContainer"],[9,"class","cli_challengeSecurityCodeContainer"],[7],[0,"\\n"],[4,"each",[[20,["model","pidlDocuments"]]],null,{"statements":[[0,"                    "],[1,[25,"pidl-document",null,[["pidl","model","userProfile"],[[19,2,["pidlModel"]],[20,["model"]],[20,["model","userProfile"]]]]],false],[0,"\\n"]],"parameters":[2]},null],[0,"            "],[8],[0,"\\n        "],[8],[0,"\\n"]],"parameters":[]},null],[4,"if",[[20,["isSmsChallenge"]]],null,{"statements":[[0,"        "],[6,"form"],[9,"id","securityCodeContainer"],[9,"class","cli_challengeSecurityCodeContainer"],[9,"role","form"],[3,"action",[[19,0,[]],"enterPressed"],[["on"],["submit"]]],[7],[0,"\\n"],[4,"each",[[20,["model","pidlDocuments"]]],null,{"statements":[[0,"                "],[1,[25,"pidl-document",null,[["pidl","model","userProfile"],[[19,1,["pidlModel"]],[20,["model"]],[20,["model","userProfile"]]]]],false],[0,"\\n"]],"parameters":[1]},null],[0,"        "],[8],[0,"\\n"],[4,"if",[[20,["isXboxOne"]]],null,{"statements":[[0,"            "],[6,"button"],[9,"class","btn btn-default cli_resendCodeButton"],[9,"data-bi-name","ResendCode"],[9,"data-bi-mto",""],[3,"action",[[19,0,[]],"resendCode"]],[7],[1,[20,["strings","Phone_Resend_Code"]],false],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"            "],[6,"a"],[9,"class","linkText cli_resendLink"],[9,"href","#"],[9,"id","resendCode"],[9,"data-bi-name","ResendCode"],[9,"data-bi-mto",""],[3,"action",[[19,0,[]],"resendCode"]],[7],[1,[20,["strings","Phone_Resend_Code"]],false],[8],[0,"\\n"]],"parameters":[]}]],"parameters":[]},null],[8],[0,"\\n"],[6,"div"],[9,"class","CTAContainer"],[7],[0,"\\n    "],[6,"button"],[9,"class","btn btn-default btn-back cli_challengeCancel"],[9,"id","challengeCancel"],[9,"data-bi-name","ChallengeCancel"],[9,"data-bi-slot","1"],[9,"data-bi-mto",""],[3,"action",[[19,0,[]],"cancel"]],[7],[1,[20,["strings","Shared_Button_Cancel"]],false],[8],[0,"\\n    "],[6,"button"],[9,"class","btn btn-primary btn-xbox-submit cli_challengeOk"],[9,"id","challengeOK"],[9,"data-bi-name","ChallengeOK"],[9,"data-bi-slot","2"],[9,"data-bi-mto",""],[3,"action",[[19,0,[]],"submit"]],[7],[1,[20,["strings","Shared_Button_OK"]],false],[8],[0,"\\n"],[8]],"hasEval":false}',meta:{moduleName:"sfw-components/templates/components/risk-challenge.hbs"}})}),define("sfw-components/templates/components/subs-downgrade",["exports"],function(e){"use strict"
e.__esModule=!0,e.default=Ember.HTMLBars.template({id:"65pOqGP/",block:'{"symbols":[],"statements":[[0,"  "],[6,"div"],[9,"class","content"],[7],[0,"\\n"],[4,"if",[[20,["ismoderngamertagenabled"]]],null,{"statements":[[0,"    "],[6,"div"],[9,"id","GamertagContainer"],[7],[0,"\\n        "],[6,"div"],[9,"class","gamertag cli_gamertag"],[7],[1,[18,"moderngamertag"],false],[8],[0,"\\n        "],[6,"div"],[9,"class","gamertagsuffix cli_gamertagsuffix"],[7],[1,[18,"moderngamertagsuffix"],false],[8],[0,"\\n    "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[20,["gamertag"]]],null,{"statements":[[0,"        "],[6,"div"],[9,"class","gamertag cli_gamertag"],[7],[1,[18,"gamertag"],false],[8],[0,"\\n"]],"parameters":[]},null],[0,"      \\n"]],"parameters":[]}],[0,"    "],[6,"h1"],[9,"class","type-t2 cli_dialogTitle"],[7],[1,[18,"downgradeTitle"],false],[8],[0,"\\n    "],[6,"p"],[9,"class","cli_text"],[7],[1,[18,"downgradeDescription"],false],[8],[0,"\\n"],[4,"if",[[20,["showDowngradeDetails"]]],null,{"statements":[[0,"      "],[6,"p"],[9,"class","bold red prorateText cli_recommended"],[7],[1,[20,["strings","Office_Recommended_Title"]],false],[8],[0,"\\n      "],[6,"p"],[9,"class","bold prorateText cli_prorateText"],[7],[1,[18,"keepCurrentOptionTitle"],false],[8],[0,"\\n      "],[1,[25,"bullet-list",null,[["listItems"],[[20,["keepCurrentStrings"]]]]],false],[0,"\\n      "],[6,"p"],[9,"class","prorateText cli_downgradeText"],[7],[1,[18,"downgradeOptionTitle"],false],[8],[0,"\\n      "],[1,[25,"bullet-list",null,[["listItems"],[[20,["convertProduct","downgradeShortDescription"]]]]],false],[0,"\\n"]],"parameters":[]},null],[0,"  "],[8],[0,"\\n  "],[6,"div"],[9,"class","CTAContainer"],[7],[0,"\\n"],[4,"if",[[20,["showDowngradeDetails"]]],null,{"statements":[[0,"      "],[6,"button"],[9,"id","downgradeConfirmButton"],[9,"class","btn btn-default btn-back cli_downgradeButton"],[3,"action",[[19,0,[]],"downgradeConfirm"]],[7],[0,"\\n        "],[1,[18,"getLessOfficeButton"],false],[0,"\\n      "],[8],[0,"\\n      "],[6,"button"],[9,"id","keepCurrentButton"],[9,"class","btn btn-primary cli_keepCurrentButton"],[3,"action",[[19,0,[]],"keepCurrent"]],[7],[0,"\\n        "],[1,[18,"keepCurrentButton"],false],[0,"\\n      "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"      "],[6,"button"],[9,"id","cancelButton"],[9,"class","btn btn-default btn-back cli_cancelButton"],[3,"action",[[19,0,[]],"cancel"]],[7],[0,"\\n        "],[1,[20,["strings","Shared_Button_Cancel"]],false],[0,"\\n      "],[8],[0,"\\n      "],[6,"button"],[9,"id","getMyOwnButton"],[9,"class","btn btn-default btn-back cli_getMyOwnButton"],[3,"action",[[19,0,[]],"downgradeConfirm"]],[7],[0,"\\n        "],[1,[20,["strings","Shared_Button_GetMyOwn"]],false],[0,"\\n      "],[8],[0,"\\n"]],"parameters":[]}],[0,"  "],[8]],"hasEval":false}',meta:{moduleName:"sfw-components/templates/components/subs-downgrade.hbs"}})}),define("sfw-components/utils/legal-market-region",["exports","sfw-telemetry/utils/start-data","sfw-telemetry/utils/flight-config","sfw-telemetry/utils/client"],function(e,t,r,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default={getRegion:function(){var e=t.default.get().Market.toLowerCase()
return"il"===e?"IL":["at","be","bg","hr","cy","cz","dk","ee","fi","fr","de","gr","hu","is","ie","it","lv","li","lt","lu","mt","nl","no","pl","pt","ro","sk","si","es","se","ch","gb"].includes(e)?"EU":"au"===e?"AU":"nz"===e?"NZ":"jp"===e&&r.default.isEnabled("legalstringsjp")&&!n.default.isWindowsOobeClient()?"JP":"Default"}}}),define("sfw-components/utils/more-less",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,t){if(e&&e.length&&t){var r=e.css("max-height")
if(!r||"none"===r)return
return r=r.replace(/[^-\d.]/g,""),(e.prop&&e.prop("scrollHeight"))>Number(r)+3&&(e.addClass&&e.addClass("preview"),!0)}}}),define("sfw-components/utils/order-bi-data",["exports","sfw-telemetry/utils/start-data"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,r,n,i,a,o){var s,l={},u=t.default.get().Market&&t.default.get().Market.toLowerCase()
return e&&e.get&&(l.isPiRequired=e.get("isPIRequired"),l.orderId=e.get("orderId"),l.shortOrderId=e.get("shortOrderId"),s=e.get("firstLineItem"),l.sessionId=e.get("sessionId")||"",l.isSubscriptionTrial=e.get("isSubscriptionTrialItem"),l.isSubscription=e.get("isSubscriptionItem"),l.isBillingAddressSet=e.get("billingInformation")&&!!e.get("billingInformation.soldToAddressId")||!1),s&&s.get&&(!0===i&&(l.total=s.get("totalAmount"),l.totalAmountBeforeTax=e.get("totalAmountBeforeTax"),l.currency=e.get("currencyCode")),l.lineItemId=s.get("lineItemId"),l.productId=s.get("productId"),l.productType=s.get("productType"),l.productFamily=s.get("productFamily"),l.category=s.get("category"),l.primaryCategory=s.get("primaryCategory"),l.subCategory=s.get("subCategory"),l.title=s.get("title"),l.skuId=s.get("skuId"),l.skuType=s.get("skuType"),l.availabilityId=s.get("availabilityId"),l.isGift=!!s.get("giftee"),l.campaignId=s.get("campaignId"),l.optionalCampaignId=s.get("optionalCampaignId"),l.devOfferId=s.get("devOfferId"),l.orderAdditionalMetadata=e.get("orderAdditionalMetadata"),s.get("purchaseRestriction")&&(l.isPurchaserChild=s.get("isPurchaserChild"),l.askToBuySetting=s.get("askToBuySetting"))),l.isPaymentInstrumentSet=!1,r&&r.get&&(l.piType=r.get("payment_method_type"),l.piMethod=r.get("payment_method_family"),l.isPaymentInstrumentSet=!!l.piType&&!!l.piMethod&&!!function(e,t,r){if(e&&e.get("isCsv")&&!t&&r.get("isSubscriptionItem"))return!1
return!!e||!r.get("isPiRequired")}(r,n,e)),n&&n.get&&(l.backupPiType=n.get("payment_method_type"),l.backupPiMethod=n.get("payment_method_family")),a&&a.get&&(l.numAddresses=a.get("addresses.length"),l.numAddressesInMarket=l.numAddresses,l.isDefaultAddressInMarket=u&&a.get("defaultAddress")&&a.get("defaultAddress.country").toLowerCase()===u||!1),o&&(l.origin=t.default.get().Origin,l.didStartAddPi=o.didStartAddPi,l.didFinishAddPi=o.didFinishAddPi,l.didCancelAddPi=o.didCancelAddPi,l.didCancelChoosePiToAdd=o.didCancelChoosePiToAdd,l.didStartAddAddress=o.didStartAddAddress,l.didFinishAddAddress=o.didFinishAddAddress,l.addPIType=o.addPIType,l.addPIFamily=o.addPIFamily,l.didStartSelectBackup=o.didStartSelectBackup,l.didFinishSelectBackup=o.didFinishSelectBackup,l.didStartAddBackup=o.didStartAddBackup,l.didFinishAddBackup=o.didFinishAddBackup,l.didStartPSD2Challenge=o.didStartPSD2Challenge,l.didFinishPSD2Challenge=o.didFinishPSD2Challenge,l.didStartSMSChallenge=o.didStartSMSChallenge,l.didFinishSMSChallenge=o.didFinishSMSChallenge,l.didStartCVVChallenge=o.didStartCVVChallenge,l.didFinishCVVChallenge=o.didFinishCVVChallenge,l.didStartDowngrade=o.didStartDowngrade,l.didFinishDowngrade=o.didFinishDowngrade,l.didStartYearlySubscription=o.didStartYearlySubscription,l.didFinishYearlySubscription=o.didFinishYearlySubscription,l.didHavePi=o.didHavePi,l.didRedirectReturn=o.didRedirectReturn,l.didStartUpgrade=o.didStartUpgrade,l.didFinishUpgrade=o.didFinishUpgrade),l}}),define("sfw-components/utils/pidl-display-data",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default={getAddPiUserDisplayData:function(e){var t={}
return e&&((t=this.getAddressDisplayData(e)).paymentMethodType=e.paymentMethodType&&e.paymentMethodType.capitalize?e.paymentMethodType.capitalize():null,t.accountHolderName=e.details&&e.details.accountHolderName?e.details.accountHolderName:null,t.expiryMonth=e.details&&e.details.expiryMonth?e.details.expiryMonth:null,t.expiryYear=e.details&&e.details.expiryYear?e.details.expiryYear:null,t.accountToken=e.details&&e.details.accountToken?e.details.accountToken:null,t.bankName=e.details&&e.details.bankName||null,t.bankCode=e.details&&e.details.bankCode||null),t},getAddressDisplayData:function(e){var t={}
if(e){var r=e.address_line1?e:e.details&&e.details.address
t.address=r||{}}return t}}}),define("sfw-components/utils/pidl-user-input-error",["exports","sfw-telemetry/utils/blend-bi-tracker"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var r=function(e){var t={}
return e&&e.pidl_blend_id_value?t.field=e.pidl_blend_id_value:e&&e.error&&"propertyValidationFailed"===e.error.name?(t.field=e.error.propertyName,t.errorDetail=e):e&&"propertyValidationFailed"===e.name&&(t.field=e.propertyName,t.errorDetail=e),t}
e.default={logField:function(e){t.default.captureContentPageAction({name:"PidlFieldValidationFailed"},{fields:[r(e)]})},logFields:function(e){if("[object Array]"===Object.prototype.toString.call(e)){var n=[]
$.each(e,function(e,t){n.push(r(t))}),t.default.captureContentPageAction({name:"PidlFormValidationFailed"},{fields:n})}}}}),define("sfw-components/utils/pidl-validator2",["exports","sfw-services/utils/strings","sfw-components/utils/pidl-user-input-error","sfw-services/utils/pidl-data","sfw-telemetry/utils/flight-config","sfw-services/errors/service-error"],function(e,t,r,n,i,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var o=null,s=null,l=null,u=null,d=function(e,t,r,n){var i=void 0!==t
t=void 0!==t?t:e.data_description.validation.error_message,r=r||e.pidl_blend_id,n=n||e.pidl_blend_error_id
var a=$("#"+r)
a&&a.addClass("errorStroke")
var l=$("#"+n)
l&&(l.removeClass("hideError"),l.addClass("showError"),l.text(t),i&&l.attr("aria-label",e.displayName+" "+t),o=o||n),s=s||e},c=function(){if(o){var e=$("#"+o),t=$(".content")
if(e){var r=e.parents(".pidlContainer").find(".pidlLabel")
if(t&&r&&r.offset()){var n=t.scrollTop()+r.offset().top-t.offset().top
t.scrollTop(n),e.focus()}}}},f=function(e){if(e&&e.pidl_blend_error_id){var t=$("#"+e.pidl_blend_error_id)
t&&(t.removeClass("showError"),t.addClass("hideError"))}if(e&&e.pidl_blend_id){var r=$("#"+e.pidl_blend_id)
r&&r.removeClass("errorStroke")}},p=function(e){return e&&(e.dataClearValue||e.data_value)},m=function(e,r){var n,i=p(e),a=i&&i.toString&&i.toString()
if(n=h(e),"alipayAccount"===e.pidl_blend_id_value&&g(e),!r&&!String.prototype.isNullOrWhitespace(a)&&e.data_description&&e.data_description.validation){if(!("address_line1"===e.propertyName||"address_line2"===e.propertyName?new RegExp(e.data_description.validation.regex,"i"):new RegExp(e.data_description.validation.regex)).test(a))return d(e),!1}else if(String.prototype.isNullOrWhitespace(a)&&e.data_description&&(n||!e.data_description.hasOwnProperty("is_optional")||!1===e.data_description.is_optional))return d(e,t.default.PaymentInstrument_Required_Data_Error),!1
return f(e),!0},h=function(e){var t=e.dependentPropertyName,r=e.dependentPropertyValueRegex
if(t&&r){var i=$("#"+n.default.pidl_blend_id_prefix+t).val()
if(new RegExp(r).test(i))return!0}return!1},g=function(e){var t="email"===$("#"+n.default.pidl_blend_id_prefix+"alipayAccountType").val()?/^([A-Za-z0-9._%+-]+@([A-Za-z0-9-]+\.)+([A-Za-z0-9]{2,4}))$/:/^(1[0-9]{10})$/
e.data_description.validation.regex=t},v=function e(t,r,n){var i=null
return t&&Array.isArray(t)&&t.forEach(function(t){t.groupId=n,t&&!i&&("[object Array]"===Object.prototype.toString.call(t)?i=e(t.pidlModel,r):t.displayType&&t.displayType.equalsIgnoreCase("group")?i=e(t.members,r,t.displayId):t.data_description&&t.data_description.type&&!t.data_description.type.equalsIgnoreCase("hidden")&&t.pidl_blend_id_value.equalsIgnoreCase(r)&&(i=t))}),i},y=function(e){var t=[]
return e&&Array.isArray(e)&&e.forEach(function(e){if(e){var r=p(e)
t.push(r)}else t.push(null)}),t},b=function(e,r){var n,o=null
if(i.default.isEnabled("newerrors"))n=r instanceof a.JarvisError?r.data&&r.data.property_name:r&&r.code
else{var s=r?r.responseJSON||r:null;(n=s&&s.innererror&&s.innererror.code)||(n=s&&s.parameters&&s.parameters.property_name)}if(e&&n){switch(n=n.toLowerCase()){case"invalidaccountholder":o={message:t.default.CardHolderName_Validation_Error_Message,pidlItems:[v(e,"accountHolderName")]}
break
case"invalidpaymentinstrumentinfo":o={message:t.default.CardNumber_Validation_Error_Message,pidlItems:[v(e,"accountToken")]}
break
case"expiredcard":case"invalidexpirydate":o={message:t.default.ExpirationDate_Validation_Error_Message,pidlItems:[v(e,"expiryMonth"),v(e,"expiryYear")]}
break
case"invalidcvv":o={message:t.default.Cvv_Validation_Error_Message,pidlItems:[v(e,"cvvToken")]}
break
case"invalidaddressfieldscombination":case"invalidaddress":case"address":case"invalid_address_fields_combination":(o={message:t.default.Address_Validation_Error_Message,pidlItems:function e(t,r,n,i){return n=n||[],t&&Array.isArray(t)&&t.forEach(function(t){t.groupId=i,t&&(t.data_description&&t.data_description.parentNode&&t.data_description.parentNode.equalsIgnoreCase&&t.data_description.parentNode.equalsIgnoreCase(r)?n.push(t):"[object Array]"===Object.prototype.toString.call(t)?e(t.pidlModel,r,n):t.displayType&&t.displayType.equalsIgnoreCase("group")&&e(t.members,r,n,t.displayId))}),n}(e,"address")}).pidlItems.length||(o.pidlItems=[v(e,"address_line1"),v(e,"address_line2"),v(e,"city"),v(e,"region"),v(e,"postal_code"),v(e,"country")])
break
case"invalidcity":case"city":var l=v(e,"city")
o={message:t.default.Generic_Validation_Error_Message.replace("{0}",l.display_name),pidlItems:[l]}
break
case"invalidstate":case"invalidregion":case"state":case"region":var u=v(e,"region")
o={message:t.default.Generic_Validation_Error_Message.replace("{0}",u.displayName||u.display_name),pidlItems:[u]}
break
case"invalidpostalcode":case"invalidzipcode":case"postal_code":case"zip_code":var d=v(e,"postal_code")
o={message:t.default.Generic_Validation_Error_Message.replace("{0}",d.displayName||d.display_name),pidlItems:[d]}
break
case"moaccountnotfound":o={message:t.default.AddPi_NonSim_Error_CantFindNumber,pidlItems:[v(e,"msisdn")||v(e,"pin")]}
break
case"rejectedbyprovider":o={message:t.default.AddPi_NonSim_Error_InvalidNumber,pidlItems:[v(e,"msisdn")]}
break
case"invalidchallengecode":o={message:t.default.AddPi_NonSim_Error_InvalidCode,pidlItems:[v(e,"pin")]}
break
case"taxiderror":var c=v(e,"value")
o={message:t.default.Generic_Validation_Error_Message.replace("{0}",c.displayName||c.display_name),pidlItems:[c]}
break
case"invalidalipayaccount":o={message:t.default.AddPi_AlipayBa_Error_InvalidAccount,pidlItems:[v(e,"alipayAccount")]}
break
case"usermobilenotmatch":o={message:t.default.AddPi_AlipayBa_Error_PhoneNotMatch,pidlItems:[v(e,"phone")]}
break
case"challengecodeexpired":o={message:t.default.AddPi_AlipayBa_Error_SMSCodeExpired,pidlItems:[v(e,"pin")]}
break
case"usercertnomatch":o={message:t.default.AddPi_AlipayBa_Error_CertNotMatch,pidlItems:[v(e,"lastFiveCertNo")]}}o&&(o.pildItemsErrorValues=y(o.pidlItems))}return o},_=function(e){e||(e=$("#payment_method_family_container"))
var t=e&&e.find&&e.find("input:not(.hiddenSubmitButton),select,textarea,button:not(.btn-default)").filter(":enabled:visible:first")
t&&t.length&&t.length>0&&(t[0].focus(),t[0].setSelectionRange&&t[0].setSelectionRange(t[0].value.length,t[0].value.length))}
e.default={validate:function(e,t){var r=!1
return e&&(r=m(e,t))&&this.showPifdValidationErrorV2(),r},isDependencyValid:function(e){var t=e.dependentPropertyName,r=e.dependentPropertyValueRegex
if(t&&r){var i=$("#"+n.default.pidl_blend_id_prefix+t).val()
if(!new RegExp(r).test(i))return!0}return!1},validateAtDisplayIndex:function(e,t){var r=this,n=function(e,t,r){return r=r||[],e&&Array.isArray(e)&&null!=t&&e.forEach(function(e){e&&!r.length&&e.displayIndex===t&&(e.displayType&&e.displayType.equalsIgnoreCase("group")?e.members.forEach(function(t){t.groupId=e.displayId,r.push(t)}):r.push(e))}),r}(e,t),i=n.length>0
return n.forEach(function(e){i=r.validate(e)&&i}),i},reset:f,validateAll:function(e,n,i,a){var l=!1
return e&&e.length&&(o=null,s=null,u=null,(l=function e(r,n){var i=!0
return r&&Array.isArray(r)&&r.forEach(function(r){if(r)if("[object Array]"===Object.prototype.toString.call(r))i=e(r.pidlModel,n)&&i
else if(r.displayType&&r.displayType.equalsIgnoreCase("group")){var a=e(r.members,n)
if(i=a&&i,a&&"expiryGroup"===r.displayId){var o=v(r.members,"expiryMonth"),s=v(r.members,"expiryYear"),l=new Date
if(s.data_value&&s.data_value<l.getFullYear()||+s.data_value===l.getFullYear()&&o.data_value<l.getMonth()+1){for(var c=!0,p=0;p<r.members.length;p++)r.members[p]&&(d(r.members[p],c?t.default.ExpirationDate_Validation_Error_Message:""),c=!1)
i=!1}else f(o),f(s)}}else if(r.data_description&&r.data_description.type&&!r.data_description.type.equalsIgnoreCase("hidden")&&(!n||r.fieldIsDone)){var h=m(r)
i=h&&i,h||("[object Array]"!==Object.prototype.toString.call(u)&&(u=[]),u.push(r))}}),i}(e,n))||(u?r.default.logFields(u):r.default.logField(s),a&&s&&Ember.get(a,"isXboxOne")&&a.set("displayIndex",s.displayIndex)),i||c()),l},showPifdValidationErrorV2:function(e,t,r){if(l=t&&"validation"===t.type?function(e,t,r){var n={message:t,pidlItems:[v(e,r)]}
return n.pildItemsErrorValues=y(n.pidlItems),n}(e,t.errorMessage,t.propertyName):b(e,t)||l){o=null,s=null,u=null,l.isXboxOne=r&&Ember.get(r,"isXboxOne")||l.isXboxOne
for(var n=!0,i=0;i<l.pidlItems.length;i++)l.pidlItems[i]&&p(l.pidlItems[i])===l.pildItemsErrorValues[i]&&(d(l.pidlItems[i],n?l.message:""),n=l.isXboxOne&&!l.pidlItems[i].groupId)
e&&t&&r&&(s&&Ember.get(r,"isXboxOne")?(r.set("displayIndex",s.displayIndex),Ember.run.scheduleOnce("afterRender",this,function(){_()})):c())}},findPidlForKey:function(e,t,r,i){var a=null
return t&&r&&Array.isArray(t)&&Array.isArray(r)&&t.length===r.length&&t.forEach(function(t,o){if(r[o]&&r[o].pidlModel&&$.inArray(e,r[o].pidlModel)>=0){var s=p(e),l=commerce&&commerce.resolveInfoDescriptionId(t,s)
if(l){for(var u=[a=n.default.prepareModel(t,!0,i,r[o],l.type)],d=1;d<r.length;d++)u.push(r[d])
return void n.default.setDisplayIndex(u)}}}),a},focusValidElementOnPage:_}}),define("sfw-components/utils/product-types",["exports","sfw-telemetry/utils/start-data"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var r=["movie","episode","tvepisode","season","tvseason","seasonpass","bundle","track","musictrack","album","musicalbum"],n=["durable","consumable","unmanagedconsumable"]
e.default={isMediaItem:function(e){return e=e||t.default.get().ProductType,r.containsAnyIgnoreCase(e)},isInAppPurchase:function(e){return e=e||t.default.get().ProductType,n.containsAnyIgnoreCase(e)}}}),define("sfw-components/utils/purchase-legal-strings",["exports","sfw-services/utils/strings","sfw-telemetry/utils/start-data","sfw-telemetry/utils/flight-config"],function(e,t,r,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var e=!"CN".equalsIgnoreCase(r.default.get().Market),i=t.default.Purchase_UniversalLegalTerms_V1,a=t.default.Purchase_UniversalLegalTerms_EU_V1,o=t.default.Purchase_UniversalLegalTerms_AU_V1,s=e?i:t.default.Purchase_UniversalLegal,l=e?a:t.default.Purchase_UniversalLegal_EU,u=e?o:t.default.Purchase_UniversalLegal_AU,d=t.default.Purchase_UniversalLegalTerms_JP_V1,c=e?o:t.default.Purchase_UniversalLegal,f=e?t.default.Purchase_UniversalLegalTerms_BuyVideo_NoRefund:t.default.Purchase_UniversalLegal,p=e?t.default.Purchase_UniversalLegalTerms_BuyVideo_EU:t.default.Purchase_UniversalLegal_EU,m=e?t.default.Purchase_UniversalLegalTerms_BuyVideo_AU:t.default.Purchase_UniversalLegal_AU,h=t.default.Purchase_UniversalLegalTerms_JP_V1,g=e?t.default.Purchase_UniversalLegalTerms_RentVideo_V1:t.default.Purchase_UniversalLegal_RentVideo,v=e?t.default.Purchase_UniversalLegalTerms_RentVideo_EU_V1:t.default.Purchase_UniversalLegal_RentVideo_EU,y=e?t.default.Purchase_UniversalLegalTerms_RentVideo_AU_V1:t.default.Purchase_UniversalLegal_RentVideo_AU,b=t.default.Purchase_UniversalLegalTerms_RentVideo_JP_V1,_=t.default.Purchase_UniversalLegalTerms_Preorder_V1,I=t.default.Purchase_UniversalLegalTerms_Preorder_EU_V1,C=e?_:t.default.Purchase_UniversalLegal_Preorder,P=e?I:t.default.Purchase_UniversalLegal_Preorder_EU,w=t.default.Purchase_UniversalLegalTerms_Preorder_JP_V1,E=e?t.default.Purchase_LegalTerms:t.default.Shared_Legal_Text,T=e?t.default.Purchase_PiRequiredButFree_LegalTerms:t.default.Purchase_PiRequiredButFree_LegalText,S=t.default.Purchase_DigitalAttach_LegalTerms,x=t.default.Purchase_DigitalAttach_LegalTerms_EU,k=e?t.default.Purchase_OEMTrial_LegalTerms:t.default.Purchase_OEMTrial_LegalText,A=e?t.default.Purchase_UniversalLegalTerms_CSV_EU:t.default.Purchase_UniversalLegal_CSV_EU,M=t.default.Purchase_SubscriptionUpgrade_Legal_IL_New,R=t.default.Purchase_SubscriptionUpgrade_Legal_JP_New,D=t.default.Purchase_SubscriptionUpgrade_Legal_New,O=t.default.Auto_Renewal_Subscription_LegalTerms_New,N=t.default.Auto_Renewal_Subscription_LegalTerms_IL_New,L=n.default.isEnabled("newsubscriptionlegalstrings")?t.default.Auto_Renewal_Subscription_LegalTerms_EU_New_V1:t.default.Auto_Renewal_Subscription_LegalTerms_EU_New,F=t.default.Purchase_Subscription_IAPLegalTerms_EU_New,U=t.default.Purchase_Subscription_IAPLegalTerms_IL_New,j=t.default.Purchase_Subscription_IAPLegalTerms_JP_New,z=t.default.Purchase_Subscription_IAPLegalTerms_New,q=t.default.Purchase_Subscription_IAPLegalTerms_IL_New,V=t.default.Purchase_Subscription_IAPLegalTerms_EU_New,B=t.default.Purchase_Subscription_IAPLegalTerms_JP_New,H=n.default.isEnabled("newsubscriptionlegalstrings")?t.default.Purchase_Subscription_IAPLegalTerms_EU_New_V1:t.default.Purchase_Subscription_IAPLegalTerms_EU_New,W=t.default.Purchase_Subscription_LegalTerms_New,$=t.default.Purchase_Subscription_LegalTerms_IL_New,G=t.default.Purchase_Subscription_LegalTerms_EU_New,K=n.default.isEnabled("newsubscriptionlegalstrings")?t.default.Purchase_Subscription_LegalTerms_EU_New_V1:t.default.Purchase_Subscription_LegalTerms_New,X=t.default.Purchase_Subscription_LegalTerms_GB,J=t.default.Purchase_Subscriptions_LegalTerms_JP_New,Q=t.default.Purchase_SubscriptionTrial_IAPLegalTerms_New,Y=t.default.Purchase_SubscriptionTrial_IAPLegalTerms_EU_New,Z=t.default.Purchase_SubscriptionTrial_IAPLegalTerms_AU_New,ee=t.default.Purchase_SubscriptionTrial_IAPLegalTerms_IL_New,te=t.default.Purchase_SubscriptionTrial_IAPLegalTerms_JP_New,re=t.default.Purchase_Subscription_WindowsOobe_LegalTerms_New,ne=t.default.Purchase_Subscription_WindowsOobe_LegalTerms_IL_New,ie=t.default.Purchase_SubscriptionTrial_WindowsOobe_LegalTerms_New,ae=t.default.Purchase_SubscriptionTrial_LegalTerms_New,oe=t.default.Purchase_SubscriptionTrial_LegalTerms_IL_New,se=n.default.isEnabled("newsubscriptionlegalstrings")?t.default.Purchase_SubscriptionTrial_LegalTerms_EU_New_V1:t.default.Purchase_SubscriptionTrial_LegalTerms_New,le=t.default.Purchase_SubscriptionTrial_LegalTerms_JP_New,ue=t.default.Purchase_AnnualSubscription_DiscountPeriod_LegalTerms_New,de=t.default.Purchase_AnnualSubscription_DiscountPeriod_LegalTerms_IL_New,ce=t.default.Purchase_AnnualSubscription_DiscountPeriod_LegalTerms_JP_New,fe=n.default.isEnabled("newsubscriptionlegalstrings")?t.default.Purchase_AnnualSubscription_DiscountPeriod_LegalTerms_EU:t.default.Purchase_AnnualSubscription_DiscountPeriod_LegalTerms_New,pe=t.default.Purchase_SubscriptionDiscount_LegalTerms_CombinedFormattedPrice_New,me=n.default.isEnabled("newsubscriptionlegalstrings")?t.default.Purchase_SubscriptionDiscount_LegalTerms_CombinedFormattedPrice_EU_NewV3:t.default.Purchase_SubscriptionDiscount_LegalTerms_CombinedFormattedPrice_New,he=t.default.Purchase_SubscriptionDiscount_LegalTerms_CombinedFormattedPrice_IL_New,ge=t.default.Purchase_SubscriptionDiscount_LegalTerms_CombinedFormattedPrice_JP_New,ve=t.default.Purchase_SubscriptionDiscount_LegalTerms_CombinedFormattedPrice_FreeMonth_New,ye=n.default.isEnabled("newsubscriptionlegalstrings")?t.default.Purchase_SubscriptionDiscount_LegalTerms_CombinedFormattedPrice_FreeMonth_EU:t.default.Purchase_SubscriptionDiscount_LegalTerms_CombinedFormattedPrice_FreeMonth_New,be=t.default.Purchase_SubscriptionDiscount_LegalTerms_CombinedFormattedPrice_FreeMonth_IL_New,_e=t.default.Purchase_SubscriptionDiscount_LegalTerms_CombinedFormattedPrice_FreeMonth_JP_New,Ie=t.default.Purchase_SubscriptionDiscount_LegalTerms_CombinedFormattedPrice_TwoFreeMonths_New,Ce=n.default.isEnabled("newsubscriptionlegalstrings")?t.default.Purchase_SubscriptionDiscount_LegalTerms_CombinedFormattedPrice_TwoFreeMonths_EU:t.default.Purchase_SubscriptionDiscount_LegalTerms_CombinedFormattedPrice_TwoFreeMonths_New,Pe=t.default.Purchase_SubscriptionDiscount_LegalTerms_CombinedFormattedPrice_TwoFreeMonths_IL_New,we=t.default.Purchase_SubscriptionDiscount_LegalTerms_CombinedFormattedPrice_TwoFreeMonths_JP_New,Ee=t.default.Purchase_SubscriptionDiscount_LegalTerms_CombinedFormattedPrice_SevenFreeMonths,Te=t.default.Purchase_SubscriptionDiscount_LegalTerms_CombinedFormattedPrice_SevenFreeMonths_EU,Se=t.default.Purchase_SubscriptionDiscount_LegalTerms_CombinedFormattedPrice_SevenFreeMonths_IL,xe=t.default.Purchase_SubscriptionDiscount_LegalTerms_CombinedFormattedPrice_SevenFreeMonths_JP,ke=t.default.Purchase_SubscriptionDiscount_LegalTerms_CombinedFormattedPrice_NewV2,Ae=t.default.Purchase_SubscriptionDiscount_LegalTerms_CombinedFormattedPrice_EU_NewV2,Me=t.default.Purchase_SubscriptionDiscount_LegalTerms_CombinedFormattedPrice_IL_NewV2,Re=t.default.Purchase_SubscriptionDiscount_LegalTerms_CombinedFormattedPrice_JP_NewV2,De=t.default.Redeem_Subscription_AutoRenew_LegalTerms_IL_New,Oe=t.default.Redeem_Subscription_AutoRenew_LegalTerms_New,Ne=n.default.isEnabled("newsubscriptionlegalstrings")?t.default.Redeem_Subscription_AutoRenewalOff_LegalTerms_EU:E,Le=n.default.isEnabled("newsubscriptionlegalstrings")?t.default.Redeem_Subscription_AutoRenewOn_LegalTerms_EU:t.default.Redeem_Subscription_AutoRenew_LegalTerms_New
return{legalTerm:{Default:s,EU:l,AU:u,NZ:u,IL:s,JP:d},legalTermRefundableV1:{Default:c,EU:l,AU:c,NZ:c,IL:c,JP:d},legalForRentVideo:{Default:g,EU:v,AU:y,NZ:y,IL:g,JP:b},legalForBuyVideo:{Default:f,EU:p,AU:m,NZ:m,IL:f,JP:h},legalForRentBook:{Default:t.default.Purchase_LegalTerms_RentBook,EU:t.default.Purchase_LegalTerms_RentBook_EU,AU:t.default.Purchase_LegalTerms_RentBook_AU,NZ:t.default.Purchase_LegalTerms_RentBook_AU,IL:t.default.Purchase_LegalTerms_RentBook,JP:t.default.Purchase_LegalTerms_RentBook_JP},legalForCSV:{Default:s,EU:A,AU:u,NZ:u,IL:s,JP:d},legalForPreOrder:{Default:C,EU:P,AU:C,NZ:C,IL:C,JP:w},legalForRedeemSubscriptionAutoRenewOff:{Default:E,EU:Ne,AU:E,NZ:E,IL:E,JP:E},legalForRedeemSubscriptionAutoRenewV1:{Default:Oe,EU:Le,AU:Oe,NZ:Oe,IL:De,JP:Oe},legalForSubscriptionAutoRenewal:{Default:O,EU:L,AU:O,NZ:O,IL:N,JP:O},legalForSubscription:{Default:W,JP:J},legalForSubscriptionV1:{Default:W,EU:K,AU:W,NZ:W,IL:$,GB:X,JP:J},legalForSubscriptionV2:{Default:W,EU:G,AU:W,NZ:W,IL:$,GB:X,JP:J},legalForSubscriptionTrial:{Default:ae,EU:se,AU:ae,NZ:ae,IL:oe,JP:le},legalForDigitalAttachment:{Default:S,EU:x},legalForSubscriptionWindowsOobeTrial:ie,legalForIAPSubscription:{Default:z,EU:H,AU:V,NZ:V,IL:q,JP:B},legal_SubscriptionIAPRefundableV1:{Default:F,EU:F,AU:F,NZ:F,IL:U,JP:j},legalForIAPSubscriptionTrial:{Default:Q,EU:Y,AU:Z,NZ:Z,IL:ee,JP:te},legalForSubscriptionDiscountV1:{Default:pe,EU:me,AU:pe,NZ:pe,IL:he,JP:ge},legalForSubscriptionDiscountV2:{Default:ke,EU:Ae,AU:ke,NZ:ke,IL:Me,JP:Re},duration:{Hours:t.default.Rent_Duration_Hour,Days:t.default.Rent_Duration_Days},legalForSubscriptionDiscountFreeMonthV1:{Default:ve,EU:ye,AU:ve,NZ:ve,IL:be,JP:_e},legalForSubscriptionDiscountTwoFreeMonthsV1:{Default:Ie,EU:Ce,AU:Ie,NZ:Ie,IL:Pe,JP:we},legalForSubscriptionDiscountSevenFreeMonthsV1:{Default:Ee,EU:Te,AU:Ee,NZ:Ee,IL:Se,JP:xe},legalForAnnualSubscriptionDiscountPeriodLegalTermsV1:{Default:ue,EU:fe,AU:ue,NZ:ue,IL:de,JP:ce},besTVTerm:t.default.Purchase_BesTVLegal,eNotaLegalTerm:t.default.Purchase_Message_EnotaLegal,freeItemLegalTerm:E,oemLegalTerm:k,piRequiredButFree:T,legalUpgradeScenarioV1:{Default:D,EU:D,AU:D,NZ:D,IL:M,JP:R},legalForSubscriptionWinOobeTrialV1:{Default:re,EU:re,AU:re,NZ:re,IL:ne,JP:re}}}}),define("sfw-components/utils/template-tokenizer",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default={tokenize:function(e,t,r,n){var i=[{value:e}]
if(t&&e)for(var a=0;a<t.length;a++){for(var o=t[a],s=[],l=0;l<i.length;l++){var u=i[l]
if(u.isToken)s=s.concat(u)
else{var d=u.value.split("{"+o+"}")
if(s=1===d.length?s.concat([u]):s.concat([{value:d[0]}]),d.length>1){var c=1,f={value:o,isToken:!0,tokenText:r?r(o):o}
for(f=n?n(f):f;null!==d[c]&&void 0!==d[c];)s=s.concat([f,{value:d[c++]}])}}}i=s}return i},tokenizeHtml:function(e,t){var r=[]
if(e){var n=1
Ember.$.parseHTML(e).forEach(function(e){var i
e.href?(i={isToken:!0,tokenText:e.text,value:e.href},i=t?t(i,n):i,n+=1):i={value:e.textContent||e},r.push(i)})}return r}}}),define("sfw-components/utils/time-unit-mapping",["exports","sfw-services/utils/strings","sfw-components/utils/unit-of-time"],function(e,t,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1
switch(e){case r.default.Year:return t.default.Subscribe_Charge_Frequency_Yearly
case r.default.Month:return 1===n?t.default.Subscribe_Charge_Frequency_Monthly:t.default.Subscribe_Charge_Frequency_Months
case r.default.Week:return t.default.Subscribe_Charge_Frequency_Weekly
case r.default.Day:return t.default.Subscribe_Charge_Frequency_Daily}}}),define("sfw-components/utils/timer",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default={wait:function(e){return new Ember.RSVP.Promise(function(t){window.setTimeout(t,e)})},start:function(){return Date.now()},waitAtLeast:function(e,t){return new Ember.RSVP.Promise(function(r){var n=t-(Date.now()-e)
n>0?window.setTimeout(r,n):r()})}}}),define("sfw-components/utils/unit-of-time",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default={Day:"Day",Month:"Month",Year:"Year",Week:"Week"}}),define("sfw-components/utils/user-pidl-data-builder",["exports","sfw-services/utils/blend-service-errors","sfw-services/utils/commerce-js","sfw-services/models/user-pidl-data","sfw-components/utils/pidl-display-data","sfw-components/utils/pidl-validator2","sfw-telemetry/utils/flight-config"],function(e,t,r,n,i,a,o){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default={create:function(e,o,s,l,u,d){var c=d&&d.pidlDocuments
if(!a.default.validateAll(c,!1,!1,d))return new Ember.RSVP.Promise(function(e){e(null)})
var f,p=[],m=[],h=[]
return o&&o.forEach(function(t,n){f=r.default.readUserInputData(t,s,l,u).then(function(a){a&&r.default.getUserDisplayData(t,a).then(function(t){p[n]=a,"address"===e?m[n]=i.default.getAddressDisplayData(t):(m[n]=t,t.paymentMethodType=a.paymentMethodType,m[n]=i.default.getAddPiUserDisplayData(t))},function(e){return{error:r.default.getErrorDetails(e)}})},function(e){return{error:r.default.getErrorDetails(e)}}),h.push(f)}),Ember.RSVP.all(h).then(function(e){if(e&&e.length)for(var r=0;r<e.length;r++)if(e[r]&&e[r].hasOwnProperty("error"))return e[r]
return o&&o.length>0&&p.length>0?n.default.create({data:p,originalPidl:o,prefix:s,suffix:l,model:d,displayData:m}):{error:t.default.get("InvalidData")}})},createWithAddress:function(e,s,l,u,d){if(o.default.isEnabled("userpidlbuilderpi"))return this.create("address",e,s,l,u,d)
var c=d&&d.pidlDocuments
if(!a.default.validateAll(c,!1,!1,d))return new Ember.RSVP.Promise(function(e){e(null)})
var f,p=[],m=[],h=[]
return e&&e.forEach(function(e,t){f=r.default.readUserInputData(e,s,l,u).then(function(n){n&&r.default.getUserDisplayData(e,n).then(function(e){m[t]=i.default.getAddressDisplayData(e),p[t]=n},function(e){return{error:r.default.getErrorDetails(e)}})},function(e){return{error:r.default.getErrorDetails(e)}}),h.push(f)}),Ember.RSVP.all(h).then(function(r){if(r&&r.length)for(var i=0;i<r.length;i++)if(r[i]&&r[i].hasOwnProperty("error"))return r[i]
return e&&e.length>0&&p.length>0?n.default.create({data:p,originalPidl:e,prefix:s,suffix:l,model:d,displayData:m}):{error:t.default.get("InvalidData")}})}}}),define("sfw-messaging/utils/bus",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var t=[]
e.default={subscribe:function(e){return this.when().subscribe(e)},when:function(e){return{subscribe:function(r){var n=function(t){e&&!e(t)||r(t)}
return t.push(n),{unsubscribe:function(){t=t.filter(function(e){return e!==n})}}}}},publish:function(e){t.forEach(function(t){t(e)})}}}),define("sfw-messaging/utils/messages",["exports","sfw-telemetry/utils/client","sfw-telemetry/utils/start-data"],function(e,t,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var n=function(){return{flowId:r.default.get().FlowId,version:"REL20231025.1",source:"purchase"}}
e.default={ready:function(){return $.extend(n(),{message:"ready"})},busy:function(e){return $.extend(n(),{message:"busy",context:e})},status:function(e){return $.extend(n(),{message:"status"},e)},done:function(e){return $.extend(n(),{message:"done"},e)},redeemDone:function(e){return $.extend(n(),{message:"redeemDone"},e)},tvodYield:function(e){return $.extend(n(),{message:"yield"},e)},error:function(e){return $.extend(n(),{message:"error"},e)},playVideo:function(e){return $.extend(n(),{message:"link",type:"playvideo",url:e})},launchApp:function(e){return $.extend(n(),{message:"link",type:"link",url:e})},launchOcrScan:function(){return $.extend(n(),{message:"launchOcrScan"})},authRequest:function(e){return $.extend(n(),{message:"authRequest",relyingParty:e})},authResponse:function(e,t){return $.extend(n(),{message:"authResponse",relyingParty:e,auth:t})},termsOfUse:function(e){return $.extend(n(),{message:"terms",type:e})},piSelected:function(e,t){return $.extend(n(),{message:"piSelected",piId:e,status:t||"CheckingOut"})},sizeChanged:function(e){return $.extend(n(),{message:"sizeChanged",height:e})},transitioned:function(e,t,r,i){var a={message:"transitioned",context:e||"",piData:r||"",addingPi:i||""}
return t&&(a.errorDetails=t),$.extend(n(),a)},errorOccured:function(e){var t={message:"errorOccured",status:"error",errorDetails:e}
return $.extend(n(),t)},openUrl:function(e,t,r,i){return e=e&&(i||e.startsWithIgnoreCase("http"))?e:"https://"+e,$.extend(n(),{message:"openUrl",type:t,targetUrl:e,closeBlend:!!r})},openTerms:function(e,r,i,a){return t.default.isXboxOneClient()?(e=e&&(a||e.startsWithIgnoreCase("http"))?e:"https://"+e,$.extend(n(),{message:"openTerms",type:r,targetUrl:e,closeBlend:!!i})):t.default.isWindowsOobeClient()?(e=e&&(a||e.startsWithIgnoreCase("http"))?e:"https://"+e,this.pageMessage("openTerms",r,e)):this.openUrl(e,r,i,a)},cortanaStringDescription:function(e){return this.pageMessage("pageInfo","currentPageDescription",e||"")},pageMessage:function(e,t,r){return $.extend(n(),{message:"pageMessage",action:e,type:t,data:r})},launchPeoplePicker:function(){return $.extend(n(),{message:"launchpeoplepicker"})},refreshTokens:function(){return $.extend(n(),{message:"refreshTokens"})},launch3DsChallenge:function(e){return $.extend(n(),{message:"launch3DsChallenge",paymentSession:e})},selectPurchaser:function(){return $.extend(n(),{message:"launchaskpurchaser"})},purchaserSelected:function(e,t,r){return $.extend(n(),{message:"purchaserSelected",status:"success",email:e,xuid:t,gamertag:r})},action:function(e){return $.extend(n(),{message:"action",action:e})},orderCreated:function(e){return $.extend(n(),{message:"created",orderId:e})}}}),define("sfw-messaging/utils/open-terms",["exports","sfw-messaging/utils/post-messages","sfw-messaging/utils/messages","sfw-services/utils/constant-links","sfw-telemetry/utils/start-data","sfw-telemetry/utils/client","sfw-telemetry/utils/flight-config"],function(e,t,r,n,i,a,o){"use strict"
function s(){return{url:n.default.get().storeTermsOfSale,touType:o.default.isEnabled("newsalestou")?"salesTerms":"salesTou"}}function l(e){return{url:n.default.get().microsoftServiceAgreement,touType:e?"xblTou":"termsOfUse"}}Object.defineProperty(e,"__esModule",{value:!0}),e.default={open:function(e,n,i,a){var o=a?{touType:e,url:n}:this.getTarget(e),s=i?"openUrl":"openTerms"
t.default.send(r.default[s](n||o.url,o.touType,!1))},enhanceToken:function(e){var t=this.getTarget(e.value)
e.touType=t.touType,e.url=t.url},getTarget:function(e){var t=a.default.isXboxOneClient(),r=e&&e.toLowerCase&&e.toLowerCase(),u="CN".equalsIgnoreCase(i.default.get().Market),d="GB".equalsIgnoreCase(i.default.get().Market)
switch(r){case"termslink":case"salestou":return u?l(t):s()
case"msa":case"msatou":return l(t)
case"learnmoreaboutrefunds":case"learnlink":return{url:a.default.isWindowsOobeClient()&&a.default.isWindowsRoobe()?n.default.get().learnMoreAboutCancellationRoobe:a.default.isWindowsOobeClient()?n.default.get().learnMoreAboutCancellationOobe:n.default.get().learnMoreAboutCancellation,touType:"learnMoreAboutRefunds"}
case"learncancellationlink":return{url:a.default.isWindowsOobeClient()&&a.default.isWindowsRoobe()?d?n.default.get().learnMoreAboutCancellationGBRoobe:n.default.get().learnMoreAboutCancellationRoobe:a.default.isWindowsOobeClient()?d?n.default.get().learnMoreAboutCancellationGBOobe:n.default.get().learnMoreAboutCancellationOobe:d?n.default.get().learnMoreAboutCancellationGB:n.default.get().learnMoreAboutCancellation,touType:"learnMoreAboutCancellation"}
case"usageruleslinktext":return{url:n.default.get().usageRulesForDigitalGoods,touType:"usageRulesForDigitalGoodsLink"}
case"serviceagreementlink":return{url:n.default.get().msaRedeemLink,touType:"serviceAgreementLink"}
case"privacy":case"privacystatement":case"privacystatementbutton":case"paypalqrcodeprivacystatement":return{url:n.default.get().privacyStatement,touType:t?"xblPrivacy":"privacyStatement"}
case"alipayba":case"alipaytoubutton":case"alipaytouviewalipaytermsbutton":return{url:n.default.get().alipayTOU,touType:"alipayLegal"}
case"bestv":return{url:"",touType:"besTvLegal"}
case"gifttou":case"gifttermslink":return{url:n.default.get().giftTermsOfSale,touType:o.default.isEnabled("newsalestou")?"giftTerms":"giftLegal"}
case"klarnaconsentlink":return{url:"",touType:"KlarnaConsent"}
case"klarnatermslink":return{url:"",touType:"KlarnaTou"}
case"xboxwarrantytermslink":return{url:n.default.get().msCompleteXbox,touType:"xboxWarrantyTou"}
case"surfacewarrantytermslink":return{url:n.default.get().msCompleteSurface,touType:"surfaceWarrantyTou"}
case"xboxgamepasslink":return{url:n.default.get().xboxGamePasslink,touType:"ultimateProrateLegalTerms"}
case"xboxgamepassconversionlink":return{url:n.default.get().xboxGamePassConversionlink,touType:"ultimateProrateConversionDuration"}
case"licenceterms":return{url:n.default.get().licenceTermsLink,touType:"licenceTerms"}
case"hl2devterms":return{url:n.default.get().hl2DevTermsLink,touType:"hl2devTerms"}
case"refundlinktext":return{url:n.default.get().returnsRefundsLink,touType:"refundLinkText"}
default:return u?l(t):s()}}}}),define("sfw-messaging/utils/open-url",["exports","sfw-telemetry/utils/client","sfw-messaging/utils/post-messages","sfw-messaging/utils/messages","sfw-telemetry/utils/flight-config"],function(e,t,r,n,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default={open:function(e,a,o,s){i.default.isEnabled("fixxboxcomurls")&&t.default.isWebClient()&&!t.default.isDeviceRepairClient()&&!t.default.clientHandleUrl()?window.open(e,a):!t.default.isWebClient()||t.default.isWebHostedClient()||t.default.clientHandleUrl()?r.default.send(n.default.openUrl(e,a,o,s)):window.open(e,a)},openInBrowser:function(e,t){window.open(e,t)}}}),define("sfw-messaging/utils/post-messages",["exports","sfw-messaging/utils/bus","sfw-telemetry/utils/blend-bi-tracker","sfw-telemetry/utils/flight-config","sfw-telemetry/utils/start-data","sfw-telemetry/utils/oneds-instrumentation"],function(e,t,r,n,i,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var o=!1
Ember.Application.initializer({name:"postMessagesInitializer",initialize:function(){o=!1}}),window.onmessage=function(e){var r=null
if("string"==typeof e.data)try{r=JSON.parse(e.data)}catch(e){}r&&t.default.publish({message:{source:e.source,data:r}})},e.default={send:function(e,t){if(!o){if(n.default.isEnabled("logpostmesseage")){var s={messageDetails:e}
r.default.captureContentPageAction({name:"postMessage"},s)}(o=-1!==["done","error"].indexOf(e.message))&&a.default.flushEvents()
var l=function(e){if(e)return e.replace(/(\\n|\\r)/g,function(e){switch(e){case"\\n":return"\\\\n"
case"\\r":return"\\\\r"}})}(JSON.stringify(e))
switch(i.default.get().MessageChannel){case"postmessage":(t||window.parent).postMessage(l,"*")
break
case"notify":window.external.notify(l)
break
default:(t||window.parent).postMessage(l,"*")
try{window.external.notify(l)}catch(e){}}}},listen:function(e,r){return t.default.when(function(e){var t=e&&e.message&&e.message.source
return t&&("*"===r?t!==window.parent:t===(r||window.parent))}).subscribe(function(t){e(t.message.data)})}}}),define("sfw-services/adapters/address",["exports","sfw-services/adapters/application","sfw-services/utils/external-urls","sfw-services/utils/service-call-headers","sfw-telemetry/utils/client","sfw-services/utils/user-id","sfw-services/utils/append-query","sfw-telemetry/utils/start-data","sfw-services/errors/service-error","sfw-telemetry/utils/flight-config"],function(e,t,r,n,i,a,o,s,l,u){"use strict"
function d(e){return e?e.status||e.payload?e.payload&&e.payload.status?e.payload.status:e.status:"ParseError":""}Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default.extend({serviceVersion:"2015-03-31",serviceName:"JarvisFD",errorSource:"JarvisFD",etag:"",validate:"false",includeCorrelationContext:!0,host:Ember.computed(function(){return r.default.get("JarvisHost").toString()}),namespace:Ember.computed(function(){return r.default.get("JarvisNamespace").toString()}),headers:Ember.computed("serviceVersion","etag",function(){return n.default.get({additionalHeaders:{"Content-Type":"application/json","If-Match":this.get("etag")},addCpHeaders:!0,apiVersion:this.get("serviceVersion"),omitMarket:!0,addJwtHeader:!0,addSiteName:!0})}).volatile(),getMoreHeaders:function(e,t){return"PATCH"===t&&e&&e.data&&e.data.etag?(this.etag=e.data.etag,delete e.data.etag,{"If-Match":this.etag}):{}},getErrorMessage:function(){var e={addressValidation:this.get("validate")}
return JSON.stringify(e)},parseError:function(e,t){return new l.JarvisError(e,t.requestCv,t.status)},getInnerErrorCode:function(e){return Ember.get(e,"payload.parameters.property_name")||d(e)},getOuterErrorCode:function(e){return Ember.get(e,"payload.error_code")||d(e)},buildURL:function(e,t,r,n,i){var s=this._super(e,t,r,n,i)
if(r){var l=r.serialize()
this.set("validate",l.validate),u.default.isEnabled("validateaddress")&&l.validateOnly&&(s=s.replace("JarvisCM/me","JarvisCM")+"/validate")}return"query"===n&&(i&&i.userId&&(s=s.replace("JarvisCM/me","JarvisCM/"+(0,a.default)(i.userId)),delete i.userId),u.default.isEnabled("jarvisdedup")&&(s=(0,o.default)(s,{dedupFlag:"addressOnly"}))),r&&r.record&&r.record.legacySync&&(s=(0,o.default)(s,{syncToLegacy:3})),s},getOperationName:function(){return"Address"},ajax:function(e,t,r){return"PUT"===t&&(t="PATCH",r&&r.data&&"true".equalsIgnoreCase(r.data.is_customer_consented)&&(r.data={is_customer_consented:!0,etag:r.data.etag})),$.extend(r.headers,this.getMoreHeaders(r,t)),this._super(e,t,r)},queryForRequest:function(e,t){return"PUT"===t||"POST"===t||"PATCH"===t?{country:s.default.get().Market,culture:s.default.get().Languages||s.default.get().Culture,client:i.default.getClientType()}:{client:i.default.getClientType()}}})}),define("sfw-services/adapters/application",["exports","ember-data","sfw-telemetry/utils/instrumentation","sfw-telemetry/utils/time-span-handler","sfw-services/utils/blend-service-error-parser","sfw-telemetry/utils/flight-config","sfw-telemetry/utils/app-globals","sfw-telemetry/utils/client","sfw-messaging/utils/post-messages","sfw-messaging/utils/messages","sfw-telemetry/utils/start-data","sfw-services/utils/error-types","sfw-services/utils/error-equals","sfw-services/utils/append-query","sfw-services/errors/service-error"],function(e,t,r,n,i,a,o,s,l,u,d,c,f,p,m){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=t.default.RESTAdapter.extend({maxRetries:3,defaultTimeout:3e4,correlationContext:Ember.inject.service(),init:function(){this.set("queue",[])},shouldReloadAll:function(){return!0},shouldBackgroundReloadRecord:function(){return!1},shouldRetryRequest:function(e,t){return this.get("maxRetries")>t&&(!e.status||e.status>=500&&e.status<600)},getErrorMessage:function(){},getInnerErrorCode:function(e){return Ember.get(e,"payload.innererror.code")},getOuterErrorCode:function(e){return Ember.get(e,"payload.code")},getOperationName:function(e){return e},getMoreHeaders:function(){return{}},queryForRequest:function(){return{}},allowParallelRequests:function(){return!0},refreshAuthTokens:function(){return new Ember.RSVP.Promise(function(e,t){var r=setTimeout(function(){n.unsubscribe(),t()},2e3),n=l.default.listen(function(t){t&&"datarefreshed".equalsIgnoreCase(t.message)&&(n.unsubscribe(),clearTimeout(r),t.Auth&&d.default.set("Auth",t.Auth),t.XToken&&d.default.set("XToken",t.XToken),e())})
l.default.send(u.default.refreshTokens())})},parseError:function(e,t){return new m.default(e,t.status,this.get("serviceName"),t.operationName,t.requestCv)},sendApiComplete:function(e){var n=e.headers&&e.headers["Content-Length"],i={serviceName:this.get("serviceName"),operationName:e.operationName,operationVersion:this.get("serviceVersion"),httpStatusCode:null!=e.status?e.status.toString():"",isSuccess:e.succeeded,requestUri:e.url,httpMethod:e.method,contentType:"json",latencyMs:e.timeTaken,cV:e.requestCv||e.headers&&e.headers["MS-CV"],retryCount:e.retryCount||0,responseSize:n&&+n,currentOperationName:o.default.currentRoute||window.location&&window.location.hash&&window.location.hash.replace(/[^\w\s]/gi,"")||window.location.href}
i.errorMessage=this.getErrorMessage()
var l={willRetry:e.willRetry,clientType:s.default.getClientType(),deviceFamily:s.default.getDeviceFamily()}
!e.succeeded&&a.default.isEnabled("newerrors")?(l.innerErrorCode=e.error.innerCode,l.outerErrorCode=e.error.outerCode,l.errorType=e.error.type,l.errorMessage=e.error.message,l.errorData=e.error.data):e.succeeded||(l.innerErrorCode=this.getInnerErrorCode(e),l.outerErrorCode=this.getOuterErrorCode(e),0!==e.status||l.innerErrorCode||l.outerErrorCode||(e.response instanceof t.default.TimeoutError?l.outerErrorCode="Timeout":e.timeTaken<3e3?l.outerErrorCode="Unreachable":l.outerErrorCode="Aborted"),l.innerErrorCode?l.errorType=c.default.get(l.innerErrorCode):l.errorType=l.outerErrorCode?c.default.get(l.outerErrorCode):"system"),i.customData=l,r.default.sendApiComplete(i)},getBaseAjax:function(){return this._super.bind(this)},ajax:function(e,s,l){var u=this
if((l=l||{}).timeout=l.timeout||this.get("defaultTimeout"),l.headers=l.headers||{},e=(0,p.default)(e,this.queryForRequest(e,s,l)),(a.default.isMockService()||this.get("withCredentials"))&&(l.xhrFields=l.xhrFields||{},l.xhrFields.withCredentials=!0),!this.get("serviceName"))throw new Error("This adapter does not define serviceName")
if(void 0===this.get("serviceVersion"))throw new Error("This adapter does not define serviceVersion")
var c=r.default.correlationVector(),h=this.getOperationName(e,s,l)
if($.extend(l.headers,this.getMoreHeaders(l,s)),this.includeCorrelationContext&&(a.default.isEnabled("correlationcontext")||this.get("correlationContextFlightEnabled"))){var g=o.default.currentRoute
if(Ember.isEmpty(g)){var v=window.location.pathname.split("/")
Ember.isEmpty(v)||(g=v[v.length-1])}var y=this.get("correlationContext").getHeaderValue(g)
Ember.isEmpty(y)||(l.headers["Correlation-Context"]=y)}var b=this.getBaseAjax(),_=function e(r,o,s,l,u){var p=this,g=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,v=$.extend(!0,{},s)
a.default.isEnabled("retrypifdazurefd")&&r.toLowerCase().indexOf("paymentinstruments.mp.microsoft.com/v6.0/users/me")>-1&&g>1&&(r=r.replace("paymentinstruments.mp.microsoft.com","edge.payments.microsoft.com/pifd")),n.default.recordTimeSpan(h)
var y=s.headers["MS-CV"]=c&&c.increment();(b(r,o,s)||u(new Error("baseAjax did not return a promise"))).then(function(e){$.extend(e,{url:r,method:o,operationName:h,succeeded:!0,retryCount:g,willRetry:!1,timeTaken:n.default.recordTimeSpan(h,!0),requestCv:y}),p.sendApiComplete(e),l(e.response)},function(c){if(c instanceof Error&&(c={status:0,headers:null,payload:null,response:c}),$.extend(c,{url:r,method:o,operationName:h,succeeded:!1,retryCount:g,willRetry:p.shouldRetryRequest(c,g,s),timeTaken:n.default.recordTimeSpan(h,!0),requestCv:y,errorSource:p.get("errorSource")}),a.default.isEnabled("newerrors")){if(c.payload)try{c.error=p.parseError(c.payload,c)}catch(e){}else c.response instanceof t.default.AdapterError&&!(c.response instanceof t.default.TimeoutError)&&(c.timeTaken<3e3?c.response=new m.UnreachableError(c.response):c.response instanceof t.default.AbortError||(c.response=new t.default.AbortError(c.response)))
c.error||(c.error=new m.default(c.response,c.status,p.get("serviceName"),c.operationName,c.requestCv))}var b=Ember.RSVP.resolve(),_=d.default.get().AuthRefreshAllowed
401===c.status&&f.default.invalidAuthToken(c.error)&&p.get("maxRetries")>g&&_&&!"false".equalsIgnoreCase(_)&&(b=p.refreshAuthTokens().then(function(){c.willRetry=!0})),b.finally(function(){if(p.sendApiComplete(c),c.willRetry){var t=Math.pow(2,g)
g++,Ember.run.later(p,function(){try{e.call(this,r,o,v,l,u,g)}catch(e){u(e)}},1e3*t)}else if(a.default.isEnabled("newerrors"))u(c.error)
else{var n={defaultError:h}
u(i.default.parseErrorFromResponse(c,n))}})})}
return["PUT","PATCH","DELETE"].includes(s)&&!this.allowParallelRequests()&&a.default.isEnabled("adapterqueues")?new Ember.RSVP.Promise(function(t,r){u.get("queue").push(_.bind(u,e,s,l,t,r)),u.get("requestInProgress")||u._nextRequest()}).finally(function(){u._nextRequest()}):new Ember.RSVP.Promise(function(t,r){_.call(u,e,s,l,t,r)})},handleResponse:function(e,t,r){return{response:this._super.apply(this,arguments),status:e,headers:t,payload:r}},_nextRequest:function(){var e=this.get("queue").shift()
this.set("requestInProgress",!!e),e&&e()}})}),define("sfw-services/adapters/auth-token",["exports","sfw-services/adapters/application","sfw-services/utils/external-urls","sfw-services/utils/service-call-headers","sfw-services/errors/service-error"],function(e,t,r,n,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default.extend({host:Ember.computed(function(){return r.default.get("AuthTokenServiceHost").toString()}),namespace:Ember.computed(function(){return r.default.get("AuthTokenServicePath").toString()}),pathForType:function(){return""},headers:Ember.computed(function(){return n.default.get({omitAcceptLanguage:!0,omitMarket:!0,omitCorrelationId:!0,omitRequestId:!0})}).volatile(),serviceVersion:"1",serviceName:"OneStore",parseError:function(e,t){return new i.OneStoreError(e,t.requestCv,t.status)},getOperationName:function(){return"GetUserJson"},withCredentials:!0,includeCorrelationContext:!0,queryRecord:function(e,t,r){return r.idp="msa",r.returnStatus="true",this._super(e,t,r)}})}),define("sfw-services/adapters/contact-preference",["exports","sfw-services/adapters/application","sfw-services/utils/external-urls","sfw-services/utils/service-call-headers","sfw-services/errors/service-error"],function(e,t,r,n,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default.extend({serviceName:"JarvisFD",serviceVersion:null,includeCorrelationContext:!0,getOperationName:function(){return"SetContactPreference"},parseError:function(e,t){return new i.JarvisError(e,t.requestCv,t.status)},host:Ember.computed(function(){return r.default.get("JarvisHost").toString()}),namespace:Ember.computed(function(){return r.default.get("ContactPointsPath").toString()}),ajax:function(e,t,r){return"PUT"===t&&(t="PATCH"),this._super(e,t,r)},headers:Ember.computed(function(){return n.default.get({additionalHeaders:{"Content-Type":"application/json"},omitMarket:!0,addCpHeaders:!0,addSiteName:!0})}).volatile(),buildURL:function(){return this.urlPrefix()}})}),define("sfw-services/adapters/create-rewards-user",["exports","sfw-services/adapters/application","sfw-services/utils/external-urls","sfw-services/utils/service-call-headers","sfw-telemetry/utils/start-data","sfw-telemetry/utils/client"],function(e,t,r,n,i,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default.extend({maxRetries:0,defaultTimeout:3e4,host:Ember.computed(function(){return r.default.get("StoreEdgeHost").toString()}),namespace:Ember.computed(function(){return r.default.get("StoreEdgeCreateRewardsUserNamespace").toString()}),headers:Ember.computed(function(){return n.default.get({omitAcceptLanguage:!0,omitMarket:!0,omitCorrelationId:!0,omitRequestId:!0})}),serviceName:"StoreEdgeFD",getOperationName:function(){return"CreateRewardsUser"},serviceVersion:"",buildURL:function(){var e="store"
return a.default.isXboxOneClient()?e="store_xbox":a.default.isDesktopClient()&&(e="store_desktop"),this.urlPrefix().replace("{locale}",i.default.get().Culture).replace("{market}",i.default.get().Market).replace("{channel}",e).replace("{options}",4)}})})
define("sfw-services/adapters/friends-info",["exports","sfw-services/adapters/application","sfw-services/utils/service-call-headers","sfw-services/utils/external-urls","sfw-telemetry/utils/flight-config"],function(e,t,r,n,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default.extend({host:Ember.computed(function(){return n.default.get("PeopleHubHost").toString()}),namespace:Ember.computed(function(){return n.default.get("PeopleHubNamespace").toString()}),headers:Ember.computed("serviceVersion",function(){return r.default.get({additionalHeaders:{"x-xbl-contract-version":i.default.isEnabled("enablexblcontractv3")?"3":"1","x-xbl-client-type":"Service","x-xbl-client-name":"StoreFront"},useXBLXToken:!0,omitAcceptLanguage:!0,omitMarket:!0,omitCorrelationId:!0,omitRequestId:!0})}).volatile(),serviceName:"PeopleHub",getOperationName:function(){return"GetFriendsInfo"},serviceVersion:"",buildURL:function(e,t){return this.urlPrefix().replace("{xuid}",t)}})}),define("sfw-services/adapters/order-adapter",["exports","sfw-telemetry/utils/start-data","sfw-services/services/orders","sfw-services/utils/blend-service-errors","sfw-telemetry/utils/app-globals","sfw-services/models/session-ids","sfw-messaging/utils/messages","sfw-messaging/utils/post-messages","sfw-services/utils/configuration","sfw-services/utils/external-urls","sfw-telemetry/utils/flight-config","sfw-telemetry/utils/client","sfw-telemetry/utils/create-guid"],function(e,t,r,n,i,a,o,s,l,u,d,c,f){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var p=function(e,t){var r=e.get("lineItems")
if(r.length){var n=[],a=r.map(function(e){return t.findRecord("product",e.get("hydrationBigId")).then(function(t){e.set("product",t),i.default._legacyPurchaseType=t.get("legacyPurchaseType"),!i.default._legacyPurchaseType&&t.get("isOmexProduct")&&(i.default._legacyPurchaseType="OMEX")},function(t){n.push({id:e.get("id"),error:t})})})
return Ember.RSVP.all(a).then(function(){if(n.length)return Ember.RSVP.reject(n,"hydrateLineItems")})}return Ember.RSVP.resolve()},m=function(e,t){return(e.peekAll("order")||[]).find(function(e){return e.get("orderId")===t})},h=function(e,r,i){var a=v(e)
a&&a.orderId&&!t.default.get().OrderId&&(t.default.get().OrderId=a.orderId)
var l=function(e){if(!e)return n.default.get("InvalidOrderFormat")
if(EmberENV.singleItemPurchase){if(e.orderLineItems&&e.orderLineItems.length>1)return n.default.get("TooManyOrderItems")
if(!e.orderLineItems||!e.orderLineItems[0]||void 0===e.orderLineItems[0].taxType||void 0===e.currencyCode||void 0===e.totalAmount)return n.default.get("InvalidOrMissingParams")}return null}(a)
if(l)return Ember.RSVP.reject(l);(function(e){e&&e.orderLineItems&&e.orderLineItems.length?s.default.send(o.default.status({orderId:e.orderId,count:e.orderLineItems.length,lineItems:e.orderLineItems})):s.default.send(o.default.status({orderId:null,count:0,lineItems:[]}))})(a)
var u=function(e,t){var r=t&&Ember.get(t,"orderId"),n=m(e,r)
return n&&t?((t.orderLineItems||[]).forEach(function(e){e.isShippingAddressRequired=e.isShippingAddressRequired||!1,e.feesLineItem=e.feesLineItem||null,e.shipToAddressId=e.shipToAddressId||null}),n.set("orderState",t.orderState),n.set("orderLineItems",t.orderLineItems),n.set("currencyCode",t.currencyCode),n.set("totalAmount",t.totalAmount),n.set("totalAmountBeforeTax",t.totalAmountBeforeTax),n.set("totalTaxAmount",t.totalTaxAmount),n.set("totalSalesTax",t.totalSalesTax),n.set("totalAmusementTax",t.totalAmusementTax),n.set("taxDetails",t.taxDetails),n.set("totalFeeAmount",t.totalFeeAmount),n.set("totalDeliveryPriceAmount",t.totalDeliveryPriceAmount),n.set("totalDeliveryPriceTaxAmount",t.totalDeliveryPriceTaxAmount),n.set("totalItemAmount",t.totalItemAmount),n.set("billingInformation",t.billingInformation),n.set("isPIRequired",t.isPIRequired),n.set("friendlyName",t.friendlyName),n.set("isInManualReview",t.isInManualReview||!1),n.set("bundlePrices",t.bundlePrices),n.set("feesOrder",t.feesOrder)):n=e.createRecord("order",t),function(e,t){var r=t.get("orderLineItems")||[],n=t.get("lineItems")
r.forEach(function(r){var n=e.peekRecord("order-line-item",r.lineItemId)
n?n.setProperties(r):((n=e.createRecord("order-line-item",{id:r.lineItemId})).setProperties(r),n.set("order",t))}),n.filter(function(e){return!r.find(function(t){return e.id===t.lineItemId})}).forEach(function(e){t.get("lineItems").removeObject(e),e.deleteRecord()})}(e,n),n}(r,a)
return i?p(u,r).then(function(){return u}):Ember.RSVP.resolve(u)},g=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2]
if(e&&e.items&&(e=e.items),Array.isArray&&Array.isArray(e)){var n=e.map(function(e){return h(e,t,r)})
return Ember.RSVP.all(n)}return h(e,t,r)},v=function(e){return Array.isArray&&Array.isArray(e)?e[0]:e},y=function(e,n,i){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=i||t.default.get().OrderId
if(!n){var s=m(e,o)
if(s)return a&&!s.get("firstLineItem.product.id")?p(s,e).then(function(){return s}):Ember.RSVP.resolve(s)}return r.default.viewOrder(o).then(function(e){if(c.default.isInAppClient()&&6==+t.default.get().PurchaseServiceVersion&&1*v(e).version==7)return t.default.set("PurchaseServiceVersion","7.0"),d.default.reload(),l.default.loadConfig(t.default.get().configUrl,{culture:t.default.get().Culture,purchaseServiceVersion:"7.0",clientFlights:t.default.get().Flights}).then(function(){return u.default.set(l.default.Urls),r.default.viewOrder(o)})
return e}).then(function(t){return g(t,e,a)}).then(function(e){return v(e)})},b=function(e){var t=(e=e||{}).store,n=e.orderState,i=e.billingInfo,a=e.tokenizedPiData,o=e.friendlyName,s=e.maxRetry,l=e.previewOptions,u=e.shouldHydrate,d=e.threeDsSessionId,c=e.challengeCompletedKind
return y(t).then(function(p){return!i&&p&&(i=p.get("billingInformation"))&&(e.resetSessionId&&Ember.set(i,"sessionId",f.default.create()),a&&Ember.set(i,"tokenizedPaymentInstrumentData",a),d&&Ember.set(i,"sessionId",d),c&&Ember.set(i,"challengeCompletedKind",c)),r.default.updateOrder(p&&p.get("orderId"),n,i,o,s,l).then(function(e){return g(e,t,u)}).then(function(e){return v(e)})})},_=function(e){e=e||{},i.default._sessionIds||(i.default._sessionIds=a.default.create())
var t=e.pis,r=t?{csvTopOffPaymentInstrumentId:t.csvTopOffPaymentInstrumentId||null,paymentInstrumentId:t.id||"",tokenizedPaymentInstrumentData:null,sessionId:i.default._sessionIds.getSessionId(t.id,t.csvTopOffPaymentInstrumentId),soldToAddressId:e.soldToAddressId||null}:null
return b({store:e.store,orderState:"CheckingOut",billingInfo:r,friendlyName:e.friendlyName,maxRetry:1,previewOptions:e.previewOptions,shouldHydrate:e.shouldHydrate})}
e.default={unwrapArray:v,handleApiResponse:g,loadOrderDetails:y,hydrateLineItems:p,makeEditable:function(e,t,r){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4]
return b({store:t,orderState:"Editing",billingInfo:null,friendlyName:r,shouldHydrate:n,resetSessionId:i})},previewEdit:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1]
return b({store:e,orderState:"Editing",billingInfo:null,previewOptions:{previewEligibility:!0},shouldHydrate:t})},cancel:function(e){return b({store:e,orderState:"Canceled",billingInfo:null})},previewCheckout:function(e,t,r){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3]
return _({store:e,soldToAddressId:null,friendlyName:t,previewOptions:r,shouldHydrate:n})},checkout:function(e,t,r,n){var i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4]
return _({pis:e,store:t,soldToAddressId:r,friendlyName:n,shouldHydrate:i})},purchase:function(e,t,r){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments[4],a=arguments[5]
return b({store:r,orderState:"Purchased",billingInfo:null,tokenizedPiData:t,shouldHydrate:n,threeDsSessionId:i,challengeCompletedKind:a})},createWithItem:function(e,t,n,i,a,o,s,l,u,d){var c=!(arguments.length>10&&void 0!==arguments[10])||arguments[10]
return r.default.createWithItem(e,t,o,n,i,a,l,u,d).then(function(e){return g(e,s,c)}).then(function(e){return v(e)})},createWithToken:function(e){return r.default.createWithToken(e)},createWithTokenV7:function(e,t,n,i,a,o){return r.default.createWithTokenV7(e,t,n,i,a,o)},createEmptyOrder:function(e,t,n){return r.default.createEmptyOrder(t,n).then(function(t){return g(t,e,!1)}).then(function(e){return v(e)})},listOrders:function(e,t,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3]
return r.default.listOrders(t,n).then(function(t){return g(t,e,i)})},listOrdersWithoutHydrate:function(e,t,n){return r.default.listOrders(t,null,n).then(function(t){return g(t,e,!1)})},updateOrderItem:function(e,t,n){return function(e){var t=(e=e||{}).store,n=e.orderItem,i=e.itemOptions
return y(t).then(function(e){return r.default.updateOrderItem(e&&e.get("orderId"),n,i)})}({store:e,orderItem:t,itemOptions:n})}}}),define("sfw-services/adapters/order-line-item",["exports","sfw-services/adapters/application","sfw-services/utils/external-urls","sfw-services/utils/service-call-headers","sfw-telemetry/utils/flight-config","sfw-services/errors/service-error"],function(e,t,r,n,i,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default.extend({serviceName:"PurchaseFD",includeCorrelationContext:!0,correlationContextFlightEnabled:Ember.computed(function(){return i.default.isEnabled("purchasecorrelationcontext")}),allowParallelRequests:function(){return!1},shouldRetryRequest:function(e,t){return!(t>=this.get("maxRetries"))&&(!e.status||e.status>=500&&e.status<600||409===e.status&&"PreviousRequestInProgress"===Ember.get(e,"payload.innererror.code"))},host:Ember.computed(function(){return r.default.get("Orders").Host}),namespace:Ember.computed(function(){return r.default.get("Orders").Namespace}),serviceVersion:Ember.computed("namespace",function(){return"7"}),parseError:function(e,t){return new a.PurchaseError(e,t.requestCv,t.status)},getOperationName:function(e,t){switch(t){case"POST":return"AddLineItem"
case"PUT":return"EditLineItem"
case"DELETE":return"RemoveLineItem"
default:return t}},headers:Ember.computed(function(){return n.default.get({additionalHeaders:{"Content-Type":"application/json"},omitAcceptLanguage:!0,omitMarket:!0,omitCorrelationId:!0,omitRequestId:!0})}).volatile(),buildURL:function(e,t,r,n){var i=[this.urlPrefix(),"orders",r.belongsTo("order").attr("orderId"),"items"]
return"createRecord"!==n&&i.push(t),i.join("/")}})}),define("sfw-services/adapters/order",["exports","sfw-services/adapters/application","sfw-services/utils/external-urls","sfw-telemetry/utils/flight-config","sfw-services/utils/service-call-headers","sfw-services/errors/service-error","sfw-telemetry/utils/start-data"],function(e,t,r,n,i,a,o){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default.extend({serviceName:"PurchaseFD",includeCorrelationContext:!0,correlationContextFlightEnabled:Ember.computed(function(){return n.default.isEnabled("purchasecorrelationcontext")}),pathForType:function(){return"orders"},allowParallelRequests:function(){return!1},shouldRetryRequest:function(e,t,r){if(t>=this.get("maxRetries"))return!1
var n=null
if(r&&r.data&&"string"==typeof r.data)try{n=JSON.parse(r.data)}catch(e){}if(n&&"Purchased"===n.orderState){var i=o.default.get().selectedPi,a=i&&i.get("payment_method_family")
if("mobile_billing_non_sim".equalsIgnoreCase(a))return!1}return!e.status||e.status>=500&&e.status<600||409===e.status&&"PreviousRequestInProgress"===Ember.get(e,"payload.innererror.code")},host:Ember.computed(function(){return o.default.get().IsDigitalAttachment?r.default.get("DigitalAttachmentOrders").Host:r.default.get("Orders").Host}),namespace:Ember.computed(function(){return o.default.get().IsDigitalAttachment?r.default.get("DigitalAttachmentOrders").Namespace:r.default.get("Orders").Namespace}),serviceVersion:Ember.computed("namespace",function(){return"7"}),buildURL:function(e,t,n,i){if(o.default.get().IsDigitalAttachment){var a=this.urlPrefix()
return"updateRecord"!==i&&"updateAttachRecord"!==i||(a=(a=r.default.get("DigitalAttachmentOrdersUpdate").toString()).replace("{orderId}",t)),a.replace("{attachRecordId}",o.default.get().AttachRecordId)}return this._super(e,t)},parseError:function(e,t){return new a.PurchaseError(e,t.requestCv,t.status)},getOperationName:function(e,t,r){if("GET"===t){var i=new RegExp(/orders\/?([-A-Za-z0-9]*).*?$/),a=e.match(i)
return a&&a.length>1&&a[1]?"ViewOrder":"ListOrders"}if("POST"===t){var s=""
return s="token".equalsIgnoreCase(Ember.get(r.data,"billingInformation.paymentInstrumentType"))?r.data&&r.data.checkEligibility?"CreateOrderWithToken.checkEligibility":"CreateOrderWithToken":"CreateOrder",n.default.isEnabled("startdatalogging")&&o.default.get().IsDigitalAttachment&&(s+="-DA"),s}var l="ChangeOrderState."+r.data.orderState+(r.data.previewEligibility?".previewEligibility":"")+(r.data.previewFees?".previewFees":"")
return n.default.isEnabled("startdatalogging")&&o.default.get().IsDigitalAttachment&&(l+="-DA"),l},headersForRequest:function(e){return this._super(e)},headers:Ember.computed(function(){return i.default.get({additionalHeaders:{"Content-Type":"application/json"},omitAcceptLanguage:!0,omitMarket:!0,omitCorrelationId:!0,omitRequestId:!0})}).volatile(),createRecord:function(e,t,r){return r.adapterOptions=r.adapterOptions||{},Ember.merge(r.adapterOptions,{requestType:"createRecord",version:this.get("serviceVersion")}),this._super(e,t,r)},updateRecord:function(e,t,r){return r.adapterOptions=r.adapterOptions||{},Ember.merge(r.adapterOptions,{requestType:o.default.get().IsDigitalAttachment?"updateAttachRecord":"updateRecord",version:this.get("serviceVersion")}),this._super(e,t,r)}})}),define("sfw-services/adapters/payment-instrument",["exports","sfw-services/adapters/application","sfw-services/utils/external-urls","sfw-services/utils/service-call-headers","sfw-telemetry/utils/flight-config","sfw-telemetry/utils/start-data","sfw-telemetry/utils/client","sfw-services/errors/service-error"],function(e,t,r,n,i,a,o,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default.extend({host:Ember.computed(function(){return r.default.get("PaymentInstrumentHost").toString()}),namespace:Ember.computed(function(){return r.default.get("PaymentInstrumentNamespace").toString()}),serviceVersion:"6",serviceName:"PaymentInstrumentFD",includeCorrelationContext:!0,getOperationName:function(){return"PaymentInstrumentsGet"},parseError:function(e,t){return new s.PaymentError(e,t.requestCv,t.status)},queryForRequest:function(){return{client:o.default.getClientType()}},headers:Ember.computed("serviceVersion",function(){return n.default.get({additionalHeaders:{"MS-Contract-Version":this.get("serviceVersion")},omitAcceptLanguage:!0,omitMarket:!0,addVnext:i.default.isEnabled("vnextpis")})}).volatile(),buildURL:function(e,t,n){var i=this._super(e,t,n),o=a.default.get().BillingMarket||a.default.get().Market,s=r.default.get("PaymentInstrumentQueryParams",{country:o}).toString()
return String.prototype.isNullOrWhitespace(s)||(i=i+"?"+s),i},handleResponse:function(e,t,r){return r&&(r.retrievedDate=t.Date||t.date||""),this._super.apply(this,arguments)}})}),define("sfw-services/adapters/payment-method",["exports","sfw-telemetry/utils/client","sfw-services/adapters/application","sfw-services/utils/external-urls","sfw-services/utils/service-call-headers","sfw-telemetry/utils/start-data","sfw-telemetry/utils/flight-config","sfw-services/errors/service-error"],function(e,t,r,n,i,a,o,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=r.default.extend({host:Ember.computed(function(){return n.default.get("PaymentMethods",{omitCountry:!0}).toString()}),headers:Ember.computed("serviceVersion",function(){return i.default.get({additionalHeaders:{"MS-Contract-Version":this.get("serviceVersion")},omitAcceptLanguage:!0,omitMarket:!0,omitCorrelationId:!0,omitRequestId:!0,addVnext:o.default.isEnabled("vnextpis")})}).volatile(),serviceName:"PaymentInstrumentFD",includeCorrelationContext:!0,getOperationName:function(){return"GetPaymentMethods"},parseError:function(e,t){return new s.PaymentError(e,t.requestCv,t.status)},queryForRequest:function(){return{client:t.default.getClientType()}},serviceVersion:"6",buildURL:function(){var e=a.default.get().BillingMarket||a.default.get().Market
return this.urlPrefix().replace("{country}",e).replace("{language}",a.default.get().Languages||a.default.get().Culture).replace("{expand}","false").replace("{currency}",a.default.get().CurrencyCode||"")}})}),define("sfw-services/adapters/product",["exports","sfw-services/adapters/application","sfw-services/utils/external-urls","sfw-services/utils/service-call-headers","sfw-telemetry/utils/start-data","sfw-telemetry/utils/flight-config","sfw-services/utils/big-id","sfw-services/errors/service-error","sfw-telemetry/utils/client"],function(e,t,r,n,i,a,o,s,l){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default.extend({serviceName:"DisplayCatalog",includeCorrelationContext:!0,host:Ember.computed(function(){return r.default.get("HydrateUrl").toString()}),serviceVersion:Ember.computed("namespace",function(){var e=this.get("namespace").match(/v(\d)\.0/)
return e&&e.length>1?e[1]:a.default.getFlightValue("catalogversion")||"6"}),namespace:Ember.computed(function(){return r.default.get("HydratePath").toString()}),headers:Ember.computed("serviceVersion",function(){var e={"Content-Type":"application/json"}
return"6"===this.get("serviceVersion")&&(e["MS-Contract-Version"]="6"),n.default.get({additionalHeaders:e,disallowXToken:"6"===this.get("serviceVersion"),omitAcceptLanguage:!0,omitMarket:!0,omitCorrelationId:!0,omitRequestId:!0})}).volatile(),getOperationName:function(){return"HydrateGet"},parseError:function(e,t){return new s.CatalogError(e,t.requestCv,t.status)},buildURL:function(e,t,n,o,s){var d=void 0,c=i.default.get().DeviceContext&&decodeURIComponent(i.default.get().DeviceContext)
c=c?u(c):"moId=&oemId=&scmId="
var f=a.default.isEnabled("offertrial")&&i.default.get().OfferPid&&(t&&t.startsWithIgnoreCase(i.default.get().OfferPid)||s&&s.BigIds&&s.BigIds.findIndex(function(e){return e.startsWithIgnoreCase(i.default.get().OfferPid)})>=0)
if(t?d=this.urlPrefix().replace("{productId}",t).replace("{market}",i.default.get().Market).replace("{languages}",i.default.get().Languages||i.default.get().Culture).replace("{deviceContext}",c):s&&s.BigIds&&(d=(d=r.default.get("BulkHydrateUrl").toString()).replace("{productIds}",s.BigIds.toString()).replace("{market}",i.default.get().Market).replace("{languages}",i.default.get().Languages||i.default.get().Culture).replace("{deviceContext}",c).replace("{fieldTemplates}","").replace("{actionFilter}","details"),delete s.BigIds),i.default.get().IsDigitalAttachment){d=d.concat("&clientType=StoreApp:MyLibrary")}else if(a.default.isEnabled("hydrationclienttype")&&!f){var p=l.default.isWebClient()?"storeWeb":"storeApp"
d=d.concat("&clientType="+p)}return d},findRecord:function(e,t,r,n){if(!a.default.isEnabled("supportbundlev2")||!o.default.isDelegatedBigId(r)){var i=null
if(r.includes("/")){var s=r.slice(0,r.lastIndexOf("/"))
!(i=e.peekRecord("product",s))&&s.includes("/")&&(s=s.slice(0,s.lastIndexOf("/")),i=e.peekRecord("product",s))}if(i)return{Product:i.serialize()}}return this._super(e,t,r,n)},createRecord:function(){throw new Error("Products are read-only")},deleteRecord:function(){throw new Error("Products are read-only")},updateRecord:function(){throw new Error("Products are read-only")}})
var u=function(e){var t={}
return e.split("&").map(function(e){(e=e.split("="))[1]?t[e[0]]=e[1]:t[e[0]]="PUBLIC"}),$.param(t)}}),define("sfw-services/adapters/profile",["exports","sfw-services/adapters/application","sfw-services/utils/external-urls","sfw-services/utils/service-call-headers","sfw-telemetry/utils/create-guid","sfw-telemetry/utils/client","sfw-services/utils/user-id","sfw-services/errors/service-error","sfw-telemetry/utils/start-data","sfw-telemetry/utils/flight-config"],function(e,t,r,n,i,a,o,s,l,u){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default.extend({serviceName:"JarvisFD",errorSource:"JarvisFD",includeCorrelationContext:!0,serviceVersion:null,host:Ember.computed(function(){return r.default.get("JarvisHost").toString()}),namespace:Ember.computed(function(){return r.default.get("JarvisNamespace").toString()}),headers:Ember.computed(function(){return n.default.get({additionalHeaders:{"Content-Type":"application/json","x-ms-correlation-id":i.default.create(),"x-ms-tracking-id":i.default.create(),"api-version":"2015-03-31"},omitMarket:!0,omitCorrelationId:!0,addJwtHeader:!0,addSiteName:!0})}).volatile(),getOuterErrorCode:function(e){return Ember.get(e,"payload.error_code")||function(e){return e?e.status||e.payload?e.payload||e.status:"ParseError":""}(e)},parseError:function(e,t){return new s.JarvisError(e,t.requestCv,t.status)},buildURL:function(e,t,r,n,i){var a=this._super(e,t,r,n,i)
return r&&"recipient"===r.attr("type")&&"createRecord"===n?a=a.replace("JarvisCM/me/profiles","JarvisCM/customers/create-customer"):i&&i.userId?(a=a.replace("JarvisCM/me","JarvisCM/"+(0,o.default)(i.userId)),delete i.userId):r&&r.attr("userId")&&(a=a.replace("JarvisCM/me","JarvisCM/"+(0,o.default)(r.attr("userId")))),a},getOperationName:function(e,t){return"UserProfileJarvis"+t},getMoreHeaders:function(e,t){return"PUT"===t&&e.data.etag?{"If-Match":e.data.etag}:{}},queryForRequest:function(e,t){return"PUT"===t||"POST"===t?{country:l.default.get().Market,culture:l.default.get().Languages||l.default.get().Culture,client:a.default.getClientType()}:{client:a.default.getClientType()}},updateRecord:function(e,t,r){var n=this
return this._super(e,t,r).catch(function(i){var a=u.default.isEnabled("newerrors"),o=u.default.isEnabled("resourceexistsretry")
if("ConcurrencyFailure"===i.code&&(a&&412===i.statusCode||!a&&412===i.HttpStatusCode)||"ResourceAlreadyExists"===i.code&&o)return e.findRecord("profile",r.id,{reload:!0}).then(function(i){var a=r.changedAttributes()
for(var o in a)i.set(o,a[o][1])
return n.updateRecord(e,t,i._createSnapshot())})
throw i})}})}),define("sfw-services/adapters/reward",["exports","sfw-services/adapters/application","sfw-telemetry/utils/client","sfw-services/utils/external-urls","sfw-telemetry/utils/start-data","sfw-services/utils/service-call-headers"],function(e,t,r,n,i,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default.extend({maxRetries:0,defaultTimeout:3e4,host:Ember.computed(function(){return n.default.get("StoreEdgeHost").toString()}),namespace:Ember.computed(function(){return n.default.get("StoreEdgeRewardsUserNamespace").toString()}),headers:Ember.computed(function(){return a.default.get({omitAcceptLanguage:!0,omitMarket:!0,omitCorrelationId:!0,omitRequestId:!0})}),serviceName:"StoreEdgeFD",getOperationName:function(){return"GetRewardsUserInfo"},serviceVersion:"",buildURL:function(){var e="store"
return r.default.isXboxOneClient()?e="store_xbox":r.default.isDesktopClient()&&(e="store_desktop"),this.urlPrefix().replace("{locale}",i.default.get().Culture).replace("{market}",i.default.get().Market).replace("{channel}",e).replace("{options}",4)}})}),define("sfw-services/adapters/rewards-claim-promotion",["exports","sfw-services/adapters/application","sfw-services/utils/external-urls","sfw-services/utils/service-call-headers","sfw-telemetry/utils/start-data","sfw-telemetry/utils/client"],function(e,t,r,n,i,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default.extend({maxRetries:0,defaultTimeout:3e4,host:Ember.computed(function(){return r.default.get("StoreEdgeHost").toString()}),namespace:Ember.computed(function(){return r.default.get("StoreEdgeRewardsClaimPromotionNamespace").toString()}),headers:Ember.computed(function(){return n.default.get({omitAcceptLanguage:!0,omitMarket:!0,omitCorrelationId:!0,omitRequestId:!0})}),serviceName:"StoreEdgeFD",getOperationName:function(){return"RewardsClaimPromotion"},serviceVersion:"",buildURL:function(){var e="store"
return a.default.isXboxOneClient()?e="store_xbox":a.default.isDesktopClient()&&(e="store_desktop"),this.urlPrefix().replace("{locale}",i.default.get().Culture).replace("{market}",i.default.get().Market).replace("{channel}",e)}})}),define("sfw-services/adapters/save-to-cart",["exports","sfw-services/adapters/application","sfw-services/utils/service-call-headers","sfw-services/utils/external-urls","sfw-telemetry/utils/start-data","sfw-services/errors/service-error"],function(e,t,r,n,i,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default.extend({host:Ember.computed(function(){return n.default.get("StoreApiHost").toString()}),namespace:Ember.computed(function(){return n.default.get("AddItemsToCartNamespace").toString()}),headers:Ember.computed(function(){var e={}
return i.default.get().Muid&&(e={"X-Authorization-Muid":"MUID="+i.default.get().Muid}),r.default.get({additionalHeaders:e,omitAcceptLanguage:!0,omitMarket:!0,omitCorrelationId:!0,omitRequestId:!0})}).volatile(),serviceName:"StoreApi",parseError:function(e,t){return new a.StoreApiError(e,t.requestCv,t.status)},getOperationName:function(){return"SaveToCart"},queryForRequest:function(){return{market:i.default.get().Market,locale:i.default.get().Culture,noCanonical:!0}},buildURL:function(){return this.urlPrefix()},serviceVersion:""})}),define("sfw-services/adapters/token",["exports","sfw-services/adapters/application","sfw-services/utils/external-urls","sfw-services/utils/service-call-headers","sfw-telemetry/utils/start-data","sfw-telemetry/utils/flight-config","sfw-services/errors/service-error"],function(e,t,r,n,i,a,o){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default.extend({host:Ember.computed(function(){return r.default.get("TokenServiceHost").toString()}),namespace:Ember.computed(function(){return r.default.get("TokenServicePath").toString()}),serviceVersion:Ember.computed("namespace",function(){var e=this.get("namespace").match(/v(\d)\.0/)
return e&&e.length>1?e[1]:a.default.getFlightValue("orderversion")||"7"}),headers:Ember.computed(function(){return n.default.get({omitAcceptLanguage:!0,omitMarket:!0,omitCorrelationId:!0,omitRequestId:!0})}).volatile(),serviceName:"TokenService",includeCorrelationContext:!0,getOperationName:function(){return"TokenDescriptionGet"},parseError:function(e,t){return new o.PurchaseError(e,t.requestCv,t.status)},buildURL:function(e,t){return this.urlPrefix().replace("{tokenString}",t).replace("{market}",i.default.get().Market).replace("{language}",i.default.get().Languages||i.default.get().Culture)}})}),define("sfw-services/adapters/warranty",["exports","sfw-services/adapters/application","sfw-services/utils/service-call-headers","sfw-services/utils/external-urls","sfw-telemetry/utils/start-data","sfw-telemetry/utils/flight-config"],function(e,t,r,n,i,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default.extend({host:Ember.computed(function(){return n.default.get("StoreEdgeHost").toString()}),namespace:Ember.computed(function(){return n.default.get("StoreEdgeWarrantyNamespace").toString()}),headers:Ember.computed("serviceVersion",function(){return r.default.get({omitAcceptLanguage:!0,omitMarket:!0,omitCorrelationId:!0,omitRequestId:!0,addMstestHeader:a.default.isEnabled("addwarrantytestheader")})}).volatile(),serviceName:"StoreEdgeFD",getOperationName:function(){return"GetWarrantySessionId"},serviceVersion:"",buildURL:function(e,t,r){var n=r.record.store.peekRecord("order",i.default.get().OrderId),a=this.urlPrefix().replace("{serialNumber}",t)
return n&&(a=a.replace("{productId}",n.get("firstLineItem.productId")).replace("{skuId}",n.get("firstLineItem.skuId")).replace("{availabilityId}",n.get("firstLineItem.availabilityId"))),a}})}),define("sfw-services/errors/app-error",["exports","sfw-services/errors/base-error"],function(e,t){"use strict"
function r(e,r,n,i){if(e instanceof Error){var a=e
t.default.call(this,"App","Error",a.message,a)}else t.default.call(this,"App",e,r,n,i)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r,r.prototype=Object.create(t.default.prototype)}),define("sfw-services/errors/base-error",["exports","sfw-services/utils/error-types"],function(e,t){"use strict"
function r(e,t,r,n,i){Ember.Error.call(this,r),this.prefix=e,this.code=t&&String(t)||"Unknown",this.innerError=n,this.sourcePage=i,this.timestamp=(new Date).toFormattedUTCString()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r,r.prototype=Object.create(Ember.Error.prototype),Object.defineProperties(r.prototype,{fullName:{get:function(){return this.prefix&&this.prefix.length?this.prefix+"-"+this.code:this.code}},type:{get:function(){return this._type||t.default.get(this.code)},set:function(e){this._type=e}}})}),define("sfw-services/errors/base-service-error",["exports","sfw-services/errors/base-error","sfw-services/utils/error-types"],function(e,t,r){"use strict"
function n(e,r,n,i,a,o,s,l){this.innerCode=r,this.outerCode=n,this.statusCode=a,this.cv=s,this.source=l,t.default.call(this,e,r||n,i,o)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n,n.prototype=Object.create(t.default.prototype),Object.defineProperties(n.prototype,{type:{get:function(){return this._type?this._type:"network"===r.default.get(this.outerCode)?"network":"user"===r.default.get(this.outerCode)?"user":r.default.get(this.code)},set:function(e){this._type=e}}})}),define("sfw-services/errors/service-error",["exports","ember-data","sfw-services/errors/base-service-error","sfw-telemetry/utils/instrumentation","sfw-telemetry/utils/flight-config","sfw-services/utils/constants","sfw-telemetry/utils/client"],function(e,t,r,n,i,a,o){"use strict"
function s(e){t.default.AdapterError.call(this,null,"The destination host was unreachable"),this.stack=e&&e.stack}function l(e,n,a,o,l){var u=void 0
i.default.isEnabled("toomanyrequests")&&429===n?u="TooManyRequests":e instanceof t.default.TimeoutError?u="Timeout":e instanceof t.default.AbortError?u="Aborted":e instanceof s?u="Unreachable":e instanceof t.default.AdapterError?u="Unknown":i.default.isEnabled("toomanyrequests")&&403===n&&(u="Forbidden"),r.default.call(this,"SVC",u&&o?o+"-"+u:o,u,"Failed to access a service: "+a+"-"+o,n,e,l,a)}function u(e){for(var t=0;t<b.length;t++)if(b[t].test(e))return b[t].handle(e)
if(e.code)return{outerCode:e.code,innerCode:e.innererror&&e.innererror.code||e.code,message:e.innererror&&e.innererror.message||e.message,source:e.source}
throw"Response does not appear to be a valid M$ error, no code included."}function d(e,t,n){var i=u(e)
r.default.call(this,"OneStore",i.innerCode,i.outerCode,i.message,n,e,t,i.source||"OneStore")}function c(e,t,n){var i=u(e)
r.default.call(this,"PUR",i.innerCode,i.outerCode,i.message,n,e,t,i.source||"PurchaseFD")}function f(e,t,n){var i=u(e)
r.default.call(this,"DCAT",i.innerCode,i.outerCode,i.message,n,e,t,i.source||"DCatFD")}function p(e,t,n){var i=u(e)
r.default.call(this,"PI",i.innerCode,i.outerCode,i.message,n,e,t,i.source||"PaymentInstrumentFD")}function m(e,t,n){var i=u(e)
r.default.call(this,"BUD",i.innerCode,i.outerCode,i.message,n,e,t,i.source||"XboxFD")}function h(e,t,n){var i=u(e)
r.default.call(this,"BUD",i.innerCode,i.outerCode,i.message,n,e,t,i.source||"XboxFD")}function g(e){var t=(e=e.error||e).innererror||e,i={outerCode:t.code,innerCode:t.innererror&&t.innererror.code||t.code,message:t.innererror&&t.innererror.message||t.message,source:t.source},a=n.default.correlationVector()||{getValue:function(){return null}}
r.default.call(this,"PI",i.innerCode,i.outerCode,i.message,e.status,e,a.getValue(),i.source||"PidlSdk")}function v(e,t,n){r.default.call(this,"StoreApi",null,n,e.message,n,e,t,"StoreApi")}function y(e,t,n){if(e.original_address&&e.status&&(e.suggested_address||e.suggested_addresses))r.default.call(this,"JFD",null,e.status,"Suggested Address",n,e,t,"JarvisFD")
else{if(!e.error_code)throw"Response does not appear to be a Jarvis error, no error_code found"
this.data=e.parameters,r.default.call(this,"JFD",null,e.error_code,e.message,n,e,t,"JarvisFD")}}Object.defineProperty(e,"__esModule",{value:!0}),e.UnreachableError=s,e.default=l,e.OneStoreError=d,e.PurchaseError=c,e.CatalogError=f,e.PaymentError=p,e.GetOfferError=m,e.MarkOfferClaimedError=h,e.PidlSdkError=g,e.StoreApiError=v,e.JarvisError=y,s.prototype=Object.create(t.default.AdapterError.prototype),l.prototype=Object.create(r.default.prototype),d.prototype=Object.create(r.default.prototype),c.prototype=Object.create(r.default.prototype),f.prototype=Object.create(r.default.prototype),p.prototype=Object.create(r.default.prototype),m.prototype=Object.create(r.default.prototype),h.prototype=Object.create(r.default.prototype),g.prototype=Object.create(r.default.prototype),v.prototype=Object.create(r.default.prototype),y.prototype=Object.create(r.default.prototype)
var b=[{test:function(e){return e.innererror&&"RiskPolicyRejected"===e.innererror.code&&e.innererror.data.length},handle:function(e){return{outerCode:e.code,innerCode:e.innererror.data[0],message:e.innererror.message,source:e.source}}},{test:function(e){return e.innererror&&"RiskRejected"===e.innererror.code},handle:function(e){var t={message:e.innererror.message,source:e.source,outerCode:e.code}
return e.innererror.data.length&&e.innererror.data.forEach(function(e){a.default.riskRejectedErrors.includes(e)&&(t.innerCode="RiskRejected-"+e)}),t.innerCode||o.default.isXboxOneClient()||!i.default.isEnabled("riskrejectescalate")||(t.innerCode=e.innererror.code+"-Web"),t.innerCode||(t.innerCode=e.innererror.code),t}},{test:function(e){return e.source&&e.source.toLowerCase().indexOf("digitalattachfd")>-1&&e.innererror&&e.innererror.message&&(e.innererror.message.indexOf("{")>-1&&e.innererror.message.lastIndexOf("}")||e.innererror.code&&"1501"===e.innererror.code)},handle:function(e){var t=e.innererror.message,r=t.indexOf("{"),n=t.lastIndexOf("}")
if(r>=0&&n>=0){var i=JSON.parse(t.substring(r,n+1))
return{outerCode:i.code,innerCode:i.innererror.code,message:i.innererror.message,source:i.source}}if("1501"===e.innererror.code)return{outerCode:e.code,innerCode:e.code,message:e.innererror.message,source:e.source}}},{test:function(e){return e.data&&e.data.find(function(e){return"FamilyPurchaseRequestAlreadyApproved"===e})},handle:function(e){return{outerCode:e.code,innerCode:"FamilyPurchaseRequestAlreadyApproved",message:void 0,source:e.source}}}]}),define("sfw-services/instance-initializers/app-services",["exports","sfw-services/utils/app-services"],function(e,t){"use strict"
function r(e){t.default.init(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initialize=r,e.default={name:"app-services",initialize:r}}),define("sfw-services/mixins/null-attribute-serializer",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Mixin.create({nullAttrs:[],serializeAttribute:function(e,t,r,n){if(null!=e.attr(r)||this.nullAttrs.includes(r))return this._super(e,t,r,n)},serializeBelongsTo:function(e,t,r){if(null!=e.belongsTo(r.key)||this.nullAttrs.includes(r.key))return this._super(e,t,r)}})}),define("sfw-services/mixins/product-sku-availability",["exports","sfw-services/utils/base64","sfw-telemetry/utils/flight-config","sfw-telemetry/utils/start-data","sfw-services/utils/purchase-subscription","sfw-components/utils/product-types","sfw-services/utils/strings","sfw-components/utils/unit-of-time"],function(e,t,r,n,i,a,o,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var l=function(e){var t=(e&&e.Images||[]).filter(function(e){return e.Uri}),r=t.find(function(e){return"logo".equalsIgnoreCase(e.ImagePurpose)})
if(r)return r.Uri
var n=t.find(function(e){return"tile".equalsIgnoreCase(e.ImagePurpose)})
return n?n.Uri:t.length&&t[0].Uri}
e.default=Ember.Mixin.create({availability:Ember.computed("displaySkuAvailability",function(){var e=this.get("displaySkuAvailability.Availabilities")||[],t=this.get("availabilityId")
return t?e.find(function(e){return e.AvailabilityId===t}):e.length&&e[0]}),availabilityCurrencyCode:Ember.computed.oneWay("availability.OrderManagementData.Price.CurrencyCode"),availabilityListPrice:Ember.computed.oneWay("availability.OrderManagementData.Price.ListPrice"),availabilityRetailPrice:Ember.computed.oneWay("availability.OrderManagementData.Price.MSRP"),consumableQuantity:Ember.computed.oneWay("sku.Properties.ConsumableQuantity"),designProvider:Ember.computed.oneWay("marketProperties.DesignProvider"),designUrl:Ember.computed.oneWay("marketProperties.DesignUrl"),designReviewUrl:Ember.computed.oneWay("marketProperties.DesignReviewUrl"),deliveryDateOverlay:Ember.computed.oneWay("skuLocalizedProperties.DeliveryDateOverlay"),discountedInitialPeriodDuration:Ember.computed.oneWay("availability.OrderManagementData.Price.DiscountDuration"),discountedInitialPeriodDurationUnit:Ember.computed("discountedInitialPeriodDuration",function(){return this.get("discountedInitialPeriodDuration.Units")}),discountedInitialPeriodDurationUnitType:Ember.computed("discountedInitialPeriodDuration",function(){return this.get("discountedInitialPeriodDuration.UnitType")}),displaySkuAvailability:Ember.computed("product.PurchasableAvailabilities","skuId",function(){var e=this.get("product.PurchasableAvailabilities")||[],t=this.get("skuId")
return e.find(function(e){return e.Sku.SkuId===t})}),downloadOptions:Ember.computed.oneWay("skuLocalizedProperties.DownloadOptions"),extendedData:Ember.computed.oneWay("availability.Properties.ExtendedData"),hasDiscountedInitialPeriod:Ember.computed("discountedInitialPeriodDuration",function(){return!!this.get("discountedInitialPeriodDuration")}),hasPromotionalDuration:Ember.computed("availability.promotionalCoreDuration",function(){return!!this.get("promotionalCoreDuration")}),imageUri:Ember.computed("product.localLocalizedProperties","skuLocalizedProperties",function(){return l(this.get("skuLocalizedProperties"))||l(this.get("product.localLocalizedProperties"))}),productImageUri:Ember.computed("product.localLocalizedProperties",function(){return l(this.get("product.localLocalizedProperties"))}),isManagedConsumable:Ember.computed("product.Properties",function(){var e=this.get("product.Properties.EntitlementProperties")
return e&&e.containsAnyIgnoreCase("consumable")}),inventoryControlSkuId:Ember.computed.or("skuLocalizedProperties.InventoryControlSkuId","marketProperties.InventoryControlSkuId","skuProperties.InventoryControlSkuId"),isCsvPurchase:Ember.computed("orderManagementPolicyId",function(){if("7"===r.default.getFlightValue("catalogversion"))return"csv"===(this.get("productFamily")||"").toLowerCase()
var e=this.get("orderManagementPolicyId")
return e&&e.toLowerCase&&"microsoft.csv.purchase"===e.toLowerCase()}),isDiscounted:Ember.computed("orderManagementDataPrice","listPrice",function(){var e=this.get("listPrice")
if("7"===r.default.getFlightValue("catalogversion")&&this.get("orderManagementDataPrice")){var n=this.get("orderManagementDataPrice.RecurrencePrice")
return!!(n&&e<n)}var i=this.get("extendedData")
if(i){var a=t.default.decodeToString(i)
if(a){var o=JSON.parse(a)
return!!(o&&e<o.RenewalListPrice)}}return!1}),isPriceVariant:Ember.computed("webBlendsData",function(){return r.default.isEnabled("pricevariant")&&this.get("isSubscriptionItem")&&!this.get("isSubscriptionTrial")&&!!this.get("webBlendsData.InitialChargeFrequency")}),isExclusivityFailed:Ember.computed("availability","sku",function(){if("7"===r.default.getFlightValue("catalogversion")){var e=this.get("availability.Remediations")
return e&&e.some&&e.some(function(e){return e.Type&&e.Type.toLowerCase&&"exclusivityfailed"===e.Type.toLowerCase()})}var t=this.get("sku.Properties.LicensingData.ExclusivityStatus")
return t&&t.toLowerCase&&"exclusivityfailed"===t.toLowerCase()}),isPreOrder:Ember.computed.oneWay("sku.Properties.IsPreOrder"),isRental:Ember.computed("skuProperties.IsRental","skuType",function(){return this.get("skuProperties.IsRental")||"rental".equalsIgnoreCase(this.get("skuType"))}),isStudentOffer:Ember.computed("merchandisingTags",function(){return(this.get("merchandisingTags")||[]).includes("StudentPriceAVE")}),isSubscriptionItem:Ember.computed("webBlendsData",function(){return!(!this.get("webBlendsData.LocaledChargeFrequency")&&!this.get("webBlendsData.ChargeFrequencyString"))||this.get("isSubscriptionTrial")}),isSubscriptionTrial:Ember.computed("webBlendsData",function(){return!!(this.get("webBlendsData.TrialDurationString")||this.get("webBlendsData.isTrial")||n.default.get().IsDigitalAttachment)}),marketProperties:Ember.computed("sku.MarketProperties",function(){var e=this.get("sku.MarketProperties")
if(!e)return null
var t=n.default.get().Market
return e.find(function(e){return!!e.Markets.find(function(e){return e&&e.toLowerCase&&e.toLowerCase()===t.toLowerCase()})})}),maxOrderQuantity:Ember.computed.oneWay("sku.Properties.MaxOrderQuantity"),merchandisingTags:Ember.computed.oneWay("availability.Properties.MerchandisingTags"),orderManagementDataPrice:Ember.computed.oneWay("availability.OrderManagementData.Price"),promotionalCoreDuration:Ember.computed.oneWay("availability.OrderManagementData.PromotionalCoreDuration"),orderManagementPolicyId:Ember.computed.oneWay("sku.Properties.OrderManagementData.OrderManagementPolicyId"),isBonusTime:Ember.computed("hasPromotionalDuration",function(){return this.get("hasPromotionalDuration")}),durationTimeUnitTypeRecurrence:Ember.computed("promotionalCoreDuration",function(){return this.get("promotionalCoreDuration.UnitType")}),durationTimeUnitRecurrence:Ember.computed("promotionalCoreDuration",function(){return this.get("promotionalCoreDuration.Units")}),paymentInstrumentInclusionFilter:Ember.computed("availability","marketProperties",function(){if("7"===r.default.getFlightValue("catalogversion")){var e=this.get("availability.OrderManagementData.PIFilter.InclusionProperties")||[]
return 0===e.length&&(e=this.get("marketProperties.PIFilter.InclusionProperties")||[]),e.filter(function(e){return!e.includes("legacy:")})}}),refundPolicies:Ember.computed.oneWay("product.ProductPolicies.RefundPolicies"),refundPolicyId:Ember.computed.oneWay("availability.PolicyIds.RefundPolicyIds"),refundPolicyData:Ember.computed("refundPolicyId","refundPolicies",function(){var e=this.get("refundPolicies"),t=this.get("refundPolicyId")||[]
if(t&&t.length>0&&e)return e.find(function(e){return e.PolicyId===t[0]})}),paymentInstrumentExclusionFilter:Ember.computed("availability","marketProperties",function(){if("7"===r.default.getFlightValue("catalogversion")){var e=this.get("availability.OrderManagementData.PIFilter.ExclusionProperties")||[]
return 0===e.length&&(e=this.get("marketProperties.PIFilter.ExclusionProperties")||[]),e}return this.get("marketProperties.OrderManagementData.PIFilter.ExclusionProperties")||[]}),productTitle:Ember.computed.oneWay("product.ProductTitle"),redemptionUrl:Ember.computed.or("skuLocalizedProperties.RedemptionUrl","marketProperties.RedemptionUrl","skuProperties.RedemptionUrl"),remediationRequired:Ember.computed.oneWay("availability.RemediationRequired"),renewalPrice:Ember.computed("extendedData","orderManagementDataPrice",function(){var e=this.get("extendedData")
if(!e)return this.get("orderManagementDataPrice.RecurrencePrice")
var r=t.default.decodeToString(e)
if(r){var n=JSON.parse(r)
return n&&n.RenewalListPrice}}),skuButtonTitle:Ember.computed.oneWay("skuLocalizedProperties.SkuButtonTitle"),sku:Ember.computed.oneWay("displaySkuAvailability.Sku"),skuDescription:Ember.computed.or("skuLocalizedProperties.SkuDescription","product.localLocalizedProperties.ProductDescription"),skuDisplayTitle:Ember.computed.or("skuButtonTitle","skuTitle"),skuLocalizedProperties:Ember.computed("sku",function(){var e=this.get("sku.LocalizedProperties")
if(!e)return null
var t=n.default.get().Market
return e.find(function(e){return e.Markets.find(function(e){return e&&e.toLowerCase&&e.toLowerCase()===t.toLowerCase()})})}),skuProperties:Ember.computed.oneWay("sku.Properties"),skuTitle:Ember.computed.oneWay("skuLocalizedProperties.SkuTitle"),skuType:Ember.computed.oneWay("sku.SkuType"),isIAPSubscription:Ember.computed("product.ProductKind","sku.RecurrencePolicy.RecurrencePolicyId",function(){return"Durable"===this.get("product.ProductKind")&&this.get("sku.RecurrencePolicy.RecurrencePolicyId")}),webBlendsData:Ember.computed("skuLocalizedProperties","sku","isIAPSubscription",function(){var e=this.get("skuLocalizedProperties.WebBlendsData"),t=this.get("sku")
return $.extend(e||{},i.default.overrideWebBlendData(t,e))}),isRefundable:Ember.computed("product.ProductKind","product.ProductType",function(){var e=this.get("product.ProductKind")||this.get("product.ProductType")||""
return!a.default.isMediaItem(e)&&"application"!==e.toLowerCase()}),isMedia:Ember.computed("product.ProductKind","product.ProductType",function(){var e=this.get("product.ProductKind")||this.get("product.ProductType")||""
return a.default.isMediaItem(e)}),displayTitle:Ember.computed("product",function(){var e=this.get("product.ProductKind")||this.get("product.ProductType")||""
if(a.default.isMediaItem(e))switch(e.toLowerCase()){case"tvseason":return this.get("product.seriesTitle")
case"musictrack":case"musicalbum":case"tvepisode":case"movie":default:return this.get("productTitle")}return a.default.isInAppPurchase(e)&&n.default.get().Title?n.default.get().Title:this.get("isManagedConsumable")?this.get("productTitle"):this.get("skuTitle")}),subtitle:Ember.computed("product",function(){switch((this.get("product.ProductKind")||this.get("product.ProductType")||"").toLowerCase()){case"musictrack":case"musicalbum":return this.get("product.artistName")
case"tvseason":return o.default.Tv_Season_Subtitle.replace("{0}",this.get("product.position")).replace("{1}",this.get("videoFormat"))
case"tvepisode":return this.get("product.seriesTitle")
case"movie":return this.get("videoFormat")}}),subtitle2:Ember.computed("product",function(){switch((this.get("product.ProductKind")||this.get("product.ProductType")||"").toLowerCase()){case"tvepisode":return o.default.Tv_Episode_Subtitle.replace("{0}",this.get("product.seasonPosition")).replace("{1}",this.get("product.position")).replace("{2}",this.get("videoFormat"))}}),videoFormat:Ember.computed("product",function(){return this.get("skuProperties.FulfillmentData.VideoAttributes.PrimaryResolutionFormat")}),isXboxWarrantyLegalTerms:Ember.computed("skuProperties",function(){var e=this.get("skuProperties.DomainDataReference.LegalTermKey")
return e&&e.containsIgnoreCase("warranty_complete_xbox")}),skuReccurencePolicy:Ember.computed.oneWay("sku.RecurrencePolicy"),durationRequired:Ember.computed("skuReccurencePolicy","durationTimeUnit","durationTimeUnitType",function(){return this.durationTimeUnit&&this.durationTimeUnitType&&this.get("skuReccurencePolicy.RecurrencePolicyId")&&"none"===this.get("skuReccurencePolicy.RecurrencePolicyId").toLowerCase()&&!1===this.get("skuReccurencePolicy.IsRecurring")&&!1===this.get("skuReccurencePolicy.HasTrial")}),durationTimeUnit:Ember.computed("skuReccurencePolicy",function(){return this.get("skuReccurencePolicy.Duration.Units")}),durationTimeUnitType:Ember.computed("skuReccurencePolicy",function(){return this.get("skuReccurencePolicy.Duration.UnitType")}),isYearly:Ember.computed("skuReccurencePolicy",function(){return this.get("durationTimeUnitType")===s.default.Year&&1===this.get("durationTimeUnit")||this.get("durationTimeUnitType")===s.default.Month&&12===this.get("durationTimeUnit")}),isUpgrade:Ember.computed("sku.RecurrencePolicy","listPrice","renewalPrice",function(){var e=this.get("listPrice"),t=this.get("sku.RecurrencePolicy.InitialDuration.Units"),n=this.get("renewalPrice")
return r.default.isEnabled("upgradelegal")&&0===t&&n&&n!==e})})}),define("sfw-services/models/address",["exports","ember-data"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default.Model.extend({address_line1:t.default.attr("string"),address_line2:t.default.attr("string"),address_line3:t.default.attr("string"),city:t.default.attr("string"),region:t.default.attr("string"),country:t.default.attr("string"),postal_code:t.default.attr("string"),postal_number:t.default.attr("string"),phone_number:t.default.attr("string"),first_name:t.default.attr("string"),last_name:t.default.attr("string"),validate:t.default.attr("string"),validateOnly:t.default.attr("string"),status:t.default.attr(),suggested_addresses:t.default.attr(),suggested_address:t.default.attr(),validation_stamp:t.default.attr(),is_customer_consented:t.default.attr("string"),is_zip_plus_4_present:t.default.attr("string"),etag:t.default.attr("string")})}),define("sfw-services/models/auth-token",["exports","ember-data"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default.Model.extend({AuthTicket:t.default.attr("string")})}),define("sfw-services/models/billing-information",["exports","ember-data"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default.Model.extend({paymentInstrument:t.default.belongsTo("payment-instrument",{inverse:null}),tokenInformation:t.default.attr(),paymentInstrumentType:t.default.attr("string"),csvTopOffPaymentInstrument:t.default.belongsTo("payment-instrument",{inverse:null}),secondaryPaymentInstrument:t.default.belongsTo("payment-instrument",{inverse:null}),sessionId:t.default.attr("string"),soldToAddress:t.default.belongsTo("address",{inverse:null}),tokenizedPaymentInstrumentData:t.default.attr(),challengeCompletedKind:t.default.attr("string")})}),define("sfw-services/models/contact-preference",["exports","ember-data"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default.Model.extend({contactType:t.default.attr("string"),contactValue:t.default.attr("string"),createdBy:t.default.attr("string"),lastModifiedBy:t.default.attr("string"),country:t.default.attr("string"),topicSettings:t.default.attr()})}),define("sfw-services/models/create-rewards-user",["exports","ember-data"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default.Model.extend({promotions:t.default.attr()})}),define("sfw-services/models/error-details",["exports","ember-data","sfw-services/utils/error-types","sfw-services/services/error-messages","sfw-services/utils/strings"],function(e,t,r,n,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var a={purchasefd:"PUR",purchase:"PUR",paymentinstrumentfd:"PI",service:"SVC",commercejs:"CMJS",jarvisfd:"JFD",storeedgefd:"SFD"}
e.default=t.default.Model.extend({blob:t.default.attr(),code:t.default.attr(),errorData:t.default.attr(),name:t.default.attr(),source:t.default.attr(),sourcePage:t.default.attr(),prefix:t.default.attr(),displayTextPromise:Ember.computed("mappedErrorSource","code",function(){var e=this.get("mappedErrorSource"),t=this.get("code"),r=this.get("prefix")
if(t&&e)return String.prototype.isNullOrWhitespace(r)||(t=r+t),n.default.lookup(t,e)
var a={ShortDescription:i.default.genericErrorInstruction,LongDescription:i.default.genericErrorDescription}
return Ember.RSVP.resolve(a)}),errorId:Ember.computed("mappedErrorSource","name","errorCode",function(){var e=this.get("mappedErrorSource"),t=this.get("name"),r=this.get("errorCode")
return"SVC"===e&&t&&0===t.indexOf("SVC-")?t.substring(4):r}),errorCode:Ember.computed("mappedErrorSource","code",function(){var e=this.get("mappedErrorSource"),t=this.get("code"),r=this.get("prefix")
return e&&t?(String.prototype.isNullOrWhitespace(r)||(t=r+"-"+t),e+"-"+t):e||t}),errorType:Ember.computed("code",function(){return r.default.get(this.get("code"))}),isDisplayAllowed:Ember.computed("code",function(){var e=this.get("code")
return!isNaN(e)||(!e||r.default.canDisplay(e))}),mappedErrorSource:Ember.computed("source",function(){var e=this.get("source")
if(e&&e.toLowerCase){var t=e.toLowerCase()
if(a.hasOwnProperty(t))return a[t]}return e})})}),define("sfw-services/models/friends-info",["exports","ember-data"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default.Model.extend({xuid:t.default.attr("string"),gamertag:t.default.attr("string"),modernGamertag:t.default.attr("string"),modernGamertagSuffix:t.default.attr("string"),displayPicRaw:t.default.attr("string")})}),define("sfw-services/models/giftee",["exports","ember-data"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default.Model.extend({recipient:t.default.belongsTo("profile",{async:!0,inverse:null}),recipientType:t.default.attr("string")})}),define("sfw-services/models/msa-profile",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Object.extend({firstName:null,lastName:null,email:null,friendlyName:null})}),define("sfw-services/models/order-line-item",["exports","ember-data","sfw-services/utils/base64","sfw-services/utils/currency-formatter","sfw-telemetry/utils/flight-config","sfw-services/utils/format-price","sfw-services/mixins/product-sku-availability","sfw-telemetry/utils/start-data","sfw-services/utils/strings","sfw-components/utils/time-unit-mapping","sfw-services/utils/big-id"],function(e,t,r,n,i,a,o,s,l,u,d){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default.Model.extend(o.default,{order:t.default.belongsTo("order",{async:!1}),product:t.default.belongsTo("product",{inverse:null,async:!0}),agent:t.default.attr(),availabilityId:t.default.attr("string"),beneficiary:t.default.attr(),billingState:t.default.attr("string"),campaignId:t.default.attr("string"),currencyCode:t.default.attr("string"),description:t.default.attr("string"),devOfferId:t.default.attr("string"),fulfillmentDate:t.default.attr("date"),fulfillmentState:t.default.attr("string"),isPIRequired:t.default.attr("boolean"),isTaxIncluded:t.default.attr("boolean"),legacyBillingOrderId:t.default.attr("string"),lineItemId:t.default.attr("string"),listPrice:t.default.attr("number"),optionalCampaignId:t.default.attr("string"),payments:t.default.attr(),productId:t.default.attr("string"),productType:t.default.attr("string"),productKeyId:t.default.attr("string"),quantity:t.default.attr("number"),retailPrice:t.default.attr("number"),revenueRecognitionState:t.default.attr("string"),renewalContext:t.default.attr(),skuId:t.default.attr("string"),taxAmount:t.default.attr("number"),taxType:t.default.attr("string"),title:t.default.attr("string"),totalAmount:t.default.attr("number"),bundleInformation:t.default.attr(),deliveryCostInformation:t.default.attr(),feesLineItem:t.default.attr(),fulfillmentData:t.default.attr("string"),fulfillmentStates:t.default.attr(),isShippingAddressRequired:t.default.attr("boolean"),billingStates:t.default.attr(),fulfillmentBillingStates:t.default.attr(),parentalApprovalState:t.default.attr("string"),purchaseRestriction:t.default.attr(),productReturnCategorization:t.default.attr("string"),reservationInformation:t.default.attr(),shipToAddressId:t.default.attr("string"),tokenIdentifier:t.default.attr("string"),token5x5Value:t.default.attr("string"),recurrenceId:t.default.attr("string"),seatBlockId:t.default.attr("string"),seatBlockInformation:t.default.attr(),legacyPurchaseId:t.default.attr("string"),userConsent:t.default.attr("string"),fulfillmentSessionId:t.default.attr("string"),giftee:t.default.belongsTo("giftee",{async:!1}),image:Ember.computed.oneWay("imageUri"),imageList:Ember.computed.oneWay("product.Images"),localizedProperties:Ember.computed.oneWay("skuLocalizedProperties"),entitlementProperties:Ember.computed.oneWay("product.entitlementProperties"),isOmexProduct:Ember.computed.oneWay("product.isOmexProduct"),supportsConversion:Ember.computed.oneWay("product.supportsConversion"),legacyPurchaseType:Ember.computed.oneWay("product.legacyPurchaseType"),productFamily:Ember.computed.oneWay("product.productFamily"),primaryCategory:Ember.computed.oneWay("product.primaryCategory"),isPiRequired:Ember.computed.alias("isPIRequired"),hydrationBigId:Ember.computed("productId","skuId","availabilityId",function(){return i.default.isEnabled("supportbundlev2")&&d.default.isDelegatedAvailabilityId(this.get("availabilityId"))?this.get("productId")+"/"+this.get("skuId")+"/"+this.get("availabilityId"):this.get("productId")}),formattedItemTotalPrice:Ember.computed("taxType","totalAmount","currencyCode",function(){var e=this.get("taxType"),t=this.get("totalAmount"),r=a.default.getPriceForTaxString(e,t,t)
return{price:r,priceFormat:a.default.getPriceFormatForTaxString(e,r),currencyCode:this.get("currencyCode")}}),formattedListPrice:Ember.computed("listPrice","taxType","currencyCode","isSubscriptionItem","isDiscounted","isSubscriptionTrial","webBlendsData","isOmexProduct","hasDiscountedInitialPeriod","discountedInitialPeriodDurationUnit","discountedInitialPeriodDurationUnitType","orderManagementDataPrice",function(){var e=this.get("listPrice"),t=this.get("taxType"),r=a.default.getPriceFormatForTaxString(t,e),i=r
this.get("isPriceVariant")&&(r=l.default.Purchase_Discounted_Subscription_Label.replace("{0}",r).replace("{1}",this.get("webBlendsData.InitialChargeFrequency")))
return(this.get("isSubscriptionItem")&&this.get("isDiscounted")&&!this.get("isSubscriptionTrial")&&!this.get("isUpgrade")&&!this.get("isPriceVariant")||this.get("isSubscriptionItem")&&this.get("hasPromotionalDuration"))&&(r=this.get("isOmexProduct")&&this.get("hasDiscountedInitialPeriod")?l.default.Purchase_Label_IntroductoryDiscountPeriod_ToAnnual_Formatted.replace("{0}",this.get("discountedInitialPeriodDurationUnit")).replace("{1}",(0,u.default)(this.get("discountedInitialPeriodDurationUnitType"),this.get("discountedInitialPeriodDurationUnit"))).replace("{2}",n.default.formatCurrency(this.get("orderManagementDataPrice.RecurrencePrice"),this.get("currencyCode"))):l.default.Purchase_Discounted_Subscription_Label.replace("{0}",r).replace("{1}",this.get("webBlendsData.ChargeFrequencyString")||this.get("webBlendsData.LocaledChargeFrequency"))),{price:e,priceFormat:r,currencyCode:this.get("currencyCode"),originalPriceFormat:i}}),formattedRenewalPriceInfo:Ember.computed("isPIRequired","isSubscriptionItem","orderManagementDataPrice",function(){var e,t,n,o=this.get("isPIRequired"),u=s.default.get().Culture,d=this.get("isSubscriptionItem")
if(d&&!o)return null
if("7"===i.default.getFlightValue("catalogversion")&&this.get("orderManagementDataPrice")){e=this.get("webBlendsData.LocaledChargeFrequency")
var c=t=l.default.Purchase_Label_RenewalInformation_Formatted.replace("{0}",a.default.getPriceFormatForTaxString(this.get("orderManagementDataPrice.TaxType"))).replace("{1}",e)
if(s.default.get().IsDigitalAttachment){var f=this.get("product.DisplaySkuAvailabilities.0.Availabilities.0.RenewalBigId"),p=this.get("store").peekRecord("product",f),m=p.get("DisplaySkuAvailabilities.0.Availabilities"),h=void 0
for(var g in m)if(m.hasOwnProperty(g)&&m[g].Actions.containsAnyIgnoreCase("renew")){h=m[g]
break}var v=h.OrderManagementData.Price.RecurrencePrice,y=p.get("DisplaySkuAvailabilities.0.Sku.RecurrencePolicy.Duration.UnitType")
return e=a.default.getLocalizedRecurrencePriceDuration(y),n={price:v,priceFormat:t=l.default.Purchase_Discounted_Subscription_Renewal_Label.replace("{0}",l.default.Purchase_Label_RenewalInformation_Formatted.replace("{0}",a.default.getPriceFormatForTaxString(this.get("orderManagementDataPrice.TaxType"))).replace("{1}",e)),currencyCode:h.OrderManagementData.Price.CurrencyCode}}(d&&this.get("isDiscounted")&&!this.get("isSubscriptionTrial")||this.get("isPriceVariant"))&&(t=l.default.Purchase_Discounted_Subscription_Renewal_Label.replace("{0}",t))
var b=null
if(this.get("hasPromotionalDuration")&&(b=l.default.Purchase_subscription_Promotional_LegalTerms.replace("{0}",t)),(n={price:this.get("orderManagementDataPrice.RecurrencePrice"),priceFormat:t,currencyCode:this.get("orderManagementDataPrice.CurrencyCode"),originalPriceFormat:c,promotionalPriceFormat:b}).price&&n.priceFormat&&n.currencyCode&&e)return n}var _=this.get("extendedData")
if(d&&_&&r.default.decodeToString(_)){var I=JSON.parse(r.default.decodeToString(_)),C=I.RenewalListPrice||0===I.RenewalListPrice
if(I&&I.RenewalTaxType&&C&&I.RenewalCurrencyCode&&I.LocalizedProperties){if(!(e=this.get("webBlendsData.LocaledChargeFrequency")||"")){for(var P=0;P<I.LocalizedProperties.length;P++){var w=I.LocalizedProperties[P]
w&&w.Language&&w.Language.toLowerCase&&u.toLowerCase().indexOf(w.Language.toLowerCase())>=0&&(e=w.ChargeFrequencyString)}e||(e=this.get("webBlendsData.ChargeFrequencyString")),!e&&I.LocalizedProperties.length&&I.LocalizedProperties[0]&&(e=I.LocalizedProperties[0].ChargeFrequencyString)}var E=a.default.getPriceForTaxString(I.RenewalTaxType,I.RenewalListPrice,I.RenewalListPrice)
return t=l.default.Purchase_Label_RenewalInformation_Formatted.replace("{0}",a.default.getPriceFormatForTaxString(I.RenewalTaxType)).replace("{1}",e),(d&&this.get("isDiscounted")&&!this.get("isSubscriptionTrial")||this.get("isPriceVariant"))&&(t=l.default.Purchase_Discounted_Subscription_Renewal_Label.replace("{0}",t)),n={price:E,priceFormat:t,currencyCode:I.RenewalCurrencyCode}}}return null}),formattedUnitPrice:Ember.computed("taxType","retailPrice","quantity","currencyCode",function(){var e=this.get("taxType"),t=this.get("retailPrice")
return this.get("quantity")>1?{price:a.default.getPriceForTaxString(e,t,t),priceFormat:l.default.Purchase_Label_UnitPrice+" "+a.default.getBasicPriceFormatString(),currencyCode:this.get("currencyCode")}:null}),formattedQuantity:Ember.computed("quantity",function(){var e=this.get("quantity")
return e>1?l.default.Purchase_Label_Quantity+" "+e:""}),requiredCsvBalance:Ember.computed("totalAmount","isSubscriptionItem","isDiscounted",function(){var e=this.get("totalAmount")
return this.get("isSubscriptionItem")&&this.get("isDiscounted")&&(e+=this.get("renewalPrice")),e}),purchaseApprovalState:Ember.computed("purchaseRestriction.purchaseApprovalState",function(){var e=this.get("purchaseRestriction.purchaseApprovalState")
return e&&e.toLowerCase?e.toLowerCase():null}),isPurchaserChild:Ember.computed.bool("purchaseRestriction.isChild"),askToBuySetting:Ember.computed("purchaseRestriction.askToBuySetting",function(){var e=this.get("purchaseRestriction.askToBuySetting")
return e&&e.toLowerCase?e.toLowerCase():null}),challengePurchaseContext:Ember.computed("totalAmount","currencyCode","order.market",function(){return{amount:this.get("totalAmount"),currency:this.get("currencyCode"),country:this.get("order.market")}}),RecurrencePrice:Ember.computed("orderManagementDataPrice",function(){return this.get("orderManagementDataPrice.RecurrencePrice")}),RefundPolicyData:Ember.computed("refundPolicyId","productPolicies","refundPolicyData",function(){return this.get("refundPolicyData")})})})
define("sfw-services/models/order",["exports","ember-data","sfw-services/utils/strings","sfw-services/utils/format-price","sfw-telemetry/utils/create-guid"],function(e,t,r,n,i){"use strict"
function a(e){var t=[],r=!1
return e.forEach(function(e){var n=e.get("paymentInstrumentInclusionFilter")
!r&&n&&n.length?(r=!0,n.forEach(function(e){return t.push(e)})):n&&n.length&&(t=function(e,t){var r=[]
return t.forEach(function(t){e.forEach(function(e){var n,i,a=(n=e)===(i=t)?n:n.includes(":")&&i.includes(":")?null:n.includes(":")&&n.split(":")[0]===i?n:i.includes(":")&&i.split(":")[0]===n?i:null
a&&a.length>0&&r.push(a)})}),r}(t,n))}),r?t:null}function o(e){for(var t=[],r=0;r<e.length;r++)for(var n=e.objectAt(r).get("paymentInstrumentExclusionFilter")||[],i=0;i<n.length;i++)t.includes(n[i])||t.push(n[i])
return t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default.Model.extend({billingInformation:t.default.attr(),clientContext:t.default.attr(),createdTime:t.default.attr("date"),currencyCode:t.default.attr("string"),friendlyName:t.default.attr("string"),isPIRequired:t.default.attr("boolean"),language:t.default.attr("string"),market:t.default.attr("string"),orderId:t.default.attr("string",{defaultValue:function(){return i.default.create()}}),orderLineItems:t.default.attr(),orderState:t.default.attr("string"),orderValidityEndTime:t.default.attr("date"),orderValidityStartTime:t.default.attr("date"),purchaser:t.default.attr(),riskSessionId:t.default.attr("string"),testScenarios:t.default.attr("string"),tokenItem:t.default.attr(),totalAmount:t.default.attr("number"),totalAmountBeforeTax:t.default.attr("number"),totalTaxAmount:t.default.attr("number"),version:t.default.attr("string"),shortOrderId:t.default.attr("string"),bundlePrices:t.default.attr(),isInManualReview:t.default.attr("boolean"),isUpdatePIAllowed:t.default.attr("boolean"),manualReviewRiskDecision:t.default.attr("string"),omniChannelFulfillmentId:t.default.attr("string"),orderAdditionalMetadata:t.default.attr("string"),orderPlacedDate:t.default.attr("date"),orderRefundedDate:t.default.attr("date"),totalChargedToCsvTopOffPI:t.default.attr("number"),totalDeliveryPriceAmount:t.default.attr("number"),totalDeliveryPriceTaxAmount:t.default.attr("number"),totalFeeAmount:t.default.attr("number"),checkEligibility:t.default.attr("boolean"),previewEligibility:t.default.attr("boolean"),previewFees:t.default.attr("boolean"),totalSalesTax:t.default.attr("number"),totalAmusementTax:t.default.attr("number"),lineItems:t.default.hasMany("order-line-item",{async:!1}),firstLineItem:Ember.computed.oneWay("lineItems.firstObject"),isValid:Ember.computed.bool("firstLineItem"),isSubscriptionItem:Ember.computed.oneWay("firstLineItem.isSubscriptionItem"),isSubscriptionTrialItem:Ember.computed.oneWay("firstLineItem.isSubscriptionTrial"),formattedTotalPrice:Ember.computed("firstLineItem.taxType","firstLineItem.quantity","totalAmount","totalAmountBeforeTax","currencyCode",function(){var e=this.get("firstLineItem")
if(e){var t=n.default.getPriceForTaxString(e.get("taxType"),this.get("totalAmount"),this.get("totalAmountBeforeTax")),i=n.default.getPriceFormatForTaxString(e.get("taxType"),t)
return e.get("quantity")>1&&(i=r.default.Purchase_Label_TotalPrice+" "+i),{price:t,priceFormat:i,currencyCode:this.get("currencyCode")}}return null}),selectedPi:Ember.computed("billing","billingInformation",function(){return this.get("billingInformation.paymentInstrumentId")}),selectedBackupPi:Ember.computed("billing","billingInformation",function(){return this.get("billingInformation.csvTopOffPaymentInstrumentId")}),isCheckingOut:Ember.computed.equal("orderState","CheckingOut"),isEditing:Ember.computed.equal("orderState","Editing"),isPending:Ember.computed.equal("orderState","Pending"),isPurchased:Ember.computed.equal("orderState","Purchased"),isPiRequired:Ember.computed.alias("isPIRequired"),itemsWithoutPiInclusionTags:Ember.computed("lineItems.[]",function(){return this.get("lineItems").filter(function(e){return!e.get("paymentInstrumentInclusionFilter.length")})}),paymentInstrumentExclusionFilters:Ember.computed("lineItems.[]",function(){return o(this.get("lineItems"))}),paymentInstrumentExclusionFiltersForItemsWithoutPiInclusionTags:Ember.computed("itemsWithoutPiInclusionTags",function(){return o(this.get("itemsWithoutPiInclusionTags"))}),paymentInstrumentInclusionFilters:Ember.computed("lineItems.[]",function(){return a(this.get("lineItems"))}),beneficiaryPuid:Ember.computed.oneWay("firstLineItem.beneficiary.identityValue"),isCsvPurchase:Ember.computed.oneWay("firstLineItem.isCsvPurchase"),isBeneficiaryPurchase:Ember.computed("purchaser.identityValue","beneficiaryPuid",function(){var e=this.get("purchaser.identityValue"),t=this.get("beneficiaryPuid")
return!(!e||!t||e===t)}),isBeneficiarySoldToAddressRequired:Ember.computed.and("isCsvPurchase","isBeneficiaryPurchase"),sessionId:Ember.computed("billingInformation.sessionId","billing.sessionId",function(){return this.get("billingInformation.sessionId")}),isOmexProduct:Ember.computed.oneWay("firstLineItem.isOmexProduct"),supportsConversion:Ember.computed("lineItems.[]",function(){var e=this.get("lineItems").find(function(e){return e.get("supportsConversion")})
return e&&e.get("supportsConversion")||!1}),hasXboxGoldProduct:Ember.computed.equal("firstLineItem.productId","CFQ7TTC0K5DJ"),legacyPurchaseType:Ember.computed("legacyPurchaseItems.length",function(){var e=this.get("lineItems").find(function(e){return e.get("legacyPurchaseType")})
return e&&e.get("legacyPurchaseType")||null}),isGiftPurchase:Ember.computed("lineItems.[]",function(){return this.get("lineItems").any(function(e){return!!e.get("giftee")})}),challengePurchaseContext:Ember.computed("totalAmount","currencyCode","market",function(){return{amount:this.get("totalAmount"),currency:this.get("currencyCode"),country:this.get("market")}})})}),define("sfw-services/models/payment-instrument",["exports","ember-data","sfw-telemetry/utils/app-globals","sfw-telemetry/utils/start-data"],function(e,t,r,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var i=function(e,t){if(e&&e.filter){var r=e.filter(function(e){return e.mimeType&&e.mimeType.toLowerCase&&e.mimeType.toLowerCase()===t.toLowerCase()})
return r&&r[0]&&r[0].url}return null}
e.default=t.default.Model.extend({paymentMethod:t.default.belongsTo("payment-method",{inverse:null,async:!1}),details:t.default.attr(),status:t.default.attr("string"),creationDateTime:t.default.attr("date"),lastUpdatedDateTime:t.default.attr("date"),accountId:t.default.attr("string"),retrievedDate:t.default.attr("date"),payment_method_type:Ember.computed("paymentMethod",function(){return this.get("paymentMethod.paymentMethodType")}),payment_method_family:Ember.computed("paymentMethod",function(){return this.get("paymentMethod.paymentMethodFamily")}),address:Ember.computed("details",function(){return this.get("details.address")}),display_info:Ember.computed("paymentMethod","details",function(){var e=this.get("paymentMethod.paymentMethodFamily"),t=this.get("paymentMethod.paymentMethodType")
e=e&&e.toLowerCase?e.toLowerCase():e,t=t&&t.toLowerCase?t.toLowerCase():t
var r=this.get("paymentMethod.display.name"),n=this.get("details.lastFourDigits"),a="",o=!1
switch(e){case"credit_card":a=""+n
break
case"direct_debit":a=(n=n||this.get("details.bankAccountLastFourDigits"))?""+n:""
var s=this.get("status")
if(s&&s.toLowerCase&&"pending"===s.toLowerCase()){var l=this.get("details.pendingOn")
l&&l.toLowerCase&&"picv"===l.toLowerCase()&&(o=!0)}break
case"mobile_carrier_billing":a=r
break
case"mobile_billing_non_sim":a=r+" "+this.get("details.msisdn")
break
case"ewallet":a="qiwi_billing_agreement"===t?this.get("details.qiwiAccount"):"venmo"===t?this.get("details.userName"):this.get("details.email")
break
default:a=this.get("details.email")}var u=this.get("paymentMethod.display.logos")
return{balance:this.get("details.balance"),currency:this.get("details.currency"),logo:this.get("paymentMethod.display.logo"),preferredLogo:i(u,"image/svg+xml")||i(u,"image/png")||this.get("paymentMethod.display.logo"),payment_method_display_name:r,account_holder_name:this.get("details.accountHolderName"),alipayBa_account_name:this.get("details.alipayAccount"),expiry_month:this.get("details.expiryMonth"),expiry_year:this.get("details.expiryYear"),expired:this.get("isExpired"),issuer:this.get("details.issuer"),payment_instrument_identifier:a,termsAndConditions:this.get("paymentMethod.display.termsAndConditions"),isUpdatable:!1,isDirectDebitChallengeRequired:o}}),chargeThresholdPrice:Ember.computed("paymentMethod",function(){return this.get("paymentMethod.properties.chargeThresholds.0.maxPrice")||null}),isExpired:Ember.computed("retrievedDate","details",function(){var e=new Date(this.get("retrievedDate")),t=e.getFullYear(),r=e.getUTCMonth()+1,n=+this.get("details.expiryYear"),i=+this.get("details.expiryMonth")
return!!(t&&r&&n&&i)&&(t>n||t===n&&r>i)}),soldToAddressRequired:Ember.computed("paymentMethod",function(){return this.get("paymentMethod.properties.soldToAddressRequired")}),moBillingIdentityUrl:Ember.computed("paymentMethod",function(){return this.get("paymentMethod.properties.moBillingIdentityUrl")}),iccId:Ember.computed("details",function(){return this.get("details.iccId")}),phoneSerialNumber:Ember.computed("details",function(){return this.get("details.phoneSerialNumber")}),sessionId:Ember.computed("id",function(){var e=this.get("id")
return r.default._sessionIds.getSessionId(e)}),isSplitPaymentSupported:Ember.computed("paymentMethod",function(){return this.get("paymentMethod.properties.splitPaymentSupported")||!1}),isCsv:Ember.computed("paymentMethod",function(){return"stored_value"===this.get("paymentMethod.paymentMethodType")}),isAsyncPi:Ember.computed("paymentMethod",function(){var e=this.get("paymentMethod.properties.redirectRequired")
return e&&e.length&&e.containsAnyIgnoreCase("Purchase")}),isAsyncPiWithWaitTime:Ember.computed("isAsyncPi",function(){return this.get("isAsyncPi")&&this.get("paymentMethod.properties.purchaseWaitTime")>0}),piAccountId:Ember.computed("accountId",function(){return this.get("accountId")}),creditCardCountry:Ember.computed("paymentMethod","address",function(){var e=this.get("paymentMethod.paymentMethodFamily")
return"credit_card".equalsIgnoreCase(e)?this.get("address.country"):null}),smdCreditCardCountry:Ember.computed("paymentMethod","address",function(){var e=n.default.get().BillingMarket||n.default.get().Market,t=["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IS","IE","IT","LV","LI","LT","LU","MT","NL","NO","PL","PT","RO","SK","SI","ES","SE","CH","GB","UK","DK","FO","GL","FR","GP","RE","MQ","GF","PF","NC","YT","MF","BL","IT","VA","SM","NL","AW","BQ","CW","SX","GB","UK","BM","KY","JE","AI","TC","GI","FK","VG","MS"],r=this.get("paymentMethod.paymentMethodFamily")
if("credit_card".equalsIgnoreCase(r)){var i=this.get("address.country")
if(e&&i&&t.containsAnyIgnoreCase(e)&&t.containsAnyIgnoreCase(i))return i}return null})})}),define("sfw-services/models/payment-method",["exports","ember-data"],function(e,t){"use strict"
function r(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).find(function(t){return e.equalsIgnoreCase(t.mimeType)})
return t?t.url:null}Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default.Model.extend({paymentMethodFamily:t.default.attr("string"),paymentMethodType:t.default.attr("string"),display:t.default.attr(),properties:t.default.attr(),exclusionTags:t.default.attr(),preferredLogo:Ember.computed(function(){var e=r("image/svg+xml",this.get("display.logos"))
return e||(e=r("image/png",this.get("display.logos"))),e||(e=this.get("display.logo")),e})})}),define("sfw-services/models/product",["exports","ember-data","sfw-telemetry/utils/flight-config","sfw-telemetry/utils/start-data"],function(e,t,r,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default.Model.extend({AlternateIds:t.default.attr(),DisplaySkuAvailabilities:t.default.attr(),DomainDataVersion:t.default.attr(),IngestionSource:t.default.attr(),LastModifiedDate:t.default.attr(),IsMicrosoftProduct:t.default.attr(),LocalizedProperties:t.default.attr(),MarketProperties:t.default.attr(),PartD:t.default.attr(),PreferredSkuId:t.default.attr(),ProductASchema:t.default.attr(),ProductBSchema:t.default.attr(),ProductCorrelationContext:t.default.attr(),ProductId:t.default.attr(),ProductType:t.default.attr(),ProductFamily:t.default.attr(),ProductKind:t.default.attr(),Properties:t.default.attr(),ValidationData:t.default.attr(),ProductPolicies:t.default.attr(),ProductTitle:Ember.computed("title",function(){return this.get("title")}),PublisherName:Ember.computed("localLocalizedProperties",function(){return this.get("localLocalizedProperties.PublisherName")}),Images:Ember.computed("localLocalizedProperties",function(){return this.get("localLocalizedProperties.Images")}),ProductDescription:Ember.computed("localLocalizedProperties",function(){return this.get("localLocalizedProperties.ProductDescription")}),PurchasableAvailabilities:Ember.computed("DisplaySkuAvailabilities",function(){var e=this.get("DisplaySkuAvailabilities")
return e&&e.filter&&e.filter(function(e){return e.Availabilities&&e.Availabilities.filter&&e.Availabilities.filter(function(e){return!(!e.Actions||!e.Actions.some)&&e.Actions.some(function(e){return"purchase".equalsIgnoreCase(e)})})})||[]}),GiftAvailabilityId:Ember.computed("DisplaySkuAvailabilities",function(){var e=this.get("DisplaySkuAvailabilities.0.Availabilities").find(function(e){return e.Actions.some(function(e){return"gift".equalsIgnoreCase(e)})&&!e.RemediationRequired})
return e&&e.AvailabilityId||!1}),IsBrowsable:Ember.computed("DisplaySkuAvailabilities",function(){var e=this.get("DisplaySkuAvailabilities")
return!(!e||!e.some)&&e.some(function(e){return!(!e.Availabilities||!e.Availabilities.some)&&e.Availabilities.some(function(e){return e.Actions.some(function(e){return"browse".equalsIgnoreCase(e)})})})}),IsApp:Ember.computed("ProductType","ProductFamily",function(){return"7"===r.default.getFlightValue("catalogversion")?"apps"===(this.get("ProductFamily")||"").toLowerCase():"application"===this.get("ProductType").toLowerCase()}),IsMovie:Ember.computed("ProductType","ProductFamily",function(){return"7"===r.default.getFlightValue("catalogversion")?"movies"===(this.get("ProductFamily")||"").toLowerCase():"movie"===this.get("ProductType").toLowerCase()}),IsGame:Ember.computed("ProductFamily",function(){return"7"===r.default.getFlightValue("catalogversion")&&"games"===(this.get("ProductFamily")||"").toLowerCase()}),IsDurable:Ember.computed("ProductFamily","ProductKind",function(){if("7"===r.default.getFlightValue("catalogversion")){var e=this.get("ProductFamily")||"",t=this.get("ProductKind")||""
return"games"===e.toLowerCase()&&"durable"===t.toLowerCase()}return!1}),isBook:Ember.computed("ProductFamily",function(){return"7"===r.default.getFlightValue("catalogversion")&&"books"===(this.get("ProductFamily")||"").toLowerCase()}),IsIAP:Ember.computed("ParentProductIds",function(){var e=this.get("ParentProductIds")
return e&&e.length>0}),productCategory:Ember.computed("AlternateIds",function(){if(this.get("isOmexProduct"))return"office"
var e=this.get("AlternateIds"),t=e&&e.filter(function(e){return"subscriptionpartnerid"===e.IdType.toLowerCase()})[0]
return t&&t.Value.toLowerCase()}),AlternateZuneId:Ember.computed("AlternateIds",function(){for(var e=this.get("AlternateIds"),t=0;t<e.length;t++)if("zuneid"===e[t].IdType.toLowerCase())return e[t].Value
return null}),LegacyPhoneAppId:Ember.computed("AlternateIds",function(){for(var e=this.get("AlternateIds"),t=0;t<e.length;t++)if(e[t].IdType&&e[t].IdType.toLowerCase&&"legacywindowsphoneproductid"===e[t].IdType.toLowerCase())return e[t].Value
return null}),LegacyPfnId:Ember.computed("Properties",function(){var e=this.get("Properties")
return e&&e.PackageFamilyName}),isPublishedToLegacyWindowsStore:Ember.computed("Properties",function(){var e=this.get("Properties")
return e&&e.isPublishedToLegacyWindowsStore}),isPublishedToLegacyWindowsPhoneStore:Ember.computed("Properties",function(){var e=this.get("Properties")
return e&&e.isPublishedToLegacyWindowsPhoneStore}),ParentProductIds:Ember.computed("MarketProperties",function(){var e=[],t=this.get("MarketProperties")
return t&&t.length&&t.forEach(function(t){t.RelatedProducts&&t.RelatedProducts.length&&t.RelatedProducts.forEach(function(t){"addonparent"===t.RelationshipType.toLowerCase()&&e.push(t.RelatedProductId)})}),e}),ContentRatings:Ember.computed("MarketProperties",function(){var e=this.get("MarketProperties")
return e&&e.length?e[0].ContentRatings:null}),ConversionDetailsUrl:Ember.computed("PartD",function(){var e=this.get("PartD")
return e&&JSON.parse(e)&&JSON.parse(e).ConversionDetailsUrl}),entitlementProperties:Ember.computed(function(){return this.get("Properties.EntitlementProperties")}),isOmexProduct:Ember.computed(function(){return this.get("Properties.IsOmexProduct")}),supportsConversion:Ember.computed(function(){return this.get("Properties.SupportsConversion")}),postRedemptionPdp:Ember.computed(function(){return this.get("Properties.PostRedemptionPDP")}),legacyPurchaseType:Ember.computed(function(){return this.get("Properties.LegacyPurchaseType")}),localLocalizedProperties:Ember.computed("LocalizedProperties",function(){var e=n.default.get().Market,t=this.get("LocalizedProperties")||[]
return t.find(function(t){return t.Markets.find(function(t){return e.equalsIgnoreCase(t)})})||t.length&&t[0]}),localMarketProperties:Ember.computed("MarketProperties",function(){var e=n.default.get().Market,t=this.get("MarketProperties")||[]
return t.find(function(t){return t.Markets.find(function(t){return e.equalsIgnoreCase(t)})})||t.length&&t[0]}),productFamily:Ember.computed(function(){return this.get("ProductFamily")}),primaryCategory:Ember.computed(function(){return this.get("Properties.PrimaryCategory")||""}),title:Ember.computed("localLocalizedProperties",function(){return this.get("localLocalizedProperties.ProductTitle")}),bundleConfig:Ember.computed("localMarketProperties",function(){var e=this.get("localMarketProperties")||[]
return e&&e.BundleConfig}),bundleSlots:Ember.computed("bundleConfig",function(){var e=function(e,t){return void 0===e.DisplayRank?1:void 0===t.DisplayRank?-1:e.DisplayRank-t.DisplayRank},t=this.get("bundleConfig")
if(t&&t.BundleSlots&&t.BundleSlots.length){var r=t.BundleSlots.filter(function(e){return"Interstitial"===e.RenderHint}).sort(e)
return r.forEach(function(t){return function(t){if(t.ChildIdentifiers&&t.ChildIdentifiers.length){var r=t.ChildIdentifiers.sort(e),n=r[0].ProductId
t.ChildIdentifiers=r.filter(function(e){return e.ProductId.equalsIgnoreCase(n)})}}(t)}),r}return null}),downgradeShortDescription:Ember.computed("localLocalizedProperties",function(){return this.get("localLocalizedProperties.UXDowngradeShortDescription")}),artistName:Ember.computed(function(){return this.get("localLocalizedProperties.ArtistDisplayName.ArtistDisplayText")}),parent:Ember.computed(function(){return this.get("localLocalizedProperties.Parents.firstObject")}),seasonPosition:Ember.computed(function(){return this.get("parent.SeasonPosition")}),position:Ember.computed(function(){return this.get("parent.Position")}),seriesTitle:Ember.computed(function(){return this.get("parent.SeriesTitle")}),isXboxLiveGold:Ember.computed("ProductId",function(){return"CFQ7TTC0K5DJ".equalsIgnoreCase(this.get("ProductId"))}),isEaAccess:Ember.computed("ProductId",function(){return"CFQ7TTC0K5DH".equalsIgnoreCase(this.get("ProductId"))}),isXboxUltimate:Ember.computed("ProductId",function(){return"CFQ7TTC0KHS0".equalsIgnoreCase(this.get("ProductId"))}),isXboxGamePassForPC:Ember.computed("ProductId",function(){return"CFQ7TTC0KGQ8".equalsIgnoreCase(this.get("ProductId"))}),isXboxGamePassForXbox:Ember.computed("ProductId",function(){return"CFQ7TTC0K6L8".equalsIgnoreCase(this.get("ProductId"))}),isGamePassProduct:Ember.computed(function(){return this.get("isXboxUltimate")||this.get("isXboxGamePassForPC")||this.get("isXboxGamePassForXbox")}),isXbetAskAParentEligible:Ember.computed("ProductId",function(){return this.get("isXboxLiveGold")||this.get("isXboxGamePassForXbox")||this.get("isXboxUltimate")||this.get("isEaAccess")}),isXboxUltimateFamily:Ember.computed("ProductId",function(){return"CFQ7TTC0HXBN".equalsIgnoreCase(this.get("ProductId"))})})}),define("sfw-services/models/profile",["exports","ember-data"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default.Model.extend({customer_id:t.default.attr("string"),culture:t.default.attr("string"),default_address_id:t.default.attr("string"),default_address:t.default.belongsTo("address",{async:!1,inverse:null}),default_shipping_address_id:t.default.attr("string"),default_shipping_address:t.default.belongsTo("address",{async:!1,inverse:null}),email_address:t.default.attr("string"),first_name:t.default.attr("string"),last_name:t.default.attr("string"),gamer_tag:t.default.attr("string"),type:t.default.attr("string"),etag:t.default.attr("string"),userId:t.default.attr("string"),sender_name:t.default.attr("string"),msa_primary_alias:t.default.attr("string"),addresses:t.default.hasMany("address",{async:!0,inverse:null}),hasFullName:Ember.computed("first_name","last_name",function(){return!!this.get("first_name")&&!!this.get("last_name")}),hasProfileAddress:Ember.computed("addresses",function(){return this.get("addresses.length")>0}),hasDefaultAddress:Ember.computed("default_address",function(){return!!this.get("default_address.id")}),defaultAddressId:Ember.computed("default_address",function(){return this.get("default_address.id")}),defaultAddress:Ember.computed("default_address",function(){return this.get("default_address")}),hasDefaultShippingAddress:Ember.computed("default_shipping_address",function(){return!!this.get("default_shipping_address.id")}),hasDirtyAttributes:Ember.computed(function(){var e=this.changedAttributes(),t=Object.keys(e).length
return t>1||1===t&&!e.userId}),getDirtyAttributes:function(){var e=this.changedAttributes(),t=Object.keys(e).length
return t>1||1===t&&!e.userId}})}),define("sfw-services/models/reward",["exports","ember-data"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default.Model.extend({profile:t.default.attr(),promotions:t.default.attr()})}),define("sfw-services/models/rewards-claim-promotion",["exports","ember-data"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default.Model.extend({})}),define("sfw-services/models/save-to-cart",["exports","ember-data"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default.Model.extend({ProductId:t.default.attr(),SkuId:t.default.attr(),AvailabilityId:t.default.attr(),Error:t.default.attr(),HasErrors:t.default.attr(),NavigationHint:t.default.attr(),Order:t.default.attr(),UpsellOrderLineItem:t.default.attr(),UpsellProduct:t.default.attr()})}),define("sfw-services/models/select-pi",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Object.extend({selectBackupPi:null,selectedPis:null,reset:function(){this.set("selectBackupPi",null),this.set("selectedPis",null)}})}),define("sfw-services/models/session-ids",["exports","sfw-telemetry/utils/create-guid"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Object.extend({paymentInstrumentSessionIds:[],newPlaceholderId:"***NEW***",getSessionId:function(e,r){var n=null
if(e){for(var i=this.get("paymentInstrumentSessionIds"),a=e+(r||""),o=i.length,s=0;s<o;s++)if(i[s].paymentInstrumentId===a)return i[s].sessionId
a=this.get("newPlaceholderId")
for(var l=0;l<o;l++)if(i[l].paymentInstrumentId===a)return i[l].paymentInstrumentId=e,i[l].sessionId
var u=e+(r||"")
n=t.default.create(),i.push({paymentInstrumentId:u,sessionId:n})}return n},getNewSessionId:function(){for(var e=this.get("newPlaceholderId"),r=t.default.create(),n=this.get("paymentInstrumentSessionIds"),i=n.length,a=0;a<i;a++)if(n[a].paymentInstrumentId===e)return n[a].sessionId=r,n[a].sessionId
return n.push({paymentInstrumentId:e,sessionId:r}),r},greenId:null,reset:function(){this.set("paymentInstrumentSessionIds",[])}})}),define("sfw-services/models/token",["exports","ember-data"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default.Model.extend({tokenState:t.default.attr("string"),universalStoreSkuId:t.default.attr("string"),universalStoreAvailabilityId:t.default.attr("string"),csvTokenDescription:t.default.attr(),xbox360TokenDescription:t.default.attr(),tokenStartDate:t.default.attr("string"),tokenExpiryDate:t.default.attr("string"),universalStoreBigIds:t.default.attr(),tokenValidationPolicy:t.default.attr("string"),isPartnerBilling:t.default.attr("boolean"),stateReason:t.default.attr("string"),isPartnerManagedPIAttachRequired:t.default.attr("boolean"),isPartnerManaged:t.default.attr("boolean")})}),define("sfw-services/models/user-pidl-data",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Object.extend({data:null,originalPidl:null,prefix:null,suffix:null,model:null,displayData:null,payment_instrument_identifier:Ember.computed("displayData",function(){var e=this.get("displayData")
return e&&Array.isArray(e)&&e.length>0&&e[0].accountToken?""+e[0].accountToken.substr(e[0].accountToken.length-4):this.get("model.lastFourDigits")?""+this.get("model.lastFourDigits"):void 0}),reset:function(){this.set("data",null),this.set("originalPidl",null),this.set("prefix",null),this.set("suffix",null),this.set("model",null),this.set("displayData",null)}})}),define("sfw-services/models/warranty",["exports","ember-data"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default.Model.extend({WarrantySessionId:t.default.attr("string")})}),define("sfw-services/serializers/address",["exports","ember-data","sfw-telemetry/utils/flight-config","sfw-telemetry/utils/create-guid"],function(e,t,r,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default.RESTSerializer.extend({isNewSerializerAPI:!0,normalizeResponse:function(e,t,i,a,o){return r.default.isEnabled("validateaddress")&&o.equalsIgnoreCase("createRecord")&&!i.id&&i.status&&(i.id=n.default.create()),i=i.items?{addresses:i.items}:{address:i},this._super(e,t,i,a,o)},serializeIntoHash:function(e,t,r,n){Ember.merge(e,this.serialize(r,n))}})}),define("sfw-services/serializers/auth-token",["exports","ember-data"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default.RESTSerializer.extend({isNewSerializerAPI:!0,normalizeResponse:function(e,t,r,n,i){return r.id=r.PassportCid,r={authToken:r},this._super(e,t,r,n,i)}})}),define("sfw-services/serializers/billing-information",["exports","ember-data","sfw-telemetry/utils/create-guid","sfw-services/mixins/null-attribute-serializer"],function(e,t,r,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default.RESTSerializer.extend(n.default,{isNewSerializerAPI:!0,attrs:{paymentInstrument:"paymentInstrumentId",csvTopOffPaymentInstrument:"csvTopOffPaymentInstrumentId",secondaryPaymentInstrument:"secondaryPaymentInstrumentId",soldToAddress:"soldToAddressId"},normalize:function(e,t,n){return t.id=r.default.create(),"Token"===t.paymentInstrumentType&&(t.tokenInformation={id:t.paymentInstrumentId},delete t.paymentInstrumentId),this._super(e,t,n)},serialize:function(e,t){var r=this._super(e,t)
return delete r.id,r.tokenInformation&&(r.paymentInstrumentId=r.tokenInformation.id,delete r.tokenInformation),r}})}),define("sfw-services/serializers/contact-preference",["exports","ember-data"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default.RESTSerializer.extend({primaryKey:"contactValue",isNewSerializerAPI:!0,normalizeSaveResponse:function(e,t,r,n,i){return r={contactPreference:r},this._super(e,t,r,n,i)},pushPayload:function(e,t){return t={contactPreference:t},this._super(e,t)},serializeIntoHash:function(e,t,r,n){Ember.merge(e,this.serialize(r,n))}})}),define("sfw-services/serializers/create-rewards-user",["exports","ember-data","sfw-telemetry/utils/client"],function(e,t,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default.RESTSerializer.extend({isNewSerializerAPI:!0,normalizeResponse:function(e,t,r,n,i){return r.response&&(r.response.attributes&&r.response.attributes.promotions&&(r.response=r.response.attributes),r.response.id=n,r={createRewardsUser:r.response}),this._super(e,t,r,n,i)},serializeIntoHash:function(e,t,r,n){Ember.merge(e,this.serialize(r,n))},serialize:function(e,t){t.includeId=!1
var n=this._super(e,t)||{},i="unknown"
return r.default.isXboxOneClient()?i="xbox":r.default.isDesktopClient()&&(i="desktop"),n.deviceType=i,n.creative=e.record.offerid,n.getUserInfo=!0,n}})}),define("sfw-services/serializers/friends-info",["exports","ember-data"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default.RESTSerializer.extend({primaryKey:"xuid",isNewSerializerAPI:!0,normalizeResponse:function(e,t,r,n,i){return r.people&&r.people.length&&(r={friendsInfo:r.people[0]}),this._super(e,t,r,n,i)}})}),define("sfw-services/serializers/giftee",["exports","ember-data"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default.RESTSerializer.extend({isNewSerializerAPI:!0,attrs:{recipient:"recipientId"},serialize:function(e,t){return(t=t||{}).includeId=!1,this._super(e,t)}})}),define("sfw-services/serializers/order-line-item",["exports","ember-data","sfw-telemetry/utils/flight-config"],function(e,t,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default.RESTSerializer.extend(t.default.EmbeddedRecordsMixin,{primaryKey:"lineItemId",isNewSerializerAPI:!0,store:Ember.inject.service(),attrs:{giftee:{embedded:"always"}},normalizeResponse:function(e,t,r,n,i){r={orders:[r]}
var a=this._super(e,t,r,n,i)
if(a.included){var o=void 0
if(n)o=a.included.find(function(e){return e.id===n})
else if("createRecord"===i){var s=e.peekAll(t.modelName).map(function(e){return e.id})
o=a.included.find(function(e){return e.type===t.modelName&&!s.includes(e.id)})}o&&(a.included.splice(a.included.indexOf(o),1),a.data=o)}return a},pushPayload:function(e,t){return t={orderLineItem:t},this._super(e,t)},normalize:function(e,t,r){var n=this.get("store"),i=t.productId+"/"+t.skuId,a=n.peekRecord("product",i)
return a||(i=t.productId,a=n.peekRecord("product",i)),t.product=a?a.get("id"):t.productId+"/"+t.skuId+"/"+t.availabilityId,t.giftee&&(t.giftee.id=t.lineItemId),this._super(e,t,r)},serializeIntoHash:function(e,t,r,n){r.record.get("isNew")?e.items=[this.serialize(r,n)]:Ember.merge(e,this.serialize(r,n))},serialize:function(e,t){var n=this._super(e,t),i={}
if((t=t||{}).full){for(var a in n)n.hasOwnProperty(a)&&null!=n[a]&&(i[a]=n[a])
return i}return e.record.get("isNew")&&(i.availabilityId=n.availabilityId,i.productId=n.productId,i.skuId=n.skuId,n.campaignId&&(i.campaignId=n.campaignId),n.optionalCampaignId&&(i.optionalCampaignId=n.optionalCampaignId),n.devOfferId&&(i.devOfferId=n.devOfferId)),i.quantity=n.quantity,n.beneficiary&&(r.default.isEnabled("msacidcheck")&&"msacid".equalsIgnoreCase(n.beneficiary.identityType)||(i.beneficiary=n.beneficiary)),n.userConsent&&(i.userConsent=n.userConsent),n.giftee&&(i.giftee=n.giftee),n.fulfillmentSessionId&&(i.fulfillmentSessionId=n.fulfillmentSessionId),i}})}),define("sfw-services/serializers/order",["exports","ember-data"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default.RESTSerializer.extend(t.default.EmbeddedRecordsMixin,{primaryKey:"orderId",attrs:{lineItems:{embedded:"always"},billing:{embedded:"always"}},isNewSerializerAPI:!0,normalizeResponse:function(e,t,r,n,i){return r=r.items?{orders:r.items}:{order:r},this._super(e,t,r,n,i)},pushPayload:function(e,t){return this._super(e,{order:t})},normalize:function(e,t,r){return t.lineItems=t.orderLineItems,delete t.orderLineItems,this._super(e,t,r)},serializeIntoHash:function(e,t,r,n){Ember.merge(e,this.serialize(r,n))},serialize:function(e,t){var r=this._super(e,t),n=void 0
if(e.adapterOptions=e.adapterOptions||{},"createRecord"===e.adapterOptions.requestType)n={},["orderId","orderState","billingInformation","friendlyName","clientContext","language","market","orderAdditionalMetadata"].forEach(function(e){return n[e]=r[e]}),r.checkEligibility&&(n.checkEligibility=r.checkEligibility),r.riskSessionId&&(n.riskSessionId=r.riskSessionId),r.lineItems.length?n.items=r.lineItems:r.tokenItem&&(n.tokenItem=r.tokenItem)
else if("updateRecord"===e.adapterOptions.requestType)n={},["orderState","billingInformation","friendlyName","clientContext"].forEach(function(e){return n[e]=r[e]}),r.previewEligibility&&(n.previewEligibility=r.previewEligibility),r.previewFees&&(n.previewFees=r.previewFees)
else if("updateAttachRecord"===e.adapterOptions.requestType)if(n={},["orderId","orderState","billingInformation","friendlyName","clientContext","language","market","orderAdditionalMetadata"].forEach(function(e){return n[e]=r[e]}),r.previewEligibility&&(n.previewEligibility=r.previewEligibility),r.previewFees&&(n.previewFees=r.previewFees),r.lineItems.length){var i=[]
r.lineItems.forEach(function(e){e.productId&&void 0!==e.productId&&i.push(e)}),n.items=i}else r.tokenItem&&(n.tokenItem=r.tokenItem)
else n=r
return n}})}),define("sfw-services/serializers/payment-instrument",["exports","ember-data"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default.RESTSerializer.extend(t.default.EmbeddedRecordsMixin,{isNewSerializerAPI:!0,attrs:{paymentMethod:{embedded:"always"}},normalizeResponse:function(e,t,r,n,i){return Array.isArray(r)?(r.forEach(function(e){e.retrievedDate=r.retrievedDate}),r={paymentInstruments:r}):r={paymentInstrument:r},this._super(e,t,r,n,i)},pushPayload:function(e,t){return Array.isArray(t)?(t.forEach(function(e){e.retrievedDate=t.retrievedDate}),t={paymentInstruments:t}):t={paymentInstrument:t},this._super(e,t)}})}),define("sfw-services/serializers/payment-method",["exports","ember-data"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default.RESTSerializer.extend({isNewSerializerAPI:!0,normalizeResponse:function(e,t,r,n,i){return r=Array.isArray(r)?{paymentMethods:r}:{paymentMethod:r},this._super(e,t,r,n,i)},normalize:function(e,t,r){return t.id=t.paymentMethodFamily+"-"+t.paymentMethodType,this._super(e,t,r)}})}),define("sfw-services/serializers/product",["exports","ember-data"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default.RESTSerializer.extend({primaryKey:"ProductId",isNewSerializerAPI:!0,normalizeResponse:function(e,t,r,n,i){var a=this._super(e,t,r,n,i)
return n&&(a.data.id=n),a}})}),define("sfw-services/serializers/profile",["exports","ember-data","sfw-telemetry/utils/start-data"],function(e,t,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default.RESTSerializer.extend(t.default.EmbeddedRecordsMixin,{attrs:{default_address:{embedded:"always"},default_shipping_address:{embedded:"always"}},isNewSerializerAPI:!0,normalizeResponse:function(e,t,r,n,i){r.profile&&"recipient"===r.profile.type?(r.id=r.profile.customer_id,delete r.customer,delete r.profile.links,r={profile:r}):r.items?(r.items.forEach(function(e){delete e.links}),r={profiles:r.items}):(delete r.links,r={profile:r})
var a=void 0,o=void 0
if(r.profiles&&r.profiles.length>0){r.profiles.forEach(function(e){"consumer"===e.type.toLowerCase()?a=e:"msa_extended"===e.type.toLowerCase()&&e.msa_aliases&&(o=(e.msa_aliases.find(function(e){return e.is_primary})||{}).alias_name)})
var s=[]
a&&(a.msa_primary_alias=o||a.email_address,s.push(a)),r={profiles:s}}return this._super(e,t,r,n,i)},pushPayload:function(e,t){return t={profile:t},this._super(e,t)},serializeIntoHash:function(e,t,r,n){r&&"recipient"===r.attr("type")?(this._super(e,t,r,n),e.customer={customer_type:"individual",customer_subtype:"anonymous"}):Ember.merge(e,this.serialize(r,n))},serialize:function(e,t){var n=this._super(e,t)||{}
if("recipient"===n.type){var i={}
return i.type=n.type,i.gamer_tag=n.gamer_tag,i.email_address=n.email_address,i.sender_name=n.sender_name,i}return delete n.userId,delete n.addresses,n.id=e.id,r.default.get().XToken||delete n.gamer_tag,"consumer"===n.type&&delete n.sender_name,delete n.msa_primary_alias,n}})}),define("sfw-services/serializers/reward",["exports","ember-data"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default.RESTSerializer.extend({isNewSerializerAPI:!0,normalizeResponse:function(e,t,r,n,i){return r.response&&(r.response.id=n,r={reward:r.response}),this._super(e,t,r,n,i)}})}),define("sfw-services/serializers/rewards-claim-promotion",["exports","ember-data"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default.RESTSerializer.extend({isNewSerializerAPI:!0,normalizeResponse:function(e,t,r,n,i){return r.response&&(r.response.id=n,r={rewardsClaimPromotion:r.response}),this._super(e,t,r,n,i)},serializeIntoHash:function(e,t,r,n){Ember.merge(e,this.serialize(r,n))},serialize:function(e,t){t.includeId=!1
var r=this._super(e,t)||{}
return r.Attributes=e.record.attributes,r}})}),define("sfw-services/serializers/save-to-cart",["exports","ember-data"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default.RESTSerializer.extend({isNewSerializerAPI:!0,normalizeResponse:function(e,t,r,n,i){return r.response.AddItemsResults.id=r.id,r={saveToCart:r.response.AddItemsResults},this._super(e,t,r,n,i)},serialize:function(e,t){return{Products:[this._super(e,t)]}},serializeIntoHash:function(e,t,r,n){Ember.merge(e,this.serialize(r,n))}})}),define("sfw-services/serializers/token",["exports","ember-data"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default.RESTSerializer.extend({isNewSerializerAPI:!0,normalizeResponse:function(e,t,r,n,i){return r.id=n,r={token:r},this._super(e,t,r,n,i)}})})
define("sfw-services/serializers/warranty",["exports","ember-data"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default.RESTSerializer.extend({isNewSerializerAPI:!0,normalizeResponse:function(e,t,r,n,i){return r.id=n,r={warranty:r},this._super(e,t,r,n,i)}})}),define("sfw-services/services/account-tax-id",["exports","sfw-services/services/request","sfw-services/utils/external-urls","sfw-services/errors/service-error"],function(e,t,r,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default={get:function(){return t.default.get({url:r.default.get("AccountGetTaxIdUrl").toString(),contentType:"application/json",serviceName:"PaymentInstrumentFD",operationName:"GetAccountTaxId",defaultError:"GetAccountTaxId",errorClass:n.PaymentError,omitAcceptLanguage:!0,omitMarket:!0,addClient:!0,includeCorrelationContext:!0})},post:function(e){return t.default.post({url:r.default.get("AccountAddTaxIdUrl").toString(),contentType:"application/json",serviceName:"PaymentInstrumentFD",operationName:"AddAccountTaxId",defaultError:"AddAccountTaxId",errorClass:n.PaymentError,omitAcceptLanguage:!0,omitMarket:!0,addClient:!0,includeCorrelationContext:!0,body:e})}}}),define("sfw-services/services/address-descriptions",["exports","sfw-services/services/request","sfw-services/utils/external-urls","sfw-telemetry/utils/start-data","sfw-telemetry/utils/flight-config","sfw-services/errors/service-error"],function(e,t,r,n,i,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default={get:function(e,o){e=e||"billing"
var s=n.default.get().Culture,l=o?{country:o,language:s,type:e}:{language:s,type:e}
return t.default.get({url:r.default.get("AddressDescriptionsUrl").replace(l).toString(),contentType:"application/json",serviceName:"PaymentInstrumentFD",operationName:"GetAddressDesc",defaultError:"GetAddressDescriptions",errorClass:a.JarvisError,omitAcceptLanguage:!0,omitMarket:!0,addVnext:i.default.isEnabled("vnextpis"),addPXPIDL:i.default.isEnabled("pxpidl"),addClient:!0,includeCorrelationContext:!0})}}}),define("sfw-services/services/buddy-pass",["exports","sfw-services/services/request","sfw-services/utils/external-urls","sfw-services/errors/service-error","sfw-telemetry/utils/start-data"],function(e,t,r,n,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default={claimOffer:function(){var e=r.default.get("XboxClaimOffer").replace({market:i.default.get().Market}).toString(),a={ProductId:i.default.get().ProductId,SkuId:i.default.get().SkuId,OfferId:i.default.get().BuddyPassOfferId}
return t.default.post({url:e,body:a,contentType:"application/json",serviceName:"XboxFD",operationName:"GetClaimOfferToken",defaultError:"GetClaimOfferToken",errorClass:n.GetOfferError,omitAcceptLanguage:!0,omitMarket:!0,addClient:!0,includeCorrelationContext:!0,additionalHeaders:{"x-s2s-authorization":i.default.get().S2SToken}})},markOfferAsClaimed:function(){var e=r.default.get("XboxMarkOfferClaimed").replace({offerId:i.default.get().BuddyPassOfferId}).toString()
return t.default.post({url:e,serviceName:"XboxFD",operationName:"PostMarkOfferClaimed",defaultError:"PostMarkOfferClaimed",errorClass:n.MarkOfferClaimedError,omitAcceptLanguage:!0,omitMarket:!1,addClient:!0,includeCorrelationContext:!0,additionalHeaders:{"x-s2s-authorization":i.default.get().S2SToken}})}}}),define("sfw-services/services/challenge-descriptions",["exports","sfw-services/services/request","sfw-services/utils/external-urls","sfw-telemetry/utils/flight-config","sfw-telemetry/utils/start-data","sfw-services/errors/service-error"],function(e,t,r,n,i,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default={get:function(e){return t.default.get({url:r.default.get("ChallengeDescriptionsUrl").replace({challengeId:e,language:i.default.get().Culture}).toString(),contentType:"application/json",serviceName:"PaymentInstrumentFD",operationName:"GetChallengeDesc",defaultError:"ChallengeDescription",errorClass:a.PaymentError,omitAcceptLanguage:!0,omitMarket:!0,addVnext:n.default.isEnabled("vnextpis"),addClient:!0,includeCorrelationContext:!0})}}}),define("sfw-services/services/contact-preference",["exports","sfw-telemetry/utils/client","sfw-telemetry/utils/start-data"],function(e,t,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var n=["94EE1AE278114F52AFAB2759E46FCE57","9E06EFB38E004CAE9564DA23C2E0D61B"],i={BH:0,BI:0,BN:0,BO:0,BR:0,BW:0,CD:0,CF:0,CG:0,CI:0,CL:0,CM:0,CN:0,DO:0,DZ:0,EC:0,EG:0,ER:0,ET:0,GT:0,GA:0,GH:0,GM:0,GN:0,GQ:0,GW:0,HN:0,ID:0,IN:0,IQ:0,IR:0,JM:0,JO:0,KE:0,LB:0,LR:0,LS:0,LY:0,ML:0,MO:0,MR:0,MV:0,MW:0,MX:0,MY:0,NA:0,NE:0,NG:0,OM:0,PA:0,PY:0,QA:0,RW:0,SA:0,SC:0,SD:0,SN:0,SV:0,SY:0,SZ:0,TD:0,TG:0,TH:0,TM:0,TT:0,TZ:0,UG:0,US:0,YE:0,ZA:0,ZM:0,ZW:0,AE:1,AM:1,AO:1,AR:1,AT:1,AU:1,AZ:1,BE:1,BF:1,BG:1,BJ:1,CA:1,CH:1,CO:1,CR:1,CV:1,CY:1,CZ:1,DE:1,DK:1,EE:1,ES:1,FI:1,FR:1,GB:1,GE:1,GR:1,HK:1,HR:1,HU:1,IE:1,IL:1,IS:1,IT:1,JP:1,KR:1,KW:1,KZ:1,LI:1,LT:1,LU:1,LV:1,MA:1,MC:1,MG:1,MK:1,MT:1,MU:1,MZ:1,NL:1,NO:1,NZ:1,PE:1,PH:1,PK:1,PL:1,PT:1,RO:1,RS:1,RU:1,SE:1,SG:1,SI:1,SK:1,ST:1,TN:1,TR:1,TW:1,UA:1,UY:1,VE:1,VN:1},a=["optOut","optIn","notice"]
e.default=Ember.Service.extend({store:Ember.inject.service(),user:Ember.inject.service(),topicIds:[],choiceType:void 0,checkBoxVal:void 0,initialize:function(e,o,s){if(Array.isArray(e)&&e.length)this.set("topicIds",e)
else if(o){(function(e){return!"turnonautorenewal".equalsIgnoreCase(r.default.get().OfferType)&&(!!t.default.isOfficeClient()||e&&e.any(function(e){return e.get("isOmexProduct")}))})(o)&&this.set("topicIds",n)}else s&&s.get("isOmexProduct")&&this.set("topicIds",n)
if(this.get("checkBoxVal"))this.set("choiceType","optOut")
else if(!1===this.get("checkBoxVal"))this.set("choiceType","optIn")
else{var l=i[r.default.get().Market]
null!=l&&this.set("choiceType",a[l])}return this.get("topicIds")},state:Ember.computed("choiceType",function(){switch(this.get("choiceType")){case"optOut":return"optInExplicit"
case"optIn":return"optOut"
case"notice":return"optInImplicit"
default:return}}),send:function(e){var t=this
return this.get("topicIds").length?this.get("user").getProfile().then(function(n){var i={contactType:"email",contactValue:n.get("email_address"),createdBy:e,lastModifiedBy:e,country:r.default.get().Market}
i.topicSettings=t.get("topicIds").map(function(r){return{topicId:r,cultureName:n.get("culture"),state:t.get("state"),originalSource:e}})
var a=t.get("store")
return a.pushPayload("contact-preference",i),a.findRecord("contact-preference",n.get("email_address")).then(function(e){return e.save()})}):Ember.RSVP.resolve()}})}),define("sfw-services/services/correlation-context",["exports","sfw-telemetry/utils/client","sfw-telemetry/utils/start-data"],function(e,t,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=Ember.Service.extend({store:Ember.inject.service(),getHeaderValue:function(e){var t=this.getValues(e),r=null
return t.product&&t.product.name&&(r="ms.b.tel.product="+t.product.name+",ms.b.tel.partner="+t.partner+",ms.b.qos.rootOperationName="+t.operationName),r},getValues:function(e){var n=t.default.getContext(),i=n.client+"."+n.deviceFamily,a=void 0
if(r.default.get().OrderId){var o=this.get("store").peekRecord("order",r.default.get().OrderId)
o&&o.get("lineItems.length")>0&&(a=o.get("firstLineItem.product"))}if(Ember.isNone(a)&&r.default.get().ProductId&&r.default.get().SkuId&&r.default.get().AvailabilityId){var s=r.default.get().ProductId+"/"+r.default.get().SkuId+"/"+r.default.get().AvailabilityId
a=this.get("store").peekRecord("product",s)}return Ember.isNone(a)&&(a=this.get("store").peekAll("product").find(function(e){return!Ember.isNone(e.get("ProductCorrelationContext.CorrelationProductName"))})),{partner:i,operationName:e,product:a?{name:a.get("ProductCorrelationContext.CorrelationProductName")}:null}}})}),define("sfw-services/services/credit-card-country",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Service.extend({country:null,setCountry:function(e){this.set("country",e)},getCountry:function(){return this.get("country")}})}),define("sfw-services/services/error-messages",["exports","sfw-services/services/request","sfw-services/utils/external-urls","sfw-telemetry/utils/start-data","sfw-services/utils/strings"],function(e,t,r,n,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var a=["PUR","PI","SVC","CMJS","JFD"]
e.default={lookup:function(e,o){var s={ShortDescription:i.default.Instruction_GenericError,LongDescription:i.default.Description_GenericError}
if("App"===o&&(o="SVC"),!e||!a.includes(o))return Ember.RSVP.resolve(s)
var l=n.default.get().Culture,u=r.default.get("GetErrorStringsUrl").replace({code:e,source:o,locale:l}).toString()
return t.default.get({url:u,data:{client:"web-blends"},cache:!0,serviceName:"ErrorStrings",defaultError:"ErrorMessages",operationName:"Lookup",simpleRequest:!0}).then(function(e){if(!e||!e.ShortDescription&&!e.LongDescription)throw e
return e}).catch(function(){return s})}}}),define("sfw-services/services/format-currency",["exports","sfw-services/services/request","sfw-services/utils/external-urls"],function(e,t,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default={get:function(e,n,i,a){var o=r.default.get("FormatPriceUrl")
return t.default.get({url:o.replace({price:e,currencycode:n,language:i,market:a}).toString(),operationName:"SfdsFormatCurrency",defaultError:"FormatCurrency",serviceName:"WebBlendFormatService",omitAcceptLanguage:!0,omitMarket:!0,omitAuth:!0,noCacheBusting:!0})}}}),define("sfw-services/services/orders",["exports","sfw-services/services/request","sfw-services/utils/queued-service-request","sfw-services/utils/external-urls","sfw-telemetry/utils/create-guid","sfw-telemetry/utils/start-data","sfw-telemetry/utils/client","sfw-services/errors/service-error","sfw-telemetry/utils/flight-config"],function(e,t,r,n,i,a,o,s,l){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var u=t.default,d=function(e){return e.replace({currencyCode:a.default.get().CurrencyCode||""})},c=function(e,t,r,c,f){var p=d(n.default.get("CreateOrderWithItem")).toString(),m=a.default.get()
o.default.isXboxOneClient()&&(p=p.replace("v6.0","v7.0"))
var h={billingInformation:null,clientContext:o.default.getContext(),friendlyName:t||null,items:e,language:m.Languages||m.Culture,market:m.Market,orderId:i.default.create(),orderState:"Editing"}
r&&(h.checkEligibility=!0),c&&(h.riskSessionId=c)
var g={url:p,body:h,contentType:"application/json",serviceName:"PurchaseFD",operationName:"CreateOrder",defaultError:"CreateOrder",errorClass:s.PurchaseError,omitAcceptLanguage:!0,omitMarket:!0,omitRequestId:!0,omitCorrelationId:!0,includeCorrelationContext:!0,correlationContextFlightEnabled:l.default.isEnabled("purchasecorrelationcontext")}
return f&&(g.includeMuid=!0),u.post(g).then(function(e){return e})}
e.default={useQueuedServiceRequest:function(){return u=new r.default},viewOrder:function(e){var t=a.default&&a.default.get&&a.default.get()&&a.default.get().Order
if(t&&t.orderId===e)return delete a.default.get().Order,new Ember.RSVP.Promise(function(e){e(t)})
var r=n.default.get("QueryOrder").replace({orderId:e})
return r=d(r).toString(),o.default.isXboxOneClient()&&(r=r.replace("v6.0","v7.0")),u.get({url:r,contentType:"application/json",serviceName:"PurchaseFD",operationName:"ViewOrder",defaultError:"QueryOrder",errorClass:s.PurchaseError,omitAcceptLanguage:!0,omitMarket:!0,omitRequestId:!0,omitCorrelationId:!0,includeCorrelationContext:!0,correlationContextFlightEnabled:l.default.isEnabled("purchasecorrelationcontext")})},listOrders:function(e,t,r){var i=d(n.default.get("ListOrders"))
return i.addQueryParams({orderState:e,$top:t}),i=i.toString(),r&&(i=i.replace("v6.0","v7.0")),u.get({url:i,noCacheBusting:!0,contentType:"application/json",serviceName:"PurchaseFD",operationName:"ListOrders",defaultError:"ListOrders",errorClass:s.PurchaseError,omitAcceptLanguage:!0,omitMarket:!0,omitRequestId:!0,omitCorrelationId:!0,includeCorrelationContext:!0,correlationContextFlightEnabled:l.default.isEnabled("purchasecorrelationcontext")})},updateOrder:function(e,t,r,i,a,c){c||(c={})
var f=n.default.get("UpdateOrderState").replace({orderId:e})
f=d(f).toString(),o.default.isXboxOneClient()&&(f=f.replace("v6.0","v7.0"))
var p={friendlyName:i||null,orderState:t,clientContext:o.default.getContext()}
return!0===c.previewEligibility&&(p.previewEligibility=!0),!0===c.previewFees&&(p.previewFees=!0),r&&(p.billingInformation=r),u.put({url:f,body:p,contentType:"application/json",serviceName:"PurchaseFD",operationName:"ChangeOrderState."+t+(c.previewEligibility?".previewEligibility":"")+(c.previewFees?".previewFees":""),defaultError:"UpdateOrderState",errorClass:s.PurchaseError,maxRetry:a,omitAcceptLanguage:!0,omitMarket:!0,omitRequestId:!0,omitCorrelationId:!0,includeCorrelationContext:!0,correlationContextFlightEnabled:l.default.isEnabled("purchasecorrelationcontext"),timeout:o.default.isOfficeClient()?9e4:3e4})},createEmptyOrder:function(e,t,r,n){return c(null,e,t,r,n)},createWithItem:function(e,t,r,n,i,o,s,l,u,d){var f=[{availabilityId:n,beneficiary:i&&o?{identityType:i,identityValue:o}:null,giftingInformation:null,orderManagementPolicyId:null,productId:t,quantity:1*r||1,renewalContext:null,setBlockInformation:null,skuId:e,campaignId:a.default.get().CampaignId||null,optionalCampaignId:a.default.get().OptionalCampaignId||null}]
return c(f,s,l,u,d)},createWithItems:c,createWithToken:function(e){var t=d(n.default.get("CreateOrderWithToken")).toString(),r=a.default.get()
return u.post({url:t,body:{billingInformation:null,clientContext:o.default.getContext(),friendlyName:null,items:null,language:r.Languages||r.Culture,market:r.Market,orderId:i.default.create(),orderState:"Purchased",tokenItem:e},contentType:"application/json",serviceName:"PurchaseFD",operationName:"CreateOrderWithToken",defaultError:"CreateOrderWithToken",errorClass:s.PurchaseError,omitAcceptLanguage:!0,omitMarket:!0,omitRequestId:!0,omitCorrelationId:!0,includeCorrelationContext:!0,correlationContextFlightEnabled:l.default.isEnabled("purchasecorrelationcontext")})},createWithTokenV7:function(e,t,r,c,f,p){var m=d(n.default.get("CreateOrderWithToken")).toString(),h=a.default.get(),g=null
r&&c&&t&&(g=[{availabilityId:c,productId:r,quantity:1,skuId:t}],p&&(g[0].userConsent=p))
var v={billingInformation:e,clientContext:o.default.getContext(),friendlyName:null,items:g,language:h.Languages||h.Culture,market:h.Market,orderId:i.default.create(),orderState:"Purchased"}
return f&&(v.checkEligibility=!0),u.post({url:m,body:v,contentType:"application/json",serviceName:"PurchaseFD",operationName:"CreateOrderWithToken",defaultError:"CreateOrderWithToken",errorClass:s.PurchaseError,omitAcceptLanguage:!0,omitMarket:!0,omitRequestId:!0,omitCorrelationId:!0,includeCorrelationContext:!0,correlationContextFlightEnabled:l.default.isEnabled("purchasecorrelationcontext")})},updateOrderItem:function(e,t,r){var i=Ember.get(t,"lineItemId")||Ember.get(t,"id"),a=d(n.default.get("UpdateOrderLineItem")).replace({orderId:e,lineItemId:i}).toString(),o={}
return r.userConsent&&(o.userConsent=r.userConsent),u.put({url:a,body:o,contentType:"application/json",serviceName:"PurchaseFD",operationName:"UpdateOrderItem",defaultError:"UpdateOrderItem",errorClass:s.PurchaseError,omitAcceptLanguage:!0,omitMarket:!0,omitRequestId:!0,omitCorrelationId:!0,includeCorrelationContext:!0,correlationContextFlightEnabled:l.default.isEnabled("purchasecorrelationcontext")})},purchaseServiceName:"PurchaseFD",updateForCurrencyCode:d}}),define("sfw-services/services/parental-approval",["exports","sfw-services/services/request","sfw-services/utils/external-urls","sfw-services/errors/service-error","sfw-telemetry/utils/flight-config"],function(e,t,r,n,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Service.extend({post:function(e,a){return t.default.post({url:r.default.get("RequestParentalApprovalUrl").replace({orderId:e}).toString(),body:{reasons:a},contentType:"application/json",contractVersion:"7",serviceName:"PurchaseFD",dataType:"auto",operationName:"RequestParentalApproval",defaultError:"RequestParentalApproval",errorClass:n.PurchaseError,omitAcceptLanguage:!0,addJwtHeader:!0,omitMarket:!0,addClient:!0,includeCorrelationContext:!0,correlationContextFlightEnabled:i.default.isEnabled("purchasecorrelationcontext")})}})}),define("sfw-services/services/payment-incentive",["exports","sfw-telemetry/utils/flight-config","sfw-telemetry/utils/start-data","sfw-services/utils/supported-payment-instruments"],function(e,t,r,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Service.extend({store:Ember.inject.service(),hasOfferBeenClaimed:!1,hasOfferBeenShown:!1,isProactiveRewardsFlightEnabled:function(){return t.default.isEnabled("xbox_proactiverewards")||t.default.isEnabled("desktop_proactiverewards")},isReactiveRewardsFlightEnabled:function(){return t.default.isEnabled("xbox_reactiverewards")||t.default.isEnabled("desktop_reactiverewards")},fetchRewardsInfo:function(e){return this.isProactiveRewardsFlightEnabled()||this.isReactiveRewardsFlightEnabled()?this.get("store").findRecord("reward","me",{reload:e}).then(function(e){return e},function(){}):Ember.RSVP.resolve()},isUserEligibleToSeeIncentive:function(){var e=this
if(!r.default.get().OrderId||!this.isProactiveRewardsFlightEnabled()&&!this.isReactiveRewardsFlightEnabled()||this.get("hasOfferBeenClaimed"))return Ember.RSVP.resolve(!1)
var t=this.get("store").peekRecord("order",r.default.get().OrderId)
if(!t||t.get("firstLineItem.giftee"))return Ember.RSVP.resolve(!1)
if(t.get("firstLineItem.isPurchaserChild"))return Ember.RSVP.resolve(!1)
if(!t.get("firstLineItem.isPIRequired"))return Ember.RSVP.resolve(!1)
var i=this.get("store").peekAll("payment-instrument")
return n.default.purchasePi(i,this.get("store"),null).then(function(t){if(t&&t.get("length"))return!1
var r=e.get("store").peekRecord("reward","me"),n=r&&r.get("promotions").find(function(e){return e.attributes&&e.attributes.isPIAttach&&"true"===e.attributes.isPIAttach.toLowerCase()&&e.attributes.complete&&"false"===e.attributes.complete.toLowerCase()})
return!(!n||!n.attributes)&&(e.set("offerId",n.attributes.offerid),!0)})},isUserEligibleToClaimIncentive:function(){return this.get("hasOfferBeenShown")?this.isUserEligibleToSeeIncentive():Ember.RSVP.resolve(!1)},offerShown:function(){this.set("hasOfferBeenShown",!0)},offerClaimed:function(){this.set("hasOfferBeenClaimed",!0)}})}),define("sfw-services/services/payment-instrument",["exports","sfw-services/services/request","sfw-services/utils/external-urls","sfw-telemetry/utils/start-data","sfw-telemetry/utils/app-globals","sfw-services/errors/service-error"],function(e,t,r,n,i,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default={addPaymentInstrument:function(e,o){var s=n.default.get().BillableAccountId&&encodeURIComponent(n.default.get().BillableAccountId),l=n.default.get().BillingMarket||n.default.get().Market,u=r.default.get("AddPaymentInstrumentsUrl",{country:l}).replace({userId:"me",billableAccountId:s?"&billableAccountId="+s:"",language:n.default.get().Culture})
return i.default.isTvod?u.addQueryParams({classicProduct:"xboxClassic"}):o&&u.addQueryParams({classicProduct:o}),t.default.post({url:u.toString(),serviceName:"PaymentInstrumentFD",operationName:"PaymentInstrumentsPost",defaultError:"PaymentInstrumentsPost",errorClass:a.PaymentError,omitAcceptLanguage:!0,omitMarket:!0,addClient:!0,body:e,includeCorrelationContext:!0})},addLightweightPaymentInstrument:function(){var e=n.default.get().BillableAccountId&&encodeURIComponent(n.default.get().BillableAccountId),i=n.default.get().BillingMarket||n.default.get().Market,o=r.default.get("AddPaymentInstrumentsUrl",{country:i}).replace({userId:"me",billableAccountId:e?"&billableAccountId="+e:"",language:n.default.get().Culture}).toString()
return t.default.post({url:o,serviceName:"PaymentInstrumentFD",operationName:"LightweightPaymentInstrumentsPost",defaultError:"LightweightPaymentInstrumentsPost",errorClass:a.PaymentError,omitAcceptLanguage:!0,omitMarket:!0,addClient:!0,includeCorrelationContext:!0,body:{paymentMethodFamily:"ewallet",paymentMethodType:"tvpay"}})},put:function(e,n){var i=r.default.get("UpdatePaymentInstrumentUrl").replace({id:e,userId:"me"}).toString()
return t.default.put({url:i,serviceName:"PaymentInstrumentFD",operationName:"PaymentInstrumentsPut",defaultError:"PaymentInstrumentsPut",errorClass:a.PaymentError,omitAcceptLanguage:!0,omitMarket:!0,addClient:!0,includeCorrelationContext:!0,body:n})},getPaymentInstrument:function(e){var i=n.default.get().BillingMarket||n.default.get().Market,o=r.default.get("GetPaymentInstrumentUrl",{country:i}).replace({id:e,userId:"me"}).toString()
return t.default.get({url:o,serviceName:"PaymentInstrumentFD",operationName:"GetPaymentInstrument",defaultError:"GetPaymentInstrument",errorClass:a.PaymentError,omitAcceptLanguage:!0,omitMarket:!0,addClient:!0,includeCorrelationContext:!0})},resumePaymentInstrument:function(e,n){var i=r.default.get("ResumePaymentInstrumentUrl").replace({piid:e}).toString()
return t.default.post({url:i,serviceName:"PaymentInstrumentFD",operationName:"ResumePaymentInstrument",defaultError:"ResumePaymentInstrument",errorClass:a.PaymentError,omitAcceptLanguage:!0,omitMarket:!0,addClient:!0,includeCorrelationContext:!0,body:n})},resendActivationCode:function(e){var n=r.default.get("ResendActivationCodeUrl").replace({piid:e}).toString()
return t.default.post({url:n,serviceName:"PaymentInstrumentFD",operationName:"ResendActivationCode",defaultError:"ResendActivationCode",errorClass:a.PaymentError,omitAcceptLanguage:!0,omitMarket:!0,addClient:!0,includeCorrelationContext:!0,body:{}})},purchaseSendResendChallenge:function(e,n,i){var o=r.default.get("PurchaseSendResendChallengeUrl").replace({type:e}).toString()
return t.default.post({url:o,serviceName:"PaymentInstrumentFD",operationName:"PurchaseSendResendChallenge",defaultError:"PurchaseSendResendChallenge",errorClass:a.PaymentError,omitAcceptLanguage:!0,omitMarket:!0,addClient:!0,includeCorrelationContext:!0,body:{session_id:n,payment_instrument_id:i}})},purchaseValidateChallenge:function(e,n,i){var o=r.default.get("PurchaseValidateChallengeUrl").replace({type:e}).toString()
return t.default.post({url:o,serviceName:"PaymentInstrumentFD",operationName:"PurchaseValidateChallenge",defaultError:"PurchaseValidateChallenge",errorClass:a.PaymentError,omitAcceptLanguage:!0,omitMarket:!0,addClient:!0,includeCorrelationContext:!0,body:{session_id:n,otp:i}})}}}),define("sfw-services/services/payment-instruments",["exports","sfw-services/utils/supported-payment-instruments","sfw-services/utils/risky-pis","sfw-telemetry/utils/flight-config","sfw-telemetry/utils/start-data"],function(e,t,r,n,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Service.extend({allPaymentInstruments:null,enumerated:!1,enumerate:function(e,a,o,s,l,u,d,c){var f=this,p=a?"OMEX":o
l&&(p="xboxClassic"),"OMEX".equalsIgnoreCase(p)&&(p=void 0)
var m={classicProduct:p||void 0,status:n.default.isEnabled("removependingpis")?void 0:["active","pending"],language:n.default.isEnabled("enumpilang")?i.default.get().Culture:""},h=e.peekAll("payment-instrument")
return(h.get("length")&&!d?Ember.RSVP.resolve(h):e.query("payment-instrument",m)).then(function(i){return f.set("enumerated",!0),l?t.default.tvodPi(i).then(function(e){f.set("allPaymentInstruments",e)}):u?t.default.redeemPi(i).then(function(e){f.set("allPaymentInstruments",e)}):c?t.default.oobePi(i).then(function(e){f.set("allPaymentInstruments",e)}):t.default.purchasePi(i,e,s).then(function(e){return n.default.isEnabled("riskypi")?r.default.filterPis(e,s).then(function(e){return f.set("allPaymentInstruments",e),i}):(f.set("allPaymentInstruments",e),i)})},function(e){if(!(e&&200===e.status||404===e.status&&e.responseJSON&&e.responseJSON.source&&e.responseJSON.source.toLowerCase&&"paymentinstrumentfd"===e.responseJSON.source.toLowerCase()&&e.responseJSON.innererror&&e.responseJSON.innererror.code&&e.responseJSON.innererror.code.toLowerCase&&e.responseJSON.innererror.code.toLowerCase().indexOf("paymentinstrumentnotfound")>-1))throw e
f.set("enumerated",!0),f.set("allPaymentInstruments",[])})},getPi:function(e){return this.allPaymentInstruments&&0!==this.allPaymentInstruments.length?this.allPaymentInstruments.find(function(t){return t.id===e}):null},hasPi:Ember.computed("allPaymentInstruments",function(){return this.get("allPaymentInstruments.length")}),backupPis:Ember.computed("allPaymentInstruments",function(){var e=this.get("allPaymentInstruments")
return t.default.backupPi(e)}),hasAsyncPis:Ember.computed("allPaymentInstruments",function(){var e=this.get("allPaymentInstruments")
if(e&&e.length)for(var t=0;t<e.length;t++)if(e[t].get("isAsyncPiWithWaitTime"))return!0
return!1})})}),define("sfw-services/services/payment-method-descriptions",["exports","sfw-services/services/request","sfw-services/utils/external-urls","sfw-telemetry/utils/start-data","sfw-telemetry/utils/flight-config","sfw-services/errors/service-error"],function(e,t,r,n,i,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default={get:function(e,o){var s=n.default.get().BillingMarket||n.default.get().Market,l=r.default.get("PaymentMethodDescriptions",{country:s}).replace({language:n.default.get().Culture,family:e,type:o||""}).toString()
return t.default.get({url:l,contentType:"application/json",serviceName:"PaymentInstrumentFD",operationName:"GetPaymentMethodDesc",defaultError:"GetPaymentMethodDescriptions",errorClass:a.PaymentError,omitAcceptLanguage:!0,omitMarket:!0,addClient:!0,addVnext:i.default.isEnabled("vnextpis"),includeCorrelationContext:!0})}}}),define("sfw-services/services/pidl-model-builder",["exports","sfw-telemetry/utils/app-globals","sfw-services/utils/pidl-data","sfw-services/utils/email-address-pidl","sfw-services/services/tax-id-descriptions","sfw-services/services/account-tax-id","sfw-services/services/payment-method-descriptions","sfw-services/services/payment-instrument","sfw-services/utils/supported-payment-instruments","sfw-services/services/address-descriptions","sfw-telemetry/utils/start-data"],function(e,t,r,n,i,a,o,s,l,u,d){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Service.extend({user:Ember.inject.service(),getModelForPaymentMethod:function(e,s,u){if(t.default._userPidlData&&t.default._userPidlData.get("model"))return Ember.RSVP.resolve(t.default._userPidlData.get("model"))
var c=this
return this.get("user").getProfile().then(function(t){var f,p=(0,n.default)(),m=function(){return Ember.RSVP.resolve(null)}
return c.get("user").getDefaultAddress().then(function(n){var c=n&&n.get&&n.get("country")
return c&&d.default.get().BillingMarket&&!d.default.get().BillingMarket.equalsIgnoreCase(c)&&(n=null),a.default.get().then(function(a){n||a&&a.length&&a.length>0||(m=i.default.get)
var d=!t.get("email_address")
if((t.get("isNew")||d)&&"mobile_billing_non_sim"!==s&&"alipay_billing_agreement"!==u){var c={email_address:t.get("email_address")}
f=r.default.prepareModel(p,!0,c)}return o.default.get(s,u).then(function(i){return e.findAll("payment-method").then(function(e){var a=r.default.prepareModel(i,!0,n,null,null,"add")
return m().then(function(n){var o
n&&(o=r.default.prepareModel(n,!0,null,null,null,null,null,!1))
var d=[a],c=[i]
return o&&o.pidlModel&&o.pidlModel.length&&(d.push(o),c.push(n)),f&&(d.push(f),c.push(p)),{lastDisplayIndex:r.default.setDisplayIndex([a,f,o]),pidlDocuments:d,originalPidl:c,pidl_blend_id_prefix:r.default.pidl_blend_id_prefix,userProfile:t,operationName:"add",paymentMethodFamily:s,paymentMethodType:u,paymentMethodFamilies:e,supportedCreditCardPaymentMethods:l.default.supportedCreditCardPaymentMethods(e)}})})})})})})},getModelForPaymentInstrument:function(e){return t.default._userPidlData&&t.default._userPidlData.get("model")?Ember.RSVP.resolve(t.default._userPidlData.get("model")):this.get("user").getProfile().then(function(t){return s.default.getPaymentInstrument(e).then(function(n){var i=n&&n.paymentMethod&&n.paymentMethod.paymentMethodFamily,a=n&&n.paymentMethod&&n.paymentMethod.paymentMethodType
return i&&i.toLowerCase&&"credit_card"!==i.toLowerCase()?{error:"InvalidCreditCardId"}:o.default.get(i,a).then(function(i){var o=r.default.prepareModel(i,!0,n.details,null,a,"edit"),s=r.default.setDisplayIndex([o])
return{pidlDocuments:[o],originalPidl:[i],pidl_blend_id_prefix:r.default.pidl_blend_id_prefix,userProfile:t,lastFourDigits:n&&n.details&&n.details.lastFourDigits,piId:e,lastDisplayIndex:s,operationName:"edit"}})})})},getModelForAddress:function(e,t,n,o){return u.default.get(t,o).then(function(t){var o=r.default.prepareModel(t,!0,n),s=r.default.setDisplayIndex([o])
return"me"===e?a.default.get().then(function(n){return n&&n.length&&n.length>0?{pidlDocuments:[o],originalPidl:[t],pidl_blend_id_prefix:r.default.pidl_blend_id_prefix,puid:e,lastDisplayIndex:s}:i.default.get().then(function(n){var i=r.default.prepareModel(n,!0)
return s=r.default.setDisplayIndex([o,i]),{pidlDocuments:[o,i],originalPidl:[t,n],pidl_blend_id_prefix:r.default.pidl_blend_id_prefix,puid:e,lastDisplayIndex:s}})}):{pidlDocuments:[o],originalPidl:[t],pidl_blend_id_prefix:r.default.pidl_blend_id_prefix,puid:e,lastDisplayIndex:s}})}})}),define("sfw-services/services/product-images",["exports","sfw-services/utils/image-selector"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Service.extend({store:Ember.inject.service(),getImageUrl:function(e){var r=e.get("Images"),n=(0,t.default)(r),i=Ember.RSVP.resolve(n)
if(!n){var a=this.get("store"),o=e.get("ParentProductIds")
o&&o.length>0&&(i=a.findRecord("product",o[0]).then(function(e){var r=e.get("Images")
return(0,t.default)(r)},function(){return null}))}return i}})}),define("sfw-services/services/product-renderer",["exports","sfw-services/services/request","sfw-services/utils/external-urls","sfw-telemetry/utils/start-data"],function(e,t,r,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Service.extend({getRenderableProduct:function(e){var i=n.default.get().Culture,a={url:r.default.get("WebStoreHydrateRenderableProductUrl").replace({locale:i,productId:e}).toString(),contentType:"application/json",serviceName:"SFWOneStoreApi",operationName:"HydrateRenderableProduct",defaultError:"HydrateRenderableProduct"}
return t.default.get(a)}})}),define("sfw-services/services/rds",["exports","sfw-telemetry/utils/create-guid","sfw-services/services/request","sfw-services/utils/external-urls"],function(e,t,r,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Service.extend({queryUserPayState:function(e){var i=n.default.get("RDSUserPayStateQuery").replace({sessionId:e}).toString()
return r.default.get({url:i,serviceName:"RDSService",operationName:"RDSGet",additionalHeaders:{"api-version":"2015-05-11","x-ms-correlation-id":t.default.create()},omitAuth:!0,omitMarket:!0,omitRequestId:!0,omitCorrelationId:!0,omitCV:!0,includeCorrelationContext:!0})}})}),define("sfw-services/services/reco",["exports","sfw-services/services/request","sfw-services/utils/external-urls","sfw-telemetry/utils/start-data"],function(e,t,r,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default={getTopPaidReco:function(){var e=r.default.get("RecoUrl").replace({itemTypes:"Apps.Games",count:"8",market:n.default.get().Market,language:n.default.get().Languages,scenario:"TopPaid"}).toString()
return t.default.post({url:e,contentType:"application/json",contractVersion:"6",serviceName:"RecommendationFD",operationName:"GetReco",defaultError:"GetReco",omitAcceptLanguage:!0,omitMarket:!0})},getDevicesRecoCollection:function(e,i,a,o,s){var l={productId:e,skuId:i,collectionId:a,itemTypes:"Devices",count:o,client:s,market:n.default.get().Market,language:n.default.get().Languages||n.default.get().Culture},u=(r.default.get("RevisedRelatedUrl")||r.default.get("RelatedUrl")).replace(l).toString()
return t.default.post({url:u,contentType:"application/json",contractVersion:"v8.0",serviceName:"RecommendationFD",operationName:"GetReco",defaultError:"GetReco",omitAcceptLanguage:!0,omitMarket:!0,omitRequestId:!0,omitAuth:!0})},getCandyRack:function(e,i,a,o){var s=r.default.get("CandyRackUrl").replace({itemTypes:e,count:i,client:a,market:n.default.get().Market,language:n.default.get().Languages||n.default.get().Culture}).toString()
return t.default.post({url:s,contentType:"application/json",contractVersion:"v8.0",serviceName:"RecommendationFD",operationName:"GetReco",defaultError:"GetReco",omitAcceptLanguage:!0,omitMarket:!0,omitRequestId:!0,omitAuth:!0,body:o})}}}),define("sfw-services/services/recurrences",["exports","sfw-services/services/request","sfw-services/utils/external-urls","sfw-services/errors/service-error"],function(e,t,r,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default={getAllSubscriptionEvents:function(){var e=r.default.get("Recurrences").replace({userId:"me",recurrenceId:""}).toString()
return t.default.get({url:e,serviceName:"PurchaseFD",operationName:"RecurrencesGetAll",defaultError:"RecurrencesGetAll",errorClass:n.PurchaseError,omitAcceptLanguage:!0,omitMarket:!0,addClient:!0,includeCorrelationContext:!0})},getSubscriptionEvents:function(e){var i=r.default.get("Recurrences").replace({userId:"me",recurrenceId:e}).toString()
return t.default.get({url:i,serviceName:"PurchaseFD",operationName:"RecurrencesGet",defaultError:"RecurrencesGet",errorClass:n.PurchaseError,omitAcceptLanguage:!0,omitMarket:!0,addClient:!0,includeCorrelationContext:!0})},updatePi:function(e,i,a){var o=r.default.get("RecurrencesUpdatePi").replace({userId:"me",recurrenceId:e}).toString(),s={challengeCompletedKind:"None",ClientContext:{client:"Mercury",deviceFamily:"Windows.Xbox"},mode:"UpdateRecurrence",paymentInstrumentId:i,paymentInstrumentSessionId:a,preview:!1}
return t.default.post({url:o,body:s,contentType:"application/json",serviceName:"PurchaseFD",operationName:"RecurrencesPostUpdatePi",defaultError:"RecurrencesPostUpdatePi",errorClass:n.PurchaseError,omitAcceptLanguage:!0,omitMarket:!0,addClient:!0,includeCorrelationContext:!0})},updatePiAndCharge:function(e,i,a){var o=r.default.get("RecurrencesUpdatePi").replace({userId:"me",recurrenceId:e}).toString(),s={challengeCompletedKind:"None",ClientContext:{client:"Mercury",deviceFamily:"Windows.Xbox"},mode:"PayNowAndUpdateRecurrence",paymentInstrumentId:i,paymentInstrumentSessionId:a,preview:!1}
return t.default.post({url:o,body:s,contentType:"application/json",serviceName:"PurchaseFD",operationName:"RecurrencesPostUpdatePiAndCharge",defaultError:"RecurrencesPostUpdatePiAndCharge",errorClass:n.PurchaseError,omitAcceptLanguage:!0,omitMarket:!0,addClient:!0,includeCorrelationContext:!0})}}}),define("sfw-services/services/request",["exports","sfw-services/utils/blend-service-error-parser","sfw-services/services/service","sfw-services/utils/service-call-headers","sfw-telemetry/utils/app-globals","sfw-telemetry/utils/instrumentation"],function(e,t,r,n,i,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var o=void 0
function s(e){return o&&o(e),e.additionalHeaders=n.default.get(e),e.cv=a.default.correlationVector()&&a.default.correlationVector().increment(),e.simpleRequest||e.omitCV||(e.additionalHeaders["MS-CV"]=e.cv),e.errorFormatter=t.default.parseErrorFromResponse,e.currentOperationName=i.default.currentRoute||window.location&&window.location.hash&&window.location.hash.replace(/[^\w\s]/gi,""),e.timeout||(e.timeout=3e4),e}e.default={setRequestOptionsHook:function(e){o=e},post:function(e){return e=s(e),r.default.post(e)},get:function(e){return e=s(e),r.default.get(e)},put:function(e){return e=s(e),r.default.put(e)},del:function(e){return e=s(e),r.default.del(e)},getScript:function(e){return e.omitCV=!0,e=s(e),r.default.getScript(e)}}}),define("sfw-services/services/risk",["exports","sfw-services/services/request","sfw-services/utils/external-urls"],function(e,t,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default={evalRiskyPis:function(e,n,i){var a=r.default.get("RiskUrl").toString(),o={client:"SFW",purchase_api_version:"6.0",order_id:e,session_id:n,payment_info:i}
return t.default.post({url:a,body:o,contentType:"application/json",contractVersion:"6",additionalHeaders:{"api-version":"2015-02-28"},serviceName:"RiskFD",operationName:"PostRisk",defaultError:"PostRisk",omitAcceptLanguage:!0,omitMarket:!0,addCpHeaders:!0,addSiteName:!0,timeout:5e3})}}}),define("sfw-services/services/service",["exports","ember-data","sfw-telemetry/utils/instrumentation","sfw-telemetry/utils/time-span-handler","sfw-telemetry/utils/flight-config","sfw-telemetry/utils/start-data","sfw-telemetry/utils/client","sfw-services/utils/error-types","sfw-services/utils/append-query","sfw-services/utils/app-services","sfw-services/errors/service-error"],function(e,t,r,n,i,a,o,s,l,u,d){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var c=function(e){$.support.cors=!0
var a=e.additionalHeaders||{},c=e.body,f=c?JSON.stringify(c):e.data||void 0,p=0,m=e.operationName||e.url,h=e.errorFormatter||function(e){return e},g={url:e.url,type:e.method,data:f,crossDomain:!0,headers:{},jsonp:e.jsonp||!1,jsonpCallback:e.jsonpCallback,cache:e.cache||!1,beforeSend:function(t){if(!e.simpleRequest&&e.contractVersion&&t.setRequestHeader("MS-Contract-Version",e.contractVersion),a)for(var r in a)t.setRequestHeader(r,a[r])}}
if(e.addClient&&(g.url=(0,l.default)(g.url,{client:o.default.getClientType()})),(i.default.isMockService()||e.withCredentials)&&(g.xhrFields={withCredentials:!0},e.simpleRequest||!EmberENV.isDevelopment||a.Authorization||(a.Authorization="bearer")),"auto"!==e.dataType&&(g.dataType=e.dataType||"json"),e.noCacheBusting&&(g.cache=!0),e.contentType&&(g.headers["Content-Type"]=e.contentType),e.accept&&(g.headers.Accept=e.accept),e.timeout&&(g.timeout=e.timeout),!0===e.includeCorrelationContext&&(i.default.isEnabled("correlationcontext")||!0===e.correlationContextFlightEnabled)){var v=e.currentOperationName
if(Ember.isEmpty(v)){var y=window.location.pathname.split("/")
Ember.isEmpty(y)||(v=y[y.length-1])}var b=u.default.get("correlation-context").getHeaderValue(v)
Ember.isEmpty(b)||(g.headers["Correlation-Context"]=b)}function _(t,n,a,l,u){var d=t.getResponseHeader("Content-Length"),c={serviceName:e.serviceName,operationName:m,operationVersion:e.version&&e.version.toString(),httpStatusCode:null!==t.status&&void 0!==t.status?t.status.toString():"",isSuccess:n,requestUri:g.url,httpMethod:g.type,contentType:g.dataType,latencyMs:a,cV:e.cv,retryCount:p,responseSize:d&&parseInt(d),currentOperationName:e.currentOperationName||window.location.href},f=""
try{f=JSON.stringify(t.errorThrown)}catch(e){}c.errorMessage=f
var h={willRetry:l,clientType:o.default.getClientType(),deviceFamily:o.default.getDeviceFamily()}
if(!n&&i.default.isEnabled("newerrors"))h.innerErrorCode=u.innerCode,h.outerErrorCode=u.outerCode,h.errorType=u.type,h.errorMessage=u.message,h.errorData=u.data
else if(!n){if(h.innerErrorCode=t.responseJSON&&t.responseJSON.innererror&&t.responseJSON.innererror.code?t.responseJSON.innererror.code:void 0,h.outerErrorCode=t.responseJSON&&t.responseJSON.code?t.responseJSON.code:void 0,0===t.status){i.default.isEnabled("newerrors")||h.innerErrorCode||h.outerErrorCode||("timeout"===t.statusText?h.outerErrorCode="Timeout":h.outerErrorCode=a<3e3?"Unreachable":"Aborted")
try{h.file="service.js",h.headers=t.getAllResponseHeaders(),h.payload=t.responseText,h.readyState=t.readyState,h.statusText=t.statusText}catch(e){}}h.innerErrorCode?h.errorType=s.default.get(h.innerErrorCode):h.errorType=h.outerErrorCode?s.default.get(h.outerErrorCode):"system"}c.customData=h,r.default.sendApiComplete(c)}return e.maxRetries=null!=e.maxRetries?e.maxRetries:3,function a(){var o=m+"_Retry_"+p
return n.default.recordTimeSpan(o),new Ember.RSVP.Promise(function(s,l){return $.ajax(g).then(function(e,t,r){_(r,!0,n.default.recordTimeSpan(o,!0),!1),s(r)},function(u,c,f){var m=n.default.recordTimeSpan(o,!0),g=!1
e.maxRetries>p&&(0===u.status||u.status>=500&&u.status<600?g=!0:"script"===e.dataType&&404===u.status&&(g=!0))
var v=void 0
if(i.default.isEnabled("newerrors")){var y=void 0
if(f instanceof Error)y=f
else if(0===u.status)y="timeout"===c?new t.default.TimeoutError:"aborted"===c||m>3e3?new t.default.AbortError:new d.UnreachableError
else if((u.responseJSON||u.responseText)&&e.errorClass)try{u.responseText&&!u.responseJSON&&(u.responseJSON=JSON.parse(u.responseText)),v=new e.errorClass(u.responseJSON,e.cv,u.status)}catch(e){}else y=u.responseJSON
v||(v=new d.default(y,u.status,e.serviceName,e.operationName,e.cv))}if(_(u,!1,m,g,v),g){var b=Math.pow(2,p)
p++,e.cv=r.default.correlationVector()&&r.default.correlationVector().increment(),e.simpleRequest||e.omitCV||(e.additionalHeaders["MS-CV"]=e.cv),setTimeout(function(){a().then(function(e){s(e)},function(e){l(e)})},1e3*b)}else i.default.isEnabled("newerrors")?l(v):l(h(u,e))})})}()},f=function(e,t,r){if(!!!e.Authorization){var n=a.default.get().XToken,i=e&&e.url&&e.url.toLowerCase().startsWith("https://paymentinstruments.mp.microsoft.com/")
n&&i&&r.setRequestHeader("Authorization",n)}}
e.default={setup:function(){$.ajaxPrefilter(f)},post:function(e){return c($.extend(e,{method:"POST"}))},get:function(e){return c($.extend(e,{method:"GET"}))},put:function(e){return c($.extend(e,{method:"PUT"}))},del:function(e){return c($.extend({},e,{method:"DELETE"}))},getScript:function(e){return c($.extend({},e,{dataType:"script"}))}}}),define("sfw-services/services/tax-id-descriptions",["exports","sfw-services/services/request","sfw-services/utils/external-urls","sfw-telemetry/utils/start-data","sfw-telemetry/utils/flight-config","sfw-services/errors/service-error"],function(e,t,r,n,i,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default={get:function(){return t.default.get({url:r.default.get("TaxIdDescriptionsUrl").replace({language:n.default.get().Culture}).toString(),contentType:"application/json",serviceName:"PaymentInstrumentFD",operationName:"GetTaxIdDescriptions",defaultError:"GetTaxIdDescriptions",errorClass:a.PaymentError,omitAcceptLanguage:!0,omitMarket:!0,addVnext:i.default.isEnabled("vnextpis"),addClient:!0,includeCorrelationContext:!0})}}}),define("sfw-services/services/tvod-purchase",["exports","sfw-services/services/request","sfw-services/utils/external-urls","sfw-services/errors/base-service-error","sfw-services/errors/service-error","sfw-telemetry/utils/flight-config"],function(e,t,r,n,i,a){"use strict"
function o(e,t,r){if(i.PurchaseError.call(this,e,t,r),"TvodLegacyReturnedServiceFault"===this.code&&e.innererror&&e.innererror.data&&e.innererror.data.length){var a=$($.parseXML(e.innererror.data[0])),o=a.find("code")[0].textContent,s=a.find("source")[0].textContent,l=a.find("description")[0].textContent,u=a.find("data")[0].textContent
n.default.call(this,"PUR",o,e.code,l,r,u,t,s)}}Object.defineProperty(e,"__esModule",{value:!0}),e.TvodError=o,o.prototype=Object.create(i.PurchaseError.prototype),e.default={post:function(e,n){return t.default.post({url:r.default.get("PurchaseTvodUrl").toString().replace("v6.0","v7.0"),data:function(){try{var t=$.parseXML('<?xml version="1.0" encoding="utf-8"?><purchaseRequest><order></order><paymentInstrument p2:type="reference" xmlns:p2="http://www.w3.org/2001/XMLSchema-instance"><id></id></paymentInstrument></purchaseRequest>'),r=$(t)
return e=e.replace(/&(?!amp)/g,"&amp;"),r.find("order").append($($.parseXML(e)).children(0)),r.find("paymentInstrument id").append(n),(new XMLSerializer).serializeToString(t)}catch(e){}}(),contractVersion:"7",contentType:"text/xml",dataType:"xml",serviceName:"PurchaseFD",operationName:"TvodPurchase",defaultError:"TvodPurchase",errorClass:o,omitAcceptLanguage:!0,omitMarket:!0,includeCorrelationContext:!0,correlationContextFlightEnabled:a.default.isEnabled("purchasecorrelationcontext")})},checkTransactionState:function(e){var n=r.default.get("TvodCheckTransactionStateUrl").replace({resumeId:e}).toString().replace("v6.0","v7.0")
return t.default.post({url:n,data:null,contractVersion:"7",contentType:"text/xml",dataType:"xml",serviceName:"PurchaseFD",operationName:"TvodResume",defaultError:"TvodResume",errorClass:o,omitAcceptLanguage:!0,omitMarket:!0,includeCorrelationContext:!0,correlationContextFlightEnabled:a.default.isEnabled("purchasecorrelationcontext")})}}}),define("sfw-services/services/user",["exports","sfw-telemetry/utils/start-data","sfw-telemetry/utils/flight-config","sfw-services/errors/app-error"],function(e,t,r,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Service.extend({store:Ember.inject.service(),getProfile:function(e){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=this,s=arguments[3],l=arguments.length>4&&void 0!==arguments[4]&&arguments[4]
if(e=e||"me",!a){var u=(this.get("store").peekAll("profile")||[]).find(function(t){return t&&t.get("userId")===e})
if(u){if(!r.default.isEnabled("enableccsmd")||!s)return Ember.RSVP.resolve(u)
if(s.equalsIgnoreCase(u.get("default_address.country")))return Ember.RSVP.resolve(u)
this.get("store").unloadAll("profile")}}var d=t.default.get().Market.toLowerCase(),c=r.default.isEnabled("enableccsmd")&&s||t.default.get().BillingMarket||d,f=r.default.isEnabled("enablezipplusfour")&&"us"===d&&!l&&"me".equalsIgnoreCase(e)||!1
return this.get("store").query("profile",{userId:e}).then(function(a){var s=a.objectAt(0)
if(!s){if(r.default.isEnabled("newerrors"))throw new n.default("AccountResourceNotFound","No profiles found in Jarvis")
return Ember.RSVP.reject({name:"AccountResourceNotFound",message:"No profiles found in Jarvis"})}return!s.get("culture")&&r.default.isEnabled("prepprofile")?(s.set("culture",t.default.get().Culture),s.save().then(function(t){return o._handleDefaultAddress(t,i,e,d,c.toLowerCase(),f)})):(s.get("culture")||s.set("culture",t.default.get().Culture),o._handleDefaultAddress(s,i,e,d,c.toLowerCase(),f))})},_handleDefaultAddress:function(e,t,n,i,a,o){var s=this
e.set("userId",n),i.equalsIgnoreCase(e.get("default_shipping_address.country"))&&(e.get("addresses").isAny("id",e.get("default_shipping_address.id"))||e.get("addresses").pushObject(e.get("default_shipping_address")))
var l=this.isZipPlusFourCompliant(e.get("default_address"),o)
return this.setOriginalDefaultAddress(e.get("default_address")),a.equalsIgnoreCase(e.get("default_address.country"))&&l?(e.get("addresses").isAny("id",e.get("default_address.id"))||e.get("addresses").pushObject(e.get("default_address")),e):t?(this.get("store").unloadAll("address"),this.get("store").query("address",{country:a,userId:n}).then(function(t){var n=t.get("length")
if(o&&n){var i=s._filterAddresses(t)
t=i.addresses,n=i.totalNoOfAddresses}switch(n){case 0:e.set("default_address_id",null),e.set("default_address",null),e.set("default_shipping_address_id",null),e.set("default_shipping_address",null)
break
case 1:e.set("addresses",t),e.set("default_address_id",null),r.default.isEnabled("tokenfix2")?e.set("default_address",null):e.set("default_address",t.objectAt(0)),e.set("default_shipping_address_id",t.objectAt(0).get("id")),e.set("default_shipping_address",t.objectAt(0))
break
default:e.set("addresses",t),e.set("default_address_id",null),e.set("default_address",null),e.set("default_shipping_address_id",null),e.set("default_shipping_address",null)}return e},function(){return e.set("default_address_id",null),e.set("default_address",null),e.set("default_shipping_address_id",null),e.set("default_shipping_address",null),e})):e},isZipPlusFourCompliant:function(e,t){if(t&&e){var r=e.get("is_customer_consented")||"false",n=e.get("is_zip_plus_4_present")||"false",i=e.get("country")
if("us".equalsIgnoreCase(i)&&"false".equalsIgnoreCase(r)&&"false".equalsIgnoreCase(n))return!1}return!0},_filterAddresses:function(e,t){var r=this,n=0,i=e.toArray()
return i.forEach(function(t){r.isZipPlusFourCompliant(t,!0)||(n+=1,e.removeObject(t))}),0===e.get("length")?{addresses:e,totalNoOfAddresses:0}:t&&n?((i=e.toArray()).forEach(function(t){e.removeObject(t)}),{addresses:e,totalNoOfAddresses:0}):{addresses:e,totalNoOfAddresses:e.get("length")+n}},addAddress:function(e,t){t=t||"me"
var r=this
return this.getProfile(t).then(function(n){var i=n.get("addresses")||[]
return i.push(e),n.set("addresses",i),n.get("isNew")||n.get("requiredFieldsDirty")?n.save().then(function(){return r.get("addressClient").post(e,t)}):r.get("addressClient").post(e,t)})},getAddresses:function(e){return e=e||"me",this.getProfile(e).then(function(e){return e.get("addresses")})},getDefaultAddress:function(e){return e=e||"me",this.getProfile(e).then(function(e){return e.get("default_address")})},getDefaultShippingAddress:function(e){return e=e||"me",this.getProfile(e).then(function(e){return e.get("default_shipping_address")})},defaultAddressInfo:function(){var e={}
if(r.default.isEnabled("zipplusfourtelemetry")){var t=this.getOriginalDefaultAddress()
e.isDefaultAddressCompliant=this.isZipPlusFourCompliant(t,!0),e.addressRegionInRegionList=this.getAddressZipCodeInfo(t).addressRegionInRegionList}return e},getAddressZipCodeInfo:function(e){var t={},r=e&&e.get("country")||""
t.addressRegionInRegionList="us".equalsIgnoreCase(r)
var n=e&&e.get("postal_code")
return n&&n.length&&(t.zipCodeLength=n.length,t.hasHyphen=n.indexOf("-")>-1,t.zipPlusFour=n.length>8),t},originalDefaultAddress:null,setOriginalDefaultAddress:function(e){this.set("originalDefaultAddress",e)},getOriginalDefaultAddress:function(){return this.get("originalDefaultAddress")},clear:function(){}})}),define("sfw-services/services/xbet",["exports","sfw-services/services/request","sfw-services/utils/external-urls","sfw-telemetry/utils/start-data"],function(e,t,r,n){"use strict"
function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Service.extend({postAskPurchaser:function(e,a,o){return t.default.post({url:r.default.get("XBETFDAskAPurchaserStart").toString().replace("{market}",n.default.get().Market).replace("{language}",n.default.get().Culture),data:JSON.stringify({productId:n.default.get().ProductId,skuId:n.default.get().SkuId,purchaserEmail:e.toString(),purchaserXuid:a.toString(),purchaserGamertag:o.toString()}),additionalHeaders:i({},"X-MS-API-Version","1.0"),contentType:"application/json",dataType:"text",serviceName:"XBETFD",operationName:"AskAPurchaser",includeCorrelationContext:!0})},postAskPurchaserChildSub:function(){var e
return t.default.post({url:r.default.get("XBETFDAskAPurchaserChildSubStart").toString().replace("{market}",n.default.get().Market).replace("{language}",n.default.get().Culture),data:JSON.stringify({productId:n.default.get().ProductId,skuId:n.default.get().SkuId}),additionalHeaders:(e={},i(e,"X-MS-API-Version","1.0"),i(e,"Authorization",n.default.get().WlidToken),i(e,"X-MS-Authorization-Commerce",n.default.get().XToken),e),contentType:"application/json",dataType:"text",serviceName:"XBETFD",operationName:"AskAPurchaserChildSub",includeCorrelationContext:!0,omitAuth:!0})},postGiftCompleted:function(e,a,o){return t.default.post({url:r.default.get("XBETFDAskAPurchaserEnd").toString().replace("{giftData}",n.default.get().AskPurchaserRequest).replace("{market}",n.default.get().Market).replace("{language}",n.default.get().Culture),data:JSON.stringify({productId:a,skuId:o,productToken:e}),additionalHeaders:i({},"X-MS-API-Version","1.0"),contentType:"application/json",dataType:"text",serviceName:"XBETFD",operationName:"AAPGiftCompleted",includeCorrelationContext:!0})}})}),define("sfw-services/utils/allowed-pi-filter",["exports","sfw-telemetry/utils/flight-config"],function(e,t){"use strict"
function r(e,t){return e=(e||[]).map(function(e){return e&&e.toLowerCase&&e.toLowerCase()}),(t=(t||[]).map(function(e){return e&&e.toLowerCase&&e.toLowerCase()})).filter(function(t){return e.includes(t)})}function n(e){return e&&!e.get("paymentInstrumentInclusionFilters.length")&&e.get("lineItems.length")>e.get("itemsWithoutPiInclusionTags.length")}function i(e,t){if(!t)return!0
var n=Ember.get(e,"paymentMethodFamily").toLowerCase(),i=(Ember.get(e,"paymentMethodType")||"").toLowerCase(),a=Ember.get(e,"exclusionTags"),o=!1,s=t.get("paymentInstrumentInclusionFilters")
if(s&&s.length){var l=n+":"+i
if(s.forEach(function(e){e.toLowerCase()!==l&&e.toLowerCase()!==n||(o=!0)}),o){var u=r(a,t.get("paymentInstrumentExclusionFiltersForItemsWithoutPiInclusionTags"))
o=0===u.length}}else{var d=r(a,t.get("paymentInstrumentExclusionFilters"))
o=0===d.length}return o}Object.defineProperty(e,"__esModule",{value:!0}),e.default={allowedPis:function(e,r){var a=this,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2]
if(!e)throw new Error("pis is required for allowedPis")
if(n(r))return[]
var s=[]
return e.forEach&&e.forEach(function(e){if(e){var n=e.get("paymentMethod")
Ember.set(e,"isAllowed",i(n,r)),Ember.set(e,"exceededMaxPrice",a.didPaymentMethodExceedMaxPrice(n,r))
var l=t.default.isEnabled("riskypi")&&Ember.get(e,"isRiskyPi"),u=e.get("display_info.expired"),d=o&&u
!e.isAllowed||e.exceededMaxPrice||l||d||s.push(e)}}),s},allowedPaymentMethods:function(e,r){var a=this
if(!e)throw new Error("paymentMethods is required for allowedPis")
if(n(r))return[]
var o=[]
return e.forEach&&e.forEach(function(e){if(e){Ember.set(e,"isAllowed",i(e,r)),Ember.set(e,"exceededMaxPrice",a.didPaymentMethodExceedMaxPrice(e,r))
var n=t.default.isEnabled("riskypi")&&Ember.get(e,"isRiskyPaymentMethod")
e.isAllowed&&!0!==e.exceededMaxPrice&&!n&&o.push(e)}}),o},didPaymentMethodExceedMaxPrice:function(e,r){if(!r)return!1
var n=void 0
if(n=t.default.isEnabled("computeallitems")?r.get("totalAmount"):r.get("firstLineItem.listPrice"),t.default.isEnabled("nonsimforsub")){var i=r.get("firstLineItem.RecurrencePrice")
i&&i>n&&(n=i)}var a=r.get("firstLineItem.taxType"),o=!"taxesnotincluded".equalsIgnoreCase(a),s=Ember.get(e,"properties.chargeThresholds.0.maxPrice")
return!!(s&&Number(s)>0&&n)&&(o?Number(n)>Number(s):Number(n)>=Number(s))}}})
define("sfw-services/utils/app-services",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var t=void 0
e.default={init:function(e){t=e},get:function(e){var r="service:"+e
return t.lookup(r)}}}),define("sfw-services/utils/append-query",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,r){if(!r||"object"!==(void 0===r?"undefined":t(r)))return e
var n=e.includes("?")?"&":"?"
for(var i in r)null!=r[i]&&(e+=""+n+i+"="+r[i],n="&")
return e}
var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}}),define("sfw-services/utils/base64",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="
e.default={encodeFromString:function(e){return this.encode(function(e){for(var t=[],r=0,n=e.length;r<n;){var i=e.charCodeAt(r++)
i<=127?t.push(i):i>127&&i<=2047?(t.push(i>>6|192),t.push(63&i|128)):(t.push(i>>12|224),t.push(i>>6&63|128),t.push(63&i|128))}return t}(e))},encode:function(e){function r(t){var r=e[t]
if(void 0===r)return 0
if("number"!=typeof r||r<0||r>255){var n=new Error
throw n.message="Invalid input type.",n.description=r+" is not a valid byte value.",n}return r}for(var n=[],i=0,a=e.length;i<a;)n.push(t[r(i)>>2]),n.push(t[(3&r(i))<<4|r(++i)>>4]),n.push(i>=a?"=":t[(15&r(i))<<2|r(++i)>>6]),n.push(i>=a?"=":t[63&r(i++)])
return n.join("")},decodeToString:function(e,t){return this.trimNull(function(e){for(var t=[],r=0,n=e.length;r<n;)e[r]<=127?t.push(String.fromCharCode(e[r++])):e[r]>191&&e[r]<224?t.push(String.fromCharCode((31&e[r++])<<6|63&e[r++])):t.push(String.fromCharCode((15&e[r++])<<12|(63&e[r++])<<6|63&e[r++]))
return t.join("")}(this.decode(e,t)))},decode:function(e,r){r&&(e=e.replace(/%3D/gi,"=").replace(/-/g,"+").replace(/_/g,"/"))
for(var n=[],i=0,a=(e=e.replace(/[^A-Za-z0-9+/=]/g,"")).length;i<a;){for(var o=[],s=0;s<4;s++)o.push(t.indexOf(e.charAt(i++)))
n.push(o[0]<<2|o[1]>>4),64!==o[2]&&n.push((15&o[1])<<4|o[2]>>2),64!==o[3]&&n.push((3&o[2])<<6|o[3])}return n},trimNull:function(e){for(var t=e;0===t.charCodeAt(t.length-1);)t=t.substr(0,t.length-1)
for(;0===t.charCodeAt(0);)t=t.substr(1)
return t}}}),define("sfw-services/utils/big-id",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default={isDelegatedAvailabilityId:function(e){return(e||"").endsWithIgnoreCase("Y")},isDelegatedBigId:function(e){var t=e.split("/")
return 3===t.length&&this.isDelegatedAvailabilityId(t[2])}}}),define("sfw-services/utils/blend-service-error-parser",["exports","sfw-services/utils/blend-service-errors"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default={parseErrorFromResponse:function(e,r){var n=r&&r.defaultError||"Unknown",i=null,a=null,o=null,s=null
try{var l=(i=e&&e.payload?e.payload:JSON.parse(e.responseText)).ExceptionMessage
if(l){var u=l.split("\n"),d=$.grep(u,function(e){return 0===e.indexOf("Response Body:")}),c=d&&d[0]
c=c&&c.substring&&c.substring(c.indexOf("{"))
var f=JSON.parse(c)
a=(f=f&&f.innererror||f).code.toString(),o=f.source,s=f.data}var p=i&&i.innererror||i
a=a||p.code||p.error_code,o=o||p.source||e.errorSource,s=s||p.data}catch(t){try{i={url:e.requestUri,textStatus:e.textStatus,errorThrown:e.errorThrown,responseText:e.responseText,HttpStatusCode:e.status}
var m=$($.parseXML(e.responseText))
a=m.find("code")[0].textContent,o=m.find("source")[0].textContent}catch(e){}}if(i&&i instanceof Object||(i={}),a&&""!==a.toString().trim()&&(i.code=a),o&&""!==o.toString().trim()&&(i.source=o),s&&""!==s.toString().trim()&&(i.data=s),i.HttpStatusCode=e&&e.status,e.payload||(i.originalObj=e),i.source&&i.code)i.name=i.source+"-"+i.code
else{var h=n?"Service-"+n:"Service-Unknown",g=t.default.get(h)||{name:"Service-"+r.serviceName,description:"Failed to access a service (endpoint: "+r.operationName+")",code:6e4}
g.operation=r.operationName,g.requestMethod=r.method,g.requestUrl=r.url,$.extend(i,g)}return i}}}),define("sfw-services/utils/blend-service-errors",["exports","sfw-services/errors/app-error","sfw-telemetry/utils/flight-config"],function(e,t,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var n=[{code:6e4,name:"UnhandledException",description:"An unhandled exception occurred."},{code:60001,name:"TooManyOrderItems",description:"Too many items in order. Only single item purchase is supported."},{code:60002,name:"InvalidOrderFormat",description:"Order cannot be parsed."},{code:60003,name:"NoMarketFound",description:"No Market found."},{code:60004,name:"NoCultureFound",description:"No Culture or Invalid Culture found."},{code:60005,name:"InvalidOrMissingParams",description:"Missing or Invalid Params in request Body"},{code:60006,name:"OrderCheckoutFailed",description:"Order state failed to transition to CheckingOut"},{code:60007,name:"InvalidData",description:"Required data to process the action is invalid"},{code:60008,name:"CommerceJsException",description:"CommerceJs failed with an exception"},{code:60009,name:"UnexpectedOrderState",description:"Unexpected order state returned"},{code:60010,name:"InvalidCreditCardId",description:"The PI ID is not a credit card ID"},{code:60011,name:"NotActivePiStatus",description:"The PI status is not active"},{code:60012,name:"UnexpectedRdsSessionState",description:"Unexpected RDS session state returned"},{code:60014,name:"PendingOrdersUnexpectedFormat",description:"Result from get pending orders is invalid"},{code:60015,name:"RdsStateFailure",description:"Your purchase session failed, please try again."},{code:60017,name:"BeneficiaryProfileMissing",description:"Client did not pass beneficiary Profile required info."},{code:60018,name:"ExclusivityFailed",description:"Purchase of this content is not allowed on this device."},{code:60019,name:"ReadUserInputData",description:"CommerceJs failed in readUserInputData."},{code:60020,name:"GetUserDisplayData",description:"CommerceJs failed in getUserDisplayData."},{code:60021,name:"TokenizeUserInputData",description:"CommerceJs failed in tokenizeUserInputData."},{code:60022,name:"TransformUserInputData",description:"CommerceJs failed in transformUserInputData."},{code:60023,name:"ValidateUserInputData",description:"CommerceJs failed in validateUserInputData."},{code:60024,name:"ProviderBusy",description:"Purchase using AlipayBa returns pending result."},{code:60025,name:"AuthenticationTokenInvalid",description:"No Authentication or Authentication Invalid"},{code:60028,name:"NotSupportedPaymentMethods",description:"No supported payment methods where found"},{code:60028,name:"InvalidOrMissingParamsInRoute",description:"Required parameters are missing in route"},{code:60029,name:"TvodInvalidOffer",description:"Bad tvod Offer Passed, not able to parse"},{code:60030,name:"TvodMissingResumeId",description:"ResumeId must be passed to tvodResume route"},{code:60032,name:"MissingAuthTokenCookieBlocking",description:"Missing AuthToken due to cookie blocking settings"},{code:60035,name:"RedirectWeb",description:"3DS challenge redirect not allowed in Xbox"},{code:60036,name:"InvalidOrderData",description:"Missing or invalid order data passed by the client"},{code:60037,name:"InvalidTitle",description:"Missing or invalid title passed by the client"},{code:60038,name:"InvalidDuration",description:"Missing or invalid duration passed by the client"},{code:60039,name:"PidlSDKError",description:"PidlSDK Error"},{code:60040,name:"RedeemTokenExpired",description:"Redeem token has been expired"},{code:60041,name:"RedeemTokenStateError",description:"Redeem token state error"},{code:60042,name:"RedeemInternalServerError",description:"Redeem token internal server error"},{code:60043,name:"RedeemTokenUnauthorized",description:"Unauthorized to redeem token"},{code:60044,name:"RedeemTokenAlreadyRedeemed",description:"Redeem token has already redeemed"},{code:60045,name:"CommerceJsNotFound",description:"CommerceJs failed to download."},{code:60046,name:"XBLXTokenNotFound",description:"Xbox Live Token is not found"},{code:60047,name:"NoUserInfoFound",description:"Friends Info not found"},{code:60048,name:"MaxAskToBuyRequestReached",description:"The user sent too many ask to buy request"},{code:60049,name:"NoGiftAvailabilityFound",description:"Gift Availability not found"},{code:60050,name:"NoFulfillmentIdFound",description:"Order line item was not created with fulfillmentSessionId"},{code:60051,name:"OrderInProgress",description:"Order still in progress, not completed fully"},{code:60052,name:"ConversionUnavailable",description:"Conversion is blocked"},{code:60053,name:"ChallengeFailure",description:"Challenge failed"},{code:60054,name:"NoSessionFound",description:"No SessionId found"},{code:60055,name:"UltimateConversionUnavailable",description:"Prorate conversion not available for Ultimate"},{code:60056,name:"PurchaseBlockedByFamilyPolicy",description:"Child purchase restricted in WinOOBE"},{code:60057,name:"ProfileIncomplete",description:"Profile is data is not complete or profile address not available"},{code:60058,name:"ChallengeTimedOut",description:"Challenge timed out"},{code:60059,name:"ChallengeStatusFailure",description:"Challenge status failed"},{code:60060,name:"ValidatePIOnAttachFailed",description:"Invalid PI for subscription renewal"},{code:60061,name:"MOValidationFaild",description:"Invalid non-simMobi account"},{code:60062,name:"AccountNotFound",description:"Account not found"},{code:60063,name:"PurchaseRejected",description:"Purchase blocked"},{code:60064,name:"RedeemOfficeRedirect",description:"Office token redeem redirect"}],i=[{code:61e3,name:"Unknown"},{code:61001,name:"QueryOrder"},{code:61002,name:"UpdateOrderState"},{code:61003,name:"AddItemToOrder"},{code:61004,name:"RemoveOrderItem"},{code:61005,name:"CreateOrder"},{code:61006,name:"PaymentInstrumentsGet"},{code:61007,name:"GetPaymentMethods"},{code:61008,name:"GetPaymentMethodDescriptions"},{code:61009,name:"GetAccountAddresses"},{code:61010,name:"GetProfile"},{code:61011,name:"UpdateProfile"},{code:61012,name:"AddProfile"},{code:61013,name:"GetAddressDescriptions"},{code:61014,name:"AddAccountAddress"},{code:61015,name:"PaymentInstrumentsPut"},{code:61016,name:"GetTaxIdDescriptions"},{code:61017,name:"AddAccountTaxId"},{code:61018,name:"RdsStateQuery"},{code:61019,name:"PurchaseSendResendChallenge"},{code:61020,name:"PurchaseValidateChallenge"},{code:61021,name:"HydrateGet"},{code:61022,name:"TokenDescriptionGet"},{code:61023,name:"RDSGet"},{code:61024,name:"GetAccountTaxId"},{code:61026,name:"PidlSDK"},{code:61027,name:"TvodPurchase"},{code:61028,name:"AddTvPayPi"},{code:61029,name:"GetMsaProfile"},{code:61030,name:"IsAuthorizedForSapi"},{code:61031,name:"UpdateOrderItem"},{code:61032,name:"SetContactPreference"},{code:61033,name:"CreateOrderWithToken"},{code:61034,name:"GetFriendsInfo"},{code:61035,name:"GetWarrantySessionId"},{code:61036,name:"RubCsvCurrencyMismatch",description:"CsvCurrencyMismatch is the same error as PUR-CsvCurrencyMismatch, showing specific message for Russia when RUB amount > 0 "},{code:61037,name:"AskAPurchaserDialogError",description:"Fired when the people-picker has an error in the Ask A Purchaser scenario. If the user exited the dialog or if a person was picked, this is not thrown."},{code:61038,name:"AskPurchaserInvalid",description:"Fired when AskPurchaserScenario is true but no gift data is present."},{code:61039,name:"DigitalAttach"}];[].push.apply(n,i.map(function(e){return{code:e.code,name:"Service-"+e.name,description:["Failed to access a service (endpoint: ",e.name,")"].join("")}}))
var a=[];[n,i].forEach(function(e){[].push.apply(a,e.map(function(e){return e.name}))}),e.default={get:function(e,i){if(r.default.isEnabled("newerrors"))return new t.default(e,null,i)
var a="string"==typeof e?"name":"code",o=n.find(function(t){return t[a]===e})
return o&&(o.inner=i,o.source="Service",o.code=o.name),o},getAllNames:function(){return a}}}),define("sfw-services/utils/commerce-js",["exports","sfw-services/utils/blend-service-errors","sfw-telemetry/utils/flight-config","sfw-services/services/request","sfw-services/errors/base-service-error"],function(e,t,r,n,i){"use strict"
function a(e,t,r){i.default.call(this,"CMJS",null,e,t,r,null,"commercejs")}Object.defineProperty(e,"__esModule",{value:!0}),a.prototype=Object.create(i.default.prototype)
var o=void 0
e.default={init:function(){return window.commerce?Ember.RSVP.resolve():o||(o=n.default.getScript({url:r.default.isEnabled("mincommerce")?"https://pmservices.cp.microsoft.com/staticresourceservice/scripts/v6/prod/commerce.min.js":r.default.isEnabled("staticcommerceurl")?"https://staticresources.payments.microsoft.com/scripts/v6/prod/commerce.js":"https://pmservices.cp.microsoft.com/staticresourceservice/scripts/v6/prod/commerce.js",cache:!0,serviceName:"CommerceJs",operationName:"GetCommerceJs"}))},readUserInputData:function(e,t,r,n){var i=this
return new Ember.RSVP.Promise(function(a,o){i.init().then(function(){var s="ReadUserInputData"
try{var l=commerce.readUserInputData(e,t,r,function(e){o(i.getErrorDetails(s,e))})
l?(n&&l.hasOwnProperty("sessionId")&&(l.sessionId=n),a(l)):o(i.getErrorDetails(s))}catch(e){o(i.getErrorDetails(s,e))}},function(e){o(e)})})},getUserDisplayData:function(e,t){var r=this
return new Ember.RSVP.Promise(function(n,i){r.init().then(function(){var a="GetUserDisplayData"
try{var o=commerce.getUserDisplayData(e,t,function(e){i(r.getErrorDetails(a,e))})
o?n(o):i(r.getErrorDetails(a))}catch(e){i(r.getErrorDetails(a,e))}})})},tokenizeUserInputData:function(e,t){var n=this
return new Ember.RSVP.Promise(function(i,a){n.init().then(function(){if(r.default.isMockService())i()
else try{commerce.tokenizeUserInputData(e,t,function(e){a(n.getErrorDetails("TokenizeUserInputData",e))},function(){i()})}catch(e){a(n.getErrorDetails("TokenizeUserInputData",e))}})})},transformUserInputData:function(e,t){var n=this
return new Ember.RSVP.Promise(function(i,a){n.init().then(function(){var o="TransformUserInputData"
if(r.default.isMockService())i()
else try{commerce.transformUserInputData(e,t,function(e){a(n.getErrorDetails(o,e))},function(){i()})}catch(e){a(n.getErrorDetails(o,e))}})})},validateUserInputData:function(e,t){var n=this
return new Ember.RSVP.Promise(function(i,a){n.init().then(function(){if(r.default.isMockService())i()
else try{commerce.validateUserInputData(e,t,function(e,t,r,n){var i={type:"validation"}
i.propertyName=e,i.errorMessage=n,a(i)},void 0,function(){i()},function(e){a(n.getErrorDetails("ValidateUserInputData",e))})}catch(e){a(n.getErrorDetails("ValidateUserInputData",e))}})})},getErrorDetails:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=void 0
return n?r.default.isEnabled("newerrors")?o=new a(e,n.message,n):((o=t.default.get(e,n.message)).details=n,o.source="commercejs",o.retryCount=i):o=r.default.isEnabled("newerrors")?new a(e):t.default.get(e),o}}}),define("sfw-services/utils/configuration",["exports","sfw-services/services/request"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default={loadConfig:function(e,r){var n=this,i={url:"https://sfdataservice.microsoft.com/purchaseexperience/v1.0/config",serviceName:"Sfds",operationName:"SfdsLoadConfig",data:r,withCredentials:!1,simpleRequest:!1,omitMarket:!0}
return e&&e.toLowerCase().indexOf("mockall:1")>-1&&(i={url:e,serviceName:"WebBlends",operationName:"loadConfig",data:r,withCredentials:!0,simpleRequest:!0}),t.default.get(i).then(function(e){n.Urls=e.Urls,n.SpecificCulture=e.SpecificCulture,n.IsRightToLeft=e.IsRightToLeft,n.Lcid=e.Lcid,n.MarketNativeName=e.MarketNativeName,n.Flights=e.Flights})}}}),define("sfw-services/utils/constant-links",["exports","sfw-telemetry/utils/start-data"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default={get:function(){return{microsoftServiceAgreement:"https://go.microsoft.com/fwlink/?LinkID=530144",storeTermsOfSale:"https://www.microsoft.com/store/b/terms-of-sale?market={market}&locale={culture}".replace("{market}",t.default.get().Market).replace("{culture}",t.default.get().Culture||t.default.get().Languages),giftTermsOfSale:"https://www.microsoft.com/store/b/giftterms?market={market}&locale={culture}".replace("{market}",t.default.get().Market).replace("{culture}",t.default.get().Culture||t.default.get().Languages),privacyStatement:"https://go.microsoft.com/fwlink/?LinkId=248681",learnMoreAboutRedeem:" https://go.microsoft.com/fwlink/?linkid=2148124",learnMoreAboutRefunds:"https://go.microsoft.com/fwlink/?LinkId=723276",xboxTokenRedirectUrl:"https://account.xbox.com/PaymentAndBilling/RedeemCode?doRedeem=0&token={0}&ref={1}",xboxGames:"https://go.microsoft.com/fwlink/?LinkId=828926",xboxVideo:"https://video.xbox.com/movie",officeTokenRedirectUrl:"https://setup.office.com",musicAndTvStore:"https://go.microsoft.com/fwlink/?LinkId=615848",musicStore:"https://go.microsoft.com/fwlink/?LinkId=615849",appStore:"https://go.microsoft.com/fwlink/?LinkId=828927",accountsCom:"https://account.microsoft.com/",commerceCom:"https://commerce.microsoft.com",alipayTOU:"https://www.microsoft.com/zh-cn/store/TOU/AlipayBA",officeAccountUrl:"https://office.com/myaccount",shopXbox:"https://go.microsoft.com/fwlink/?LinkId=828926&ocid=CSV_Redeem_Xbox",shopOnline:"https://www.microsoft.com/store?ocid=CSV_redeem_online",shopWindowsWinDevice:"ms-windows-store://navigatetopage&ocid=CSV_Redeem_Windows",shopWindowsNonWinDevice:"https://go.microsoft.com/fwlink/?LinkId=828927&ocid=CSV_Redeem_Windows",giftCardFaq:"https://go.microsoft.com/fwlink/p/?linkid=858841",checkAccountBalance:"https://account.microsoft.com/billing/payments",giftTermsConditions:"https://go.microsoft.com/fwlink/?linkid=623529",Office365Business:"https://office.com/setupkey",OfficeComSetup:"Office.com/setup",OtherOfficeProduct:"https://setup.office.com/",msCompleteSurface:"https://www.microsoft.com/surface/support/documents",msCompleteXbox:"https://support.xbox.com/xbox-one/warranties-and-repair/microsoft-complete-terms-and-conditions",setupOfficeComRedirectUrl:"https://setup.office.com?redirectContext=setup.office.com&{0}={1}{2}{3}",xboxGamePasslink:"https://xbox.com/gamepass/",xboxGamePassConversionlink:"https://www.xbox.com/xbox-game-pass#conversion",epayTokenRedirectUrl:"https://setup.office.com?token={0}&referrer={1}",getMoreInfoConsoleLink:"ms-xcare://?relativeUrl=app-l2-help/system-help/Purchases%252Fhelp_digital_code_gift_card_errors",getMoreInfoConsoleLinkNew:"ms-xcare://?relativeUrl=app-help-digital-code-gift-card-errors&activationScenario=Store",getMoreInfoBrowserLink:"https://support.microsoft.com/en-us/help/10604/microsoft-account-redeem-gift-card-or-code",getMoreInfoRiskRejectedConsoleLink:"ms-xcare://?relativeUrl=app-l2-help/system-help/Purchases%252Fhelp_purchase_errors",getMoreInfoRiskRejectedConsoleLinkNew:"ms-xcare://?relativeUrl=app-help-purchase-errors&activationScenario=Store",getMoreInfoRiskRejectedBrowserLink:"https://support.microsoft.com/help/10622/microsoft-store-troubleshoot-problems-when-paying-for-something",licenceTermsLink:"https://www.microsoft.com/en-us/Useterms/OEM/Windows/10Mobile/UseTerms_OEM_Windows_10Mobile_English.htm",purchaseSupport:"https://aka.ms/purchasesupport",hl2DevTermsLink:"https://www.microsoft.com/store/b/hl2-development-edition-terms?market={market}&locale={culture}".replace("{market}",t.default.get().Market).replace("{culture}",t.default.get().Culture||t.default.get().Languages),interstitialAdditionalInfo:"https://go.microsoft.com/fwlink/p/?linkid=2160906",learnMoreAboutCancellation:"https://go.microsoft.com/fwlink/?LinkId=723276",learnMoreAboutCancellationGB:"https://go.microsoft.com/fwlink/p/?linkid=2160906",msaRedeemLink:"https://go.microsoft.com/fwlink/p/?LinkId=398923",learnMoreAboutCancellationOobe:"https://go.microsoft.com/fwlink/?linkid=2164143",learnMoreAboutCancellationRoobe:"https://go.microsoft.com/fwlink/?linkid=2164143&profile=transparentLight",learnMoreAboutCancellationGBOobe:"https://go.microsoft.com/fwlink/?linkid=2164364",learnMoreAboutCancellationGBRoobe:"https://go.microsoft.com/fwlink/?linkid=2164364&profile=transparentLight",usageRulesForDigitalGoods:"http://go.microsoft.com/fwlink/p/?LinkId=723143",blockPurchaseLearnMoreLink:"https://blogs.microsoft.com/on-the-issues/2022/03/04/microsoft-suspends-russia-sales-ukraine-conflict/",xboxCodesOrGiftCardsLink:"https://support.xbox.com/help/subscriptions-billing/redeem-codes-gifting/digital-code-solution",conversionDetailsLink:"https://go.microsoft.com/fwlink/?linkid=2203202",returnsRefundsLink:"https://go.microsoft.com/fwlink/?LinkId=723276&CLCID=0x411",xboxConversionDetailsUrl:"https://support.xbox.com/help/subscriptions-billing/manage-subscriptions/xbox-game-pass-ultimate-faq",XBOX_SUBSCRIPTION_LIMITS:"https://support.xbox.com/help/subscriptions-billing/redeem-codes-gifting/digital-code-solution#hold-off-on-extending-this",M365_SUBSCRIPTION_LIMITS:"https://support.microsoft.com/office/what-happens-if-i-add-another-microsoft-365-for-home-subscription-to-my-account-e53bde8b-ff38-414c-b2c3-63173a0668e0"}}}}),define("sfw-services/utils/constants",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default={riskRejectedErrors:["BankDeclineLimit_Reject","CrossBorderPolicy_Reject","PreorderPrepaid_Reject","PrepaidBIN_Reject","ExpiredCC_Reject","TradeEmbargo_Reject","Reshipper_Reject","PremiumSkuLimit_Reject","MXIntCard_Reject","CSVLimit_Reject","GiroCSV_Reject","HighLimit_Reject","XboxDD_Reject","XboxEnf_Reject","XIN_Reject","BOPIS_Reject","ParentalControl_Reject","MSCompleteSkuMismatch_Reject","SubOnly_Reject","Trials_Policy","TrialsPolicy_Reject","EmShutdown_Reject","GiftingLimit_Reject_Account","GiftingLimit_Reject_Device","GiftingLimit_Reject_PI","GiftingLimit_Reject_PI_ProductId","GiftingLimit_Reject_Device_ProductId","GiftingLimit_Reject_Account_ProductId"]}}),define("sfw-services/utils/conversion-details-url",["exports","sfw-services/utils/constant-links"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,r,n,i){var a=r&&r.innerError&&r.innerError.innererror&&r.innerError.innererror.PurchaseLineItemExceptionContext&&r.innerError.innererror.PurchaseLineItemExceptionContext.length&&r.innerError.innererror.PurchaseLineItemExceptionContext[0],o=a&&a.ProductId,s=a&&a.CurrentSubscriptionDetail&&a.CurrentSubscriptionDetail.ProductId,l=n?t.default.get().xboxConversionDetailsUrl:i?t.default.get().conversionDetailsLink:null
return new Ember.RSVP.Promise(function(t){return s?e.findRecord("product",s).then(function(e){e&&e.get("ConversionDetailsUrl")?t(e.get("ConversionDetailsUrl")):t(l)}):o?e.findRecord("product",o).then(function(e){e&&e.get("ConversionDetailsUrl")?t(e.get("ConversionDetailsUrl")):t(l)}):void t(l)})}}),define("sfw-services/utils/currency-formatter",["exports","sfw-telemetry/utils/blend-bi-tracker","sfw-telemetry/utils/start-data","sfw-telemetry/utils/client","sfw-telemetry/utils/flight-config"],function(e,t,r,n,i){"use strict"
function a(e){var t=Number(e)
if(isNaN(t))throw new Error("Invalid price passed to format currency: "+e)
return t}function o(e,t,r){var i=(e=e.toLowerCase())+"~"+(t=t.toLowerCase())+"~"+(r=r.toLowerCase()),a=null,o=u()
if(o.hasOwnProperty(i)&&(a=o[i]),null===a&&s.hasOwnProperty(e)&&(a=s[e]),null===a)return null
if(n.default.isWebClient()&&"us"!==r&&"cl"!==r)if(d.hasOwnProperty(e)&&(e=d[e]),"usd"===e&&"$"===a[0])a[0]="USD$"
else if("usd"===e&&" $"===a[4])a[4]=" $USD"
else if(a[0].startsWith("$")){var l="cad"===e
a[0]=e.toUpperCase()+(l?" ":"")+a[0]}else" $"===a[4]&&(a[4]=" $"+e.toUpperCase())
return{beforePrice:a[0],thousandSeparator:a[1],separator:a[2],precision:a[3],afterPrice:a[4]}}Object.defineProperty(e,"__esModule",{value:!0}),e.default={formatCurrency:function(e,n,i,s){var l
i||(i=r.default.get().Culture),s||(s=r.default.get().Market)
try{var u=a(e),d=o(n,i,s)
if(!d)return null
e=(e=(e=u.toFixed(d.precision)).replace(".",d.separator)).replace(/\B(?=(\d{3})+(?!\d))/g,d.thousandSeparator),l=d.beforePrice+e+d.afterPrice}catch(e){return t.default.captureContentPageAction({name:"CurrencyFormatterException"},{error:e,formatKey:n+"~"+i+"~"+s}),null}return l},formatMonthlyEquivalentPrice:function(e,n,s,l,u){var d
s=s||r.default.get().Culture,l=l||r.default.get().Market
try{var c=a(e),f=o(n,s,l)
if(!f&&u&&i.default.isEnabled("currformfallback")){var p=u.get(e,n,s,l)
return p&&p.price?p.price:null}if(!f)return null
var m=Math.pow(10,f.precision),h=Math.ceil(c/12*m)/m
d=this.formatCurrency(h,n,s,l)}catch(e){return t.default.captureContentPageAction({name:"CurrencyFormatterException"},{error:e,formatKey:n+"~"+s+"~"+l}),null}return d},formatMonthlyEquivalentPriceNew:function(e,n,s,u,d){s=s||r.default.get().Culture,u=u||r.default.get().Market
try{var c=a(e),f=o(n,s,u)
if(!f&&d&&i.default.isEnabled("currformfallback")){var p=Math.pow(10,l[n]),m=Math.ceil(c/12*p)/p
return d.get(m,n,s,u).then(function(e){return e?e.price:null})}if(f){var h=Math.pow(10,f.precision),g=Math.ceil(c/12*h)/h,v=this.formatCurrency(g,n,s,u)
return Ember.RSVP.resolve(v)}return Ember.RSVP.resolve(null)}catch(e){return t.default.captureContentPageAction({name:"CurrencyFormatterException"},{error:e,formatKey:n+"~"+s+"~"+u}),Ember.RSVP.resolve(null)}}}
var s={usd:["$",",",".","2",""],chf:["CHF ","'",".","2",""],nzd:["$",",",".","2",""],sar:["..",",",".","2",""],egp:["..",",",".","3",""],thb:["",",",".","2",""],sgd:["SG$",",",".","2",""],hkd:["HK$",",",".","2",""]},l={USD:2,EUR:2,GBP:2,BRL:2,MXN:2,JPY:0,RUB:2,AUD:2,CAD:2,CNY:2,PLN:2,CHF:2,TRY:2,ARS:2,VND:2,CZK:2,LKR:2,BHD:3,INR:2,SEK:2,DKK:2,KRW:0,NOK:2,HUF:2,COP:2,CLP:0,NZD:2,TWD:2,PEN:2,IDR:0,ZAR:2,PHP:2,ILS:2,SAR:2,RON:2,UAH:2,HKD:2,THB:2,SGD:2,CRC:0,HRK:2,EGP:3,MYR:2,BGN:2,RSD:0,PKR:0,JOD:3,IQD:2,MAD:2,TTD:2,OMR:3,KZT:2,BDT:2,GTQ:2,ISK:2,MKD:2,TND:3,UYU:2,KWD:3,PYG:0,KES:2,NGN:2,DZD:2,QAR:2},u=function(){return i.default.isEnabled("updatecurrencyformat")?{"usd~en-us~us":["$",",",".","2",""],"eur~de-de~de":["",".",",","2"," "],"eur~de-de~lu":["",".",",","2"," "],"eur~en-us~me":["",".",",","2"," "],"eur~en-us~mt":["",",",".","2",""],"eur~sr-latn-rs~me":["",".",",","2"," "],"eur~fr-fr~lu":["",".",",","2"," "],"gbp~en-gb~gb":["",",",".","2",""],"bhd~ar-sa~bh":["BD ",",",".","3",""],"bhd~en-us~bh":["BD",",",".","3",""],"brl~pt-br~br":["R$",".",",","2",""],"eur~fr-fr~fr":[""," ",",","2"," "],"eur~it-it~it":["",".",",","2"," "],"mxn~es-mx~mx":["MXN$",",",".","2",""],"jpy~ja~jp":["",",","","0",""],"rub~ru~ru":[""," ",",","2"," "],"aud~en-au~au":["$",",",".","2",""],"cad~en-ca~ca":["$",",",".","2",""],"eur~es-es~es":["",".",",","2"," "],"cny~zh-hans-cn~cn":["",",",".","2",""],"eur~nl-nl~nl":[" ",".",",","2",""],"pln~pl~pl":[""," ",",","2"," z"],"chf~de-ch~ch":["CHF ","'",".","2",""],"try~tr~tr":["",".",",","2"," "],"eur~tr-tr~cy":["",".",",","2"," "],"try~en-us~tr":["",".",",","2"," "],"try~tr-tr~tr":["",".",",","2"," "],"ars~es-ar~ar":["$ ",".",",","2",""],"cad~en-us~ca":["$",",",".","2",""],"cny~zh-cn~cn":["",",",".","2",""],"vnd~vi~vn":["",".",",","2"," "],"vnd~vi-vn~vn":["",".",",","2"," "],"czk~cs~cz":[""," ",",","2"," K"],"czk~cs-cz~cz":[""," ",",","2"," K"],"inr~hi-in~in":["",",",".","2",""],"inr~en-in~in":[" ",",",".","2",""],"cad~fr-ca~ca":[""," ",",","2"," $"],"eur~sv-se~fi":[""," ",",","2"," "],"sek~sv-se~se":["",".",",","2"," kr"],"dkk~da~dk":["",".",",","2"," kr."],"eur~pt-pt~pt":[""," ",",","2"," "],"gbp~en-us~gb":["",",",".","2",""],"eur~de-at~at":[" ",".",",","2",""],"kes~en-us~ke":["Ksh",",",".","2",""],"krw~ko~kr":["",",","","0",""],"krw~en-us~kr":["",",","","0",""],"krw~ko-kr~kr":["",",","","0",""],"eur~nl-be~be":[" ",".",",","2",""],"ngn~en-us~ng":["",",",".","2",""],"nok~nb~no":["kr "," ",",","2",""],"mxn~es-es~mx":["MXN$",",",".","2",""],"omr~ar-sa~om":[".. ",",",".","3",""],"omr~en-us~om":["",",",".","3",".."],"huf~hu~hu":[""," ",",","2"," HUF"],"huf~hu-hu~hu":[""," ",",","2"," HUF"],"aud~en-us~au":["$",",",".","2",""],"eur~fr-be~be":["",".",",","2"," "],"eur~fi~fi":[""," ",",","2"," "],"cop~es-co~co":["$",".","","0",""],"clp~es-cl~cl":["$",".","","0",""],"nzd~en-nz~nz":["$",",",".","2",""],"chf~fr-ch~ch":["CHF "," ",".","2",""],"twd~zh-hant-tw~tw":["NT$",",",".","2",""],"ars~es-es~ar":["$ ",".",",","2",""],"usd~en-gb~us":["$",",",".","2",""],"pen~es-pe~pe":["S/",",",".","2",""],"idr~id~id":["Rp",".","","0",""],"idr~id-id~id":["Rp",".","","0",""],"eur~en-ie~ie":["",",",".","2",""],"eur~en-ie~it":["",",",".","2",""],"eur~el~gr":["",".",",","2"," "],"eur~el-gr~cy":["",".",",","2"," "],"eur~el-gr~gr":["",".",",","2"," "],"eur~de-de~at":[" ",".",",","2",""],"inr~en-us~in":[" ",",",".","2",""],"idr~en-us~id":["Rp",".","","0",""],"eur~sk~sk":[""," ",",","2"," "],"eur~en-us~sk":[""," ",",","2"," "],"eur~sk-sk~sk":[""," ",",","2"," "],"zar~en-za~za":["R"," ",",","2",""],"vnd~en-us~vn":["",",",".","2",""],"php~en-ph~ph":["",",",".","2",""],"ils~he~il":["",",",".","2",""],"ils~ar-sa~il":[" ",",",".","2",""],"ils~he-il~il":["",",",".","2",""],"sar~ar-sa~sa":["..",",",".","2",""],"ron~ro-ro~ro":["",".",",","2"," RON"],"usd~en-ca~us":["$",",",".","2",""],"uah~ru~ua":[""," ",",","2"," "],"hkd~zh-hant-hk~hk":["HK$",",",".","2",""],"usd~es-ec~ec":["$",".",",","2",""],"thb~th~th":["",",",".","2",""],"thb~th-th~th":["",",",".","2",""],"tnd~ar-sa~tn":[".. ",",",".","3",""],"tnd~fr-fr~tn":[""," ",",","3"," DT"],"sgd~en-sg~sg":["SG$",",",".","2",""],"mxn~en-us~mx":["MXN$",",",".","2",""],"uah~es-es~ua":[""," ",",","2"," "],"rub~en-us~by":[""," ",",","2"," "],"rub~en-us~ru":[""," ",",","2"," "],"usd~pt-br~us":["",".",",","2"," $"],"chf~de-de~ch":["CHF ","'",".","2",""],"usd~en-in~us":["$",",",".","2",""],"crc~es-cr~cr":["",".","","0",""],"crc~es-es~cr":["",".","","0",""],"eur~es-mx~es":["",".",",","2"," "],"cny~en-us~cn":["",",",".","2",""],"eur~hr-hr~hr":["",".",",","2"," "],"hrk~hr-hr~hr":["",".",",","2"," kn"],"usd~ru~us":["",".",",","2"," $"],"usd~ru-us~us":["",".",",","2"," $"],"cad~fr-fr~ca":[""," ",",","2"," $"],"brl~en-us~br":["R$",".",",","2",""],"egp~ar-eg~eg":["..",",",".","3",""],"eur~en-us~cy":["",",",".","2",""],"eur~en-us~nl":[" ",".",",","2",""],"eur~en-us~de":["",".",",","2"," "],"eur~en-us~lv":[""," ",",","2"," "],"eur~lv-lv~lv":[""," ",",","2"," "],"eur~sl~si":["",".",",","2"," "],"eur~en-us~si":["",".",",","2"," "],"eur~sl-si~si":["",".",",","2"," "],"eur~de-at~de":["",".",",","2"," "],"nzd~en-us~nz":["$",",",".","2",""],"twd~zh-tw~tw":["NT$",",",".","2",""],"usd~zh-cn~us":["",".",",","2"," $"],"aud~en-gb~au":["$",",",".","2",""],"usd~es-us~us":["$",",",".","2",""],"cop~es-es~co":["$",".","","0",""],"myr~en-my~my":["RM",",",".","2",""],"myr~ms-my~my":["RM",",",".","2",""],"eur~fr-fr~be":["",".",",","2"," "],"uah~en-us~ua":[""," ",",","2"," "],"eur~nl-nl~be":[" ",".",",","2",""],"idr~en-id~id":["Rp",".","","0",""],"gbp~pl~gb":["",",",".","2",""],"gbp~pl-gb~gb":["",",",".","2",""],"usd~en-us~ae":["$",",",".","2",""],"usd~es-mx~us":["",".",",","2"," $"],"eur~en-us~gr":["",".",",","2"," "],"uah~ko~ua":[""," ",",","2"," "],"uah~ko-ua~ua":[""," ",",","2"," "],"uah~uk~ua":[""," ",",","2"," "],"uah~uk-ua~ua":[""," ",",","2"," "],"usd~ko~us":["",".",",","2"," $"],"usd~ko-us~us":["",".",",","2"," $"],"bgn~bg~bg":[""," ",",","2"," ."],"bgn~bg-bg~bg":[""," ",",","2"," ."],"zar~en-us~za":["R"," ",",","2",""],"inr~en-gb~in":[" ",",",".","2",""],"usd~es-ve~ve":["$",",",".","2",""],"ils~en-us~il":["",",",".","2",""],"isk~en-us~is":["kr.",",",".","2",""],"clp~es-es~cl":["$",".","","0",""],"eur~en-my~de":["",".",",","2"," "],"nok~nb-no~no":["kr "," ",",","2",""],"ron~en-us~ro":["",".",",","2"," RON"],"usd~vi~us":["",".",",","2"," $"],"usd~vi-us~us":["",".",",","2"," $"],"usd~de-de~us":["",".",",","2"," $"],"php~en-us~ph":["",",",".","2",""],"rsd~sr-latn-rs~rs":["",".","","0"," RSD"],"eur~fi-fi~fi":[""," ",",","2"," "],"usd~en-au~us":["$",",",".","2",""],"usd~es-es~ve":["$",",",".","2",""],"eur~en-gb~de":["",".",",","2"," "],"eur~en-us~fr":[""," ",",","2"," "],"usd~es-es~us":["",".",",","2"," $"],"eur~et~ee":[""," ",",","2"," "],"eur~en-us~ee":[""," ",",","2"," "],"eur~et-ee~ee":[""," ",",","2"," "],"jpy~en-us~jp":["",",","","0",""],"eur~lt~lt":[""," ",",","2"," "],"eur~lt-lt~lt":[""," ",",","2"," "],"pen~es-es~pe":["S/",",",".","2",""],"pkr~en-us~pk":["Rs",",","","0",""],"pyg~es-es~py":[" ",".","","0",""],"usd~ar-sa~us":["",".",",","2"," $"],"usd~es-gt~gt":["$",",",".","2",""],"gtq~es-es~gt":["Q",",",".","2",""],"gtq~es-gt~gt":["Q",",",".","2",""],"jpy~ja-jp~jp":["",",","","0",""],"sek~en-us~se":[""," ",",","2"," kr"],"eur~en-us~it":["",".",",","2"," "],"eur~en-us~ie":["",",",".","2",""],"usd~ru~by":["$",",",".","2",""],"usd~es-uy~uy":["$",",",".","2",""],"usd~es-es~ec":["$",".",",","2",""],"eur~de-ch~de":["",".",",","2"," "],"vnd~pt-br~vn":["",",",".","2",""],"chf~en-us~ch":["CHF ",".",",","2",""],"usd~fa~us":["",".",",","2"," $"],"usd~fa-us~us":["",".",",","2"," $"],"chf~it-ch~ch":["CHF ","'",".","2",""],"jod~ar-jo~jo":["..",",",".","3",""],"jod~ar-sa~jo":["..",",",".","3",""],"usd~es-do~do":["$",",",".","2",""],"uah~ru-ru~ua":[""," ",",","2"," "],"uah~ru-ua~ua":[""," ",",","2"," "],"usd~ar-kw~us":["",".",",","2"," $"],"eur~en-us~be":["",".",",","2"," "],"jpy~zh-hans-cn~jp":["",",","","0",""],"myr~en-us~my":["RM",",",".","2",""],"dkk~da-dk~dk":["",".",",","2"," kr."],"iqd~ar-iq~iq":["..",",",".","2",""],"nok~en-us~no":["kr "," ",",","2",""],"usd~ja~us":["",".",",","2"," $"],"usd~ja-us~us":["",".",",","2"," $"],"eur~en-gb~ie":["",",",".","2",""],"gbp~en-in~gb":["",",",".","2",""],"eur~en-gb~nl":[" ",".",",","2",""],"dkk~en-us~dk":["",".",",","2"," kr."],"kwd~ar-sa~kw":["..",",",".","3",""],"kwd~en-us~kw":["..",",",".","3",""],"rsd~en-us~rs":["",".",",","2"," ."],"usd~id~us":["",".",",","2"," $"],"usd~id-us~us":["",".",",","2"," $"],"dzd~ar-sa~dz":[".. ",",",".","2",""],"dzd~fr-fr~dz":[""," ",",","2"," DA"],"eur~en-us~es":["",".",",","2"," "],"kzt~ru~kz":[""," ",",","2"," "],"kzt~kk-kz~kz":[""," ",",","2"," "],"kzt~ru-kz~kz":[""," ",",","2"," "],"kzt~ru-ru~kz":[""," ",",","2"," "],"bdt~en-us~bd":["",",",".","2",""],"chf~fr-fr~ch":["CHF "," ",".","2",""],"iqd~en-us~iq":["..",",",".","2",""],"eur~en-gb~fr":[""," ",",","2"," "],"bgn~en-us~bg":[""," ",",","2"," ."],"eur~es-co~es":["",".",",","2"," "],"pln~en-us~pl":[""," ",",","2"," z"],"usd~en-id~us":["$",",",".","2",""],"ars~es-419~ar":["$ ",".",",","2",""],"huf~it-it~hu":[""," ",",","2"," HUF"],"usd~es-sv~sv":["$",",",".","2",""],"lkr~en-us~lk":[".",",",".","2",""],"mad~ar-sa~ma":[".. ",",",".","2",""],"mad~fr-fr~ma":["",".",",","2"," DH"],"mkd~bg-bg~mk":[" ",".",",","2",""],"mkd~en-us~mk":[" ",".",",","2",""],"mkd~sr-latn-rs~mk":[" ",".",",","2",""],"rub~zh-cn~ru":[""," ",",","2"," "],"ttd~en-tt~tt":["$",",",".","2",""],"ttd~en-us~tt":["TT$",",",".","2",""],"eur~en-us~lt":[""," ",",","2"," "],"usd~en-ph~us":["$",",",".","2",""],"usd~sv-se~us":["",".",",","2"," $"],"zar~en-gb~za":["R"," ",",","2",""],"eur~en-gb~es":["",".",",","2"," "],"usd~nl-nl~us":["",".",",","2"," $"],"eur~nl-be~nl":[" ",".",",","2",""],"eur~en-us~hr":["",".",",","2"," "],"hrk~en-us~hr":["",".",",","2"," kn"],"nzd~en-au~nz":["$",",",".","2",""],"usd~es-es~uy":["$",",",".","2",""],"usd~ru-by~by":["$",",",".","2",""],"usd~en-us~ke":["$",",",".","2",""],"usd~es-ec~us":["",".",",","2"," $"],"eur~en-gb~pt":[""," ",",","2"," "],"pkr~en-gb~pk":["Rs",",","","0",""],"pkr~en-pk~pk":["Rs",",","","0",""],"qar~ar-sa~qa":[".. ",",",".","2",""],"qar~en-us~qa":["QAR",",",".","2",""],"rub~ru-ru~by":[""," ",",","2"," "],"rub~ru-ru~ru":[""," ",",","2"," "],"twd~en-us~tw":["NT$",",",".","2",""],"usd~zh-hans-cn~us":["",".",",","2"," $"],"czk~en-us~cz":[""," ",",","2"," K"],"eur~en-gb~it":["",".",",","2"," "],"eur~en-us~pt":[""," ",",","2"," "],"sek~en-gb~se":[""," ",",","2"," kr"],"usd~en-gb~ae":["$",",",".","2",""],"usd~en-us~lk":["$",",",".","2",""],"eur~es-es~pa":["",".",",","2"," "],"usd~es-pa~pa":["$",",",".","2",""],"eur~fr-ch~fr":[""," ",",","2"," "],"usd~en-gb~ng":["$",",",".","2",""],"eur~en-gb~be":["",".",",","2"," "],"eur~en-us~fi":[""," ",",","2"," "],"eur~ru~de":["",".",",","2"," "],"eur~ru-de~de":["",".",",","2"," "],"jod~en-us~jo":["..",",",".","3",""],"pln~en-gb~pl":[""," ",",","2"," z"],"pln~pl-pl~pl":[""," ",",","2"," z"],"usd~fr-fr~re":["$",",",".","2",""],"uyu~es-es~uy":["$U ",".",",","2",""],"ars~ar-sa~ar":["$ ",".",",","2",""],"ars~de-de~ar":["$ ",".",",","2",""],"ars~en-au~ar":["$ ",".",",","2",""],"ars~en-us~ar":["$ ",".",",","2",""],"ars~es-mx~ar":["$ ",".",",","2",""],"ars~es-ve~ar":["$ ",".",",","2",""],"ars~ru~ar":["$ ",".",",","2",""],"bgn~en-gb~bg":[""," ",",","2"," ."],"bhd~ar-bh~bh":["BD ",",",".","3",""],"brl~en-au~br":["R$",".",",","2",""],"brl~es-ar~br":["R$",".",",","2",""],"brl~es-es~br":["R$",".",",","2",""],"brl~fr-fr~br":["R$",".",",","2",""],"brl~ru~br":["R$",".",",","2",""],"brl~zh-hant-hk~br":["R$",".",",","2",""],"cad~ca-es~ca":["CAD $",",",".","2",""],"cad~en-gb~ca":["CAD $",",",".","2",""],"cad~es-es~ca":["CAD $",",",".","2",""],"clp~en-us~cl":["$ ",",",".","2",""],"clp~es-ar~cl":["$",".","","0",""],"clp~es-hn~cl":["$",".","","0",""],"clp~es-mx~cl":["$",".","","0",""],"clp~es~cl":["$",".","","0",""],"cop~en-au~co":["$",".","","0",""],"cop~en-ca~co":["$",".","","0",""],"cop~en-us~co":["$",".","","0",""],"cop~es-ar~co":["$",".","","0",""],"cop~es-mx~co":["$",".","","0",""],"cop~es~co":["$",".","","0",""],"cop~fr-fr~co":["$",".","","0",""],"czk~en-cz~cz":[""," ",",","2"," K"],"czk~en-gb~cz":[""," ",",","2"," K"],"czk~en-sk~cz":[""," ",",","2"," K"],"dkk~en-gb~dk":["",".",",","2"," kr."],"dzd~en-us~dz":[".. ",",",".","2",""],"eur~de-at,de-de~at":[" "," ",",","2",""],"eur~de~de":["",".",",","2"," "],"eur~en-au~at":[" ",".",",","2",""],"eur~en-au~fi":[""," ",",","2"," "],"eur~en-au~fr":[""," ",",","2"," "],"eur~en-au~it":["",".",",","2"," "],"eur~en-au~nl":[" ",".",",","2",""],"eur~en-au~pt":[""," ",",","2"," "],"eur~en-gb~at":[" ",".",",","2",""],"eur~en-gb~fi":[""," ",",","2"," "],"eur~en-gb~gr":["",".",",","2"," "],"eur~en-gb~lt":[""," ",",","2"," "],"eur~en-gr~gr":["",".",",","2"," "],"eur~en-hu~sk":[""," ",",","2"," "],"eur~en-sk~sk":[""," ",",","2"," "],"eur~en-us~at":[" ",".",",","2",""],"eur~es~es":["",".",",","2"," "],"eur~fr-be~fr":[""," ",",","2"," "],"eur~fr~fr":[""," ",",","2"," "],"eur~it-it~fr":[""," ",",","2"," "],"eur~nl~be":["",".",",","2"," "],"eur~pl~de":["",".",",","2"," "],"eur~pl~nl":[" ",".",",","2",""],"eur~pt-br~fr":[""," ",",","2"," "],"eur~ru-ru~be":["",".",",","2"," "],"eur~ru~fi":[""," ",",","2"," "],"gbp~bg~gb":["",",",".","2",""],"gbp~en-au~gb":["",",",".","2",""],"gbp~en-ca~gb":["",",",".","2",""],"gbp~en-sg~gb":["",",",".","2",""],"gtq~es-hn~gt":["Q",",",".","2",""],"huf~en-hu~hu":[""," ",",","2"," HUF"],"huf~en-us~hu":[""," ",",","2"," HUF"],"ils~en-au~il":["",",",".","2",""],"ils~en-gb~il":["",",",".","2",""],"ils~en-il~il":["",",",".","2",""],"ils~fr-fr~il":[" ",",",".","2",""],"iqd~ar-sa~iq":[".. ",",",".","2",""],"isk~en-gb~is":["kr.",",",".","2",""],"jpy~fr-be~jp":["",",","","0",""],"kwd~en-gb~kw":["",",",".","3","..."],"lbp~en-us~lb":[".. ",",",".","2",""],"mxn~en-001~mx":["MXN$",",",".","2",""],"mxn~en-gb~mx":["MXN$",",",".","2",""],"mxn~es-ar~mx":["MXN$",",",".","2",""],"mxn~es-hn~mx":["MXN$",",",".","2",""],"mxn~es~mx":["MXN$",",",".","2",""],"ngn~ar-sa~ng":[" ",",",".","2",""],"ngn~fr-fr~ng":[" ",",",".","2",""],"nok~en-au~no":["kr "," ",",","2",""],"nok~en-gb~no":["kr "," ",",","2",""],"pln~en-au~pl":[""," ",",","2"," z"],"sek~en-au~se":[""," ",",","2"," kr"],"sek~es-es~se":[""," ",",","2"," kr"],"sek~pl~se":[""," ",",","2"," kr"],"try~ar-ae~tr":["",".",",","2"," "],"try~en-gb~tr":["",".",",","2"," "],"try~ru~tr":["",".",",","2"," "],"try~tr-cy~tr":["",".",",","2"," "],"try~zh-cn~tr":["",".",",","2"," "],"zar~en-au~za":["R"," ",",","2",""],"twd~zh-hk~tw":["NT$",",",".","2",""],"twd~zh-cht~tw":["NT$",",",".","2",""]}:{"usd~en-us~us":["$",",",".","2",""],"eur~de-de~de":["",".",",","2"," "],"gbp~en-gb~gb":["",",",".","2",""],"brl~pt-br~br":["R$",".",",","2",""],"eur~fr-fr~fr":[""," ",",","2"," "],"eur~it-it~it":["",".",",","2"," "],"mxn~es-mx~mx":["MXN$",",",".","2",""],"jpy~ja~jp":["",",","","0",""],"rub~ru~ru":[""," ",",","2"," "],"aud~en-au~au":["$",",",".","2",""],"cad~en-ca~ca":["$",",",".","2",""],"eur~es-es~es":["",".",",","2"," "],"cny~zh-hans-cn~cn":["",",",".","2",""],"eur~nl-nl~nl":[" ",".",",","2",""],"pln~pl~pl":[""," ",",","2"," z"],"chf~de-ch~ch":["CHF ","'",".","2",""],"try~tr~tr":["",".",",","2"," "],"try~tr-tr~tr":["",".",",","2"," "],"ars~es-ar~ar":["$ ",".",",","2",""],"cad~en-us~ca":["$",",",".","2",""],"cny~zh-cn~cn":["",",",".","2",""],"vnd~vi~vn":["",".",",","2"," "],"vnd~vi-vn~vn":["",".",",","2"," "],"czk~cs~cz":[""," ",",","2"," K"],"czk~cs-cz~cz":[""," ",",","2"," K"],"inr~en-in~in":[" ",",",".","2",""],"cad~fr-ca~ca":[""," ",",","2"," $"],"sek~sv-se~se":["",".",",","2"," kr"],"dkk~da~dk":["",".",",","2"," kr."],"eur~pt-pt~pt":[""," ",",","2"," "],"gbp~en-us~gb":["",",",".","2",""],"eur~de-at~at":[" ",".",",","2",""],"krw~ko~kr":["",",","","0",""],"krw~ko-kr~kr":["",",","","0",""],"eur~nl-be~be":[" ",".",",","2",""],"nok~nb~no":["kr "," ",",","2",""],"mxn~es-es~mx":["MXN$",",",".","2",""],"huf~hu~hu":[""," ",",","2"," HUF"],"huf~hu-hu~hu":[""," ",",","2"," HUF"],"aud~en-us~au":["$",",",".","2",""],"eur~fr-be~be":["",".",",","2"," "],"eur~fi~fi":[""," ",",","2"," "],"cop~es-co~co":["$",".","","0",""],"clp~es-cl~cl":["$",".","","0",""],"nzd~en-nz~nz":["$",",",".","2",""],"chf~fr-ch~ch":["CHF "," ",".","2",""],"twd~zh-hant-tw~tw":["NT$",",",".","2",""],"ars~es-es~ar":["$ ",".",",","2",""],"usd~en-gb~us":["$",",",".","2",""],"pen~es-pe~pe":["S/",",",".","2",""],"idr~id~id":["Rp",".","","0",""],"idr~id-id~id":["Rp",".","","0",""],"eur~en-ie~ie":["",",",".","2",""],"eur~en-ie~it":["",",",".","2",""],"eur~el~gr":["",".",",","2"," "],"eur~el-gr~gr":["",".",",","2"," "],"eur~de-de~at":[" ",".",",","2",""],"inr~en-us~in":[" ",",",".","2",""],"idr~en-us~id":["Rp",".","","0",""],"eur~sk~sk":[""," ",",","2"," "],"eur~sk-sk~sk":[""," ",",","2"," "],"zar~en-za~za":["R"," ",",","2",""],"vnd~en-us~vn":["",",",".","2",""],"php~en-ph~ph":["",",",".","2",""],"ils~he~il":["",",",".","2",""],"ils~he-il~il":["",",",".","2",""],"sar~ar-sa~sa":["..",",",".","2",""],"ron~ro-ro~ro":["",".",",","2"," RON"],"usd~en-ca~us":["$",",",".","2",""],"uah~ru~ua":[""," ",",","2"," "],"hkd~zh-hant-hk~hk":["HK$",",",".","2",""],"usd~es-ec~ec":["$",".",",","2",""],"thb~th~th":["",",",".","2",""],"thb~th-th~th":["",",",".","2",""],"sgd~en-sg~sg":["SG$",",",".","2",""],"mxn~en-us~mx":["MXN$",",",".","2",""],"uah~es-es~ua":[""," ",",","2"," "],"rub~en-us~ru":[""," ",",","2"," "],"usd~pt-br~us":["",".",",","2"," $"],"chf~de-de~ch":["CHF ","'",".","2",""],"usd~en-in~us":["$",",",".","2",""],"crc~es-cr~cr":["",".","","0",""],"eur~es-mx~es":["",".",",","2"," "],"cny~en-us~cn":["",",",".","2",""],"hrk~hr-hr~hr":["",".",",","2"," kn"],"usd~ru~us":["",".",",","2"," $"],"usd~ru-us~us":["",".",",","2"," $"],"cad~fr-fr~ca":[""," ",",","2"," $"],"brl~en-us~br":["R$",".",",","2",""],"egp~ar-eg~eg":["..",",",".","3",""],"eur~en-us~nl":[" ",".",",","2",""],"eur~en-us~de":["",".",",","2"," "],"eur~sl~si":["",".",",","2"," "],"eur~sl-si~si":["",".",",","2"," "],"eur~de-at~de":["",".",",","2"," "],"nzd~en-us~nz":["$",",",".","2",""],"twd~zh-tw~tw":["NT$",",",".","2",""],"usd~zh-cn~us":["",".",",","2"," $"],"aud~en-gb~au":["$",",",".","2",""],"usd~es-us~us":["$",",",".","2",""],"cop~es-es~co":["$",".","","0",""],"myr~en-my~my":["RM",",",".","2",""],"eur~fr-fr~be":["",".",",","2"," "],"uah~en-us~ua":[""," ",",","2"," "],"eur~nl-nl~be":[" ",".",",","2",""],"idr~en-id~id":["Rp",".","","0",""],"gbp~pl~gb":["",",",".","2",""],"gbp~pl-gb~gb":["",",",".","2",""],"usd~en-us~ae":["$",",",".","2",""],"usd~es-mx~us":["",".",",","2"," $"],"eur~en-us~gr":["",".",",","2"," "],"uah~ko~ua":[""," ",",","2"," "],"uah~ko-ua~ua":[""," ",",","2"," "],"uah~uk~ua":[""," ",",","2"," "],"uah~uk-ua~ua":[""," ",",","2"," "],"usd~ko~us":["",".",",","2"," $"],"usd~ko-us~us":["",".",",","2"," $"],"bgn~bg~bg":[""," ",",","2"," ."],"bgn~bg-bg~bg":[""," ",",","2"," ."],"zar~en-us~za":["R"," ",",","2",""],"inr~en-gb~in":[" ",",",".","2",""],"usd~es-ve~ve":["$",",",".","2",""],"ils~en-us~il":["",",",".","2",""],"clp~es-es~cl":["$",".","","0",""],"eur~en-my~de":["",".",",","2"," "],"nok~nb-no~no":["kr "," ",",","2",""],"ron~en-us~ro":["",".",",","2"," RON"],"usd~vi~us":["",".",",","2"," $"],"usd~vi-us~us":["",".",",","2"," $"],"usd~de-de~us":["",".",",","2"," $"],"php~en-us~ph":["",",",".","2",""],"rsd~sr-latn-rs~rs":["",".","","0"," RSD"],"eur~fi-fi~fi":[""," ",",","2"," "],"usd~en-au~us":["$",",",".","2",""],"usd~es-es~ve":["$",",",".","2",""],"eur~en-gb~de":["",".",",","2"," "],"eur~en-us~fr":[""," ",",","2"," "],"usd~es-es~us":["",".",",","2"," $"],"eur~et~ee":[""," ",",","2"," "],"eur~et-ee~ee":[""," ",",","2"," "],"jpy~en-us~jp":["",",","","0",""],"eur~lt~lt":[""," ",",","2"," "],"eur~lt-lt~lt":[""," ",",","2"," "],"pen~es-es~pe":["S/",",",".","2",""],"pkr~en-us~pk":["Rs",",","","0",""],"usd~ar-sa~us":["",".",",","2"," $"],"usd~es-gt~gt":["$",",",".","2",""],"gtq~es-gt~gt":["Q",",",".","2",""],"jpy~ja-jp~jp":["",",","","0",""],"sek~en-us~se":[""," ",",","2"," kr"],"eur~en-us~it":["",".",",","2"," "],"eur~en-us~ie":["",",",".","2",""],"usd~ru~by":["$",",",".","2",""],"usd~es-uy~uy":["$",",",".","2",""],"usd~es-es~ec":["$",".",",","2",""],"eur~de-ch~de":["",".",",","2"," "],"vnd~pt-br~vn":["",",",".","2",""],"chf~en-us~ch":["CHF ",".",",","2",""],"usd~fa~us":["",".",",","2"," $"],"usd~fa-us~us":["",".",",","2"," $"],"chf~it-ch~ch":["CHF ","'",".","2",""],"jod~ar-jo~jo":["..",",",".","3",""],"usd~es-do~do":["$",",",".","2",""],"uah~ru-ua~ua":[""," ",",","2"," "],"usd~ar-kw~us":["",".",",","2"," $"],"eur~en-us~be":["",".",",","2"," "],"jpy~zh-hans-cn~jp":["",",","","0",""],"myr~en-us~my":["RM",",",".","2",""],"dkk~da-dk~dk":["",".",",","2"," kr."],"iqd~ar-iq~iq":["..",",",".","2",""],"nok~en-us~no":["kr "," ",",","2",""],"usd~ja~us":["",".",",","2"," $"],"usd~ja-us~us":["",".",",","2"," $"],"eur~en-gb~ie":["",",",".","2",""],"gbp~en-in~gb":["",",",".","2",""],"eur~en-gb~nl":[" ",".",",","2",""],"dkk~en-us~dk":["",".",",","2"," kr."],"kwd~en-us~kw":["..",",",".","3",""],"rsd~en-us~rs":["",".",",","2"," ."],"usd~id~us":["",".",",","2"," $"],"usd~id-us~us":["",".",",","2"," $"],"dzd~fr-fr~dz":[""," ",",","2"," DA"],"eur~en-us~es":["",".",",","2"," "],"kzt~ru~kz":[""," ",",","2"," "],"kzt~ru-kz~kz":[""," ",",","2"," "],"bdt~en-us~bd":["",",",".","2",""],"chf~fr-fr~ch":["CHF "," ",".","2",""],"iqd~en-us~iq":["..",",",".","2",""],"eur~en-gb~fr":[""," ",",","2"," "],"bgn~en-us~bg":[""," ",",","2"," ."],"eur~es-co~es":["",".",",","2"," "],"pln~en-us~pl":[""," ",",","2"," z"],"usd~en-id~us":["$",",",".","2",""],"ars~es-419~ar":["$ ",".",",","2",""],"huf~it-it~hu":[""," ",",","2"," HUF"],"usd~es-sv~sv":["$",",",".","2",""],"mad~fr-fr~ma":["",".",",","2"," DH"],"rub~zh-cn~ru":[""," ",",","2"," "],"ttd~en-tt~tt":["$",",",".","2",""],"eur~en-us~lt":[""," ",",","2"," "],"usd~en-ph~us":["$",",",".","2",""],"usd~sv-se~us":["",".",",","2"," $"],"zar~en-gb~za":["R"," ",",","2",""],"eur~en-gb~es":["",".",",","2"," "],"usd~nl-nl~us":["",".",",","2"," $"],"eur~nl-be~nl":[" ",".",",","2",""],"hrk~en-us~hr":["",".",",","2"," kn"],"nzd~en-au~nz":["$",",",".","2",""],"usd~es-es~uy":["$",",",".","2",""],"usd~ru-by~by":["$",",",".","2",""],"usd~en-us~ke":["$",",",".","2",""],"usd~es-ec~us":["",".",",","2"," $"],"eur~en-gb~pt":[""," ",",","2"," "],"pkr~en-gb~pk":["Rs",",","","0",""],"pkr~en-pk~pk":["Rs",",","","0",""],"rub~ru-ru~ru":[""," ",",","2"," "],"twd~en-us~tw":["NT$",",",".","2",""],"usd~zh-hans-cn~us":["",".",",","2"," $"],"czk~en-us~cz":[""," ",",","2"," K"],"eur~en-gb~it":["",".",",","2"," "],"eur~en-us~pt":[""," ",",","2"," "],"sek~en-gb~se":[""," ",",","2"," kr"],"usd~en-gb~ae":["$",",",".","2",""],"usd~en-us~lk":["$",",",".","2",""],"usd~es-pa~pa":["$",",",".","2",""],"eur~fr-ch~fr":[""," ",",","2"," "],"usd~en-gb~ng":["$",",",".","2",""],"eur~en-gb~be":["",".",",","2"," "],"eur~en-us~fi":[""," ",",","2"," "],"eur~ru~de":["",".",",","2"," "],"eur~ru-de~de":["",".",",","2"," "],"jod~en-us~jo":["..",",",".","3",""],"pln~en-gb~pl":[""," ",",","2"," z"],"pln~pl-pl~pl":[""," ",",","2"," z"],"usd~fr-fr~re":["$",",",".","2",""],"twd~zh-hk~tw":["NT$",",",".","2",""],"twd~zh-cht~tw":["NT$",",",".","2",""]}},d={aud:"AU",nzd:"NZ",twd:"TW"}}),define("sfw-services/utils/email-address-pidl",["exports","sfw-services/utils/strings"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return[{data_description:{email_address:{type:"string",display_name:t.default.Email_Label,display_description:t.default.Email_Label,is_key:!1,is_optional:!1,validation:{regex:"^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,15}$",error_code:"invalid_email_address",error_message:t.default.Email_Validation_Error_Message}}},displayDescription:[{displayName:t.default.Email_Label,displayPropertyDescription:t.default.Email_Label,displayId:"email_address",displayType:"property",propertyName:"email_address"}]}]}}),define("sfw-services/utils/error-equals",["exports","sfw-telemetry/utils/flight-config"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var r=function(e,r,n){if(!e)return!1
if(t.default.isEnabled("newerrors")){if(e.code===r){if(n){var i=Ember.get(e,"innerError.innererror.data")
return i&&i.containsAnyIgnoreCase(n)}return!0}return!1}var a=e?e.responseJSON||e:null
return!!(a&&a.innererror&&a.innererror.code&&a.innererror.code.toString().equalsIgnoreCase(r))&&(!n||a.innererror&&a.innererror.data&&a.innererror.data.length&&a.innererror.data[0].toLowerCase&&a.innererror.data[0].toLowerCase()===n)},n=function(e,r,n){if(t.default.isEnabled("newerrors"))return e.code===r&&(!n||n.equalsIgnoreCase(e.innerError.parameters.property_name))
var i=e?e.responseJSON||e:null
return!!(i&&i.error_code&&i.error_code.toString().equalsIgnoreCase(r)&&i.parameters&&i.parameters.property_name)&&i.parameters.property_name.toString().equalsIgnoreCase(n)}
e.default={isCvvChallengeError:function(e){return r(e,"RiskChallengeRequired","cvv")},is3DSRedirectChallengeError:function(e){return r(e,"RiskChallengeRequired","threeds")},is3DS2ChallengeError:function(e){return r(e,"RiskChallengeRequired","threeds2")},isNonSimMobiChallengeError:function(e){return r(e,"RiskChallengeRequired","sms")},needsBackupPi:function(e){return r(e,"InsufficientFunds")},isNoProfileError:function(e){return r(e,"AccountResourceNotFound")},needsProfileAddress:function(e){return r(e,"NoBillingAddressForAddressId")||r(e,"NoBillingAddressForCountryCode")},needsDefaultAddress:function(e){return r(e,"MultipleAddressesAndNoDefault")},isInvalidPiError:function(e){return r(e,"ProcessorDeclined")||r(e,"ProcessorRiskCheckDeclined")||r(e,"InvalidPaymentInstrument")||r(e,"MandateNotApproved")||r(e,"InsufficientFunds")||r(e,"MissingFundingSource")||r(e,"ExpiredPaymentInstrument")||r(e,"TransactionNotAllowed")||r(e,"PaymentInstrumentValidationFailed")||r(e,"ValidatePIOnAttachFailed")||r(e,"MOValidationFailed")||r(e,"AccountNotFound")},isAddPiInvalidError:function(e){return r(e,"ValidationFailed")},isProcessorDeclinedError:function(e){return r(e,"ProcessorDeclined")},isRiskRejectedError:function(e){return r(e,"RiskRejected")},isAddNonSimMobiUserError:function(e){return r(e,"InvalidPIN")||r(e,"ExceedRetryMaximum")||r(e,"ExceedResendMaximum")},isTaxIdUserError:function(e){return r(e,"TaxIdError")},isAddPiUserError:function(e){return r(e,"ExpiredCard")||r(e,"InvalidAccountHolder")||r(e,"InvalidAddress")||r(e,"InvalidCvv")||r(e,"InvalidExpiryDate")||r(e,"InvalidPaymentInstrumentInfo")||r(e,"InvalidCity")||r(e,"InvalidRegion")||r(e,"InvalidState")||r(e,"InvalidPostalCode")||r(e,"InvalidZipCode")},isEditPiUserError:function(e){return r(e,"ExpiredCard")||r(e,"InvalidAccountHolder")||r(e,"InvalidAddress")||r(e,"InvalidExpiryDate")||r(e,"InvalidCity")||r(e,"InvalidRegion")||r(e,"InvalidState")||r(e,"InvalidPostalCode")||r(e,"InvalidZipCode")},isAddAddressUserError:function(e){return r(e,"InvalidAddressFieldsCombination")||r(e,"InvalidCity")||r(e,"InvalidRegion")||r(e,"InvalidState")||r(e,"InvalidPostalCode")||r(e,"InvalidZipCode")},isAddDefaultAddressUserError:function(e){return n(e,"InvalidProperty","invalid_address_fields_combination")||n(e,"InvalidProperty","address")||n(e,"InvalidProperty","city")||n(e,"InvalidProperty","region")||n(e,"InvalidProperty","state")||n(e,"InvalidProperty","postal_code")||n(e,"InvalidProperty","zip_code")},isSenderNameContentError:function(e){return function(e,r,n,i){if(t.default.isEnabled("newerrors")){if(e.code===r){var a=e.innerError&&e.innerError.parameters&&e.innerError.parameters.property_name,o=e.innerError&&e.innerError.parameters&&e.innerError.parameters.details
return a&&a.containsIgnoreCase(n)&&o&&i.equalsIgnoreCase(o)}return!1}var s=e.responseJSON||e,l=s&&s.error_code&&s.error_code.toString()
if(l&&r.equalsIgnoreCase(l)){var u=s.parameters&&s.parameters.property_name&&s.parameters.property_name.toString(),d=s.parameters&&s.parameters.details&&s.parameters.details.toString()
return u&&u.containsIgnoreCase(n)&&i.equalsIgnoreCase(d)}return!1}(e,"InvalidProperty","sender_name","ContentValidationFailed")},isAddNonSimMobiInlineSMSError:function(e){return r(e,"InvalidChallengeCode")},isAddNonSimMobiInLinePhoneError:function(e){return r(e,"RejectedByProvider")||r(e,"MOAccountNotFound")},isAddAlipayBaAccountInLineError:function(e){return r(e,"InvalidAlipayAccount")},isAddAlipayBaPhoneInLineError:function(e){return r(e,"UserMobileNotMatch")},isAddAlipayBaCertInLineError:function(e){return r(e,"UserCertNoMatch")},isAddAlipayBaSMSCodeExpiredError:function(e){return r(e,"ChallengeCodeExpired")},isProfileMissingError:function(e){return r(e,"PrerequisiteProfileMissing")||r(e,"BillingAccountWithoutAddress")},isUserAlreadyOwnsContentError:function(e){return r(e,"UserAlreadyOwnsContent")},isExceededLimitError:function(e){return r(e,"RiskRejected","checkout_inline_error_mss_purchase_limit_policy_reject_terminateandcontinue")},isPreviousOrderInDunningError:function(e){return r(e,"CannotPurchasePreviousOrderInDunning")},isDirectDebitInvalidAmountError:function(e){return r(e,"InvalidAmount")},isOmniChannelInventoryOutOfStockOrNotAvailableError:function(e){return r(e,"OmniChannelInventoryOutOfStockOrNotAvailable")},isOrderLockedError:function(e){return r(e,"OrderLocked")},isInvalidOrderStateForOperationError:function(e){return r(e,"InvalidOrderStateForOperation")},isBlockedByFamilyPolicy:function(e){return r(e,"BlockedByFamilyPolicy")},userConsentRequired:function(e){return r(e,"ConversionConsentRequired")},invalidAuthToken:function(e){return r(e,"AuthenticationTokenInvalid")},userAveRequired:function(e){if(r(e,"IneligibleToPurchase")){if(!t.default.isEnabled("newerrors")){var n=e.innererror&&e.innererror.data&&e.innererror.data.length&&e.innererror.data[3],i=JSON.parse(n)
return Array.isArray(i)&&(i=i[0]),i.RemediationId&&"averemediation"===i.RemediationId.toLowerCase()}var a=Ember.get(e,"innerError.innererror.data.3")
if(a){var o=void 0
try{o=JSON.parse(a)}catch(e){return!1}return Array.isArray(o)&&o.length&&(o=o[0]),"averemediation".equalsIgnoreCase(o.RemediationId)}}return!1},isErrorWithCode:r,upgradeWithConsent:function(e){return!!(this.userConsentRequired(e)&&e.innerError&&e.innerError.innererror&&e.innerError.innererror.PurchaseLineItemExceptionContext&&e.innerError.innererror.PurchaseLineItemExceptionContext.length&&e.innerError.innererror.PurchaseLineItemExceptionContext[0].ConvertibleProducts&&e.innerError.innererror.PurchaseLineItemExceptionContext[0].ConvertibleProducts.length&&e.innerError.innererror.PurchaseLineItemExceptionContext[0].ConvertibleProducts.some(function(e){return e.ConversionType&&e.ConversionType.equalsIgnoreCase("UpgradeWithConsent")}))},conversionBlockedForXaaSubscription:function(e){return r(e,"ConversionBlockedForXaaSubscription")}}}),define("sfw-services/utils/error-types",["exports","sfw-services/utils/blend-service-errors"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var r=void 0
e.default={get:function(e){var t="system"
return e&&(n.containsAnyIgnoreCase(e)?t="user":i.containsAnyIgnoreCase(e)&&(t="network")),t},canDisplay:function(e){return r||(r=a.concat(t.default.getAllNames())),r.containsAnyIgnoreCase(e)}}
var n=["AccountResourceNotFound","AmountLimitExceeded","AuthenticationFailure","AuthorizationExpired","AuthorizationFailed","BannedPaymentInstrument","BlockedByAgeInFamily","BlockedByFamilyPolicy","BlockedByPolicy","BillableAccountCountryNotMatched","CannotPurchasePreviousOrderInDunning","ChallengeFailure","ChallengeTimedOut","CannotPurchaseWithActiveRecurrencePastGracePeriod","ConversionBlockedCurrencyCountryMismatch","ConversionBlockedDueToDuplicateSubscriptions","ConversionBlockedForXaaSubscription","ConversionBlockedSameDayUpgradeNotSupported","ConversionBlockedSyndicated","ConversionConsentRequired","ConversionUnavailable","CoversionBlockedSyndicated","CsvAuthorizationFailed","CsvCountryNotSupported","CsvCurrencyMismatch","CsvTokenExpired","CvvValueMismatch","DeclinedByPayPal","DeclinedPaymentInstrument","ErrorPaymentInstrumentInDecline","ErrorInvalidPaymentInstrument","ExceedRetryMaximum","ExpiredCard","ExpiredPaymentInstrument","Forbidden","GameplayTokenRedemptionFailureForGoldUser","GeoRestricted","GuestAccountPurchaseFailure","InsufficientFund","InsufficientFunds","InvalidAddress","InvalidAddressFieldsCombination","InvalidChallengeCode","InvalidCvv","InvalidLegacyResource","InvalidOrderData","InvalidPaymentInstrument","InvalidPaymentInstrumentInfo","InvalidPaymentInstrumentForProduct","InvalidPostalCode","InvalidSandboxIdForModernUpgradeConversion","InvalidZipCode","MigrateSubscriptionHasInvalidBalanceStatus","MaturityRatingsDenialUserInFamily","MaturityRatingsDenialUserNotInFamily","MissingAuthTokenCookieBlocking","MismatchedProductForStackingAction","ConversionBlockedByExistingEntitlement","MOAccountBarred","MOAccountNotFound","MOAccountNotEnabled","MultiplePurchasesNotSupportedForOffer","NotActivePiStatus","Office365ServicesRenewalNotEligible","OrderInProgress","PaymentInstrumentAddAlready","PaymentInstrumentNotFound","PaymentInstrumentValidationFailed","ProcessorDeclined","ProcessorRiskCheckDeclined","ProdPromoGiftQtyLimit","PendingPaypal","PromoGiftQtyLimit","PurchaseBlockedExistingSharedSubscription","PurchaseBlockedNewCustomersOnly","PurchasePolicyRestriction","PurchaseBlockedSubscriptionShared","PurchaseRejected","RedeemTokenAlreadyRedeemed","RedeemTokenExpired","RedeemTokenStateError","RedeemInternalServerError","RedeemTokenUnauthorized","ResourceNotFound","RiskChallengeRequired","1539","RiskRejected","RiskRejected-Web","RiskRejected-CrossRegion","RiskRejected-BankDeclineLimit_Reject","RiskRejected-CrossBorderPolicy_Reject","RiskRejected-PreorderPrepaid_Reject","RiskRejected-PrepaidBIN_Reject","RiskRejected-ExpiredCC_Reject","RiskRejected-TradeEmbargo_Reject","RiskRejected-Reshipper_Reject","RiskRejected-PremiumSkuLimit_Reject","RiskRejected-MXIntCard_Reject","RiskRejected-CSVLimit_Reject","RiskRejected-GiroCSV_Reject","RiskRejected-HighLimit_Reject","RiskRejected-XboxDD_Reject","RiskRejected-XboxEnf_Reject","RiskRejected-XIN_Reject","RiskRejected-BOPIS_Reject","RiskRejected-ParentalControl_Reject","RiskRejected-MSCompleteSkuMismatch_Reject","RiskRejected-SubOnly_Reject","RiskRejected-Trials_Policy","RiskRejected-TrialsPolicy_Reject","RiskRejected-EmShutdown_Reject","RiskRejected-GiftingLimit_Reject_Account","RiskRejected-GiftingLimit_Reject_Device","RiskRejected-GiftingLimit_Reject_PI","RiskRejected-GiftingLimit_Reject_PI_ProductId","RiskRejected-GiftingLimitRejectDeviceProductId","RiskRejected-GiftingLimitRejectAccountProductId","RiskTokenRedeemNotAllowedInCountry","TokenNotFound","TokenNotInRedeemableState","TokenNotSupported","TokenOfferExpired","TooManyOperations","TooManyRequests","TransactionNotAllowed","UserAlreadyOwnsContent","ValidationFailed","XboxSubscriptionsBdkInvalidPaymentMethodId","XboxSubscriptionsBillingPaymentProviderDecline","XboxSubscriptionsInvalidSubscriptionStatus","XboxSubscriptionsMaxDurationExceeded","XboxSubscriptionsMaxOwnershipExceeded","XboxSubscriptionsMismatchedMarketAndLanguage","XboxSubscriptionsPiInDecline","XboxSubscriptionsTransactionAuthFailed","WarningForMaturityAgeGating","MaxAskToBuyRequestReached","StackingTrialOnNonTrialNotSupported","ValidatePIOnAttachFailed","MOValidationFailed","AccountNotFound","PurchaseBlockedByFamilyPolicy","InteractionRequired","Multiple","None","NotValidated","PremisesPartial","StreetPartial","AddressNeedsFieldsForShipping","AvailabilityNotFound","BopisItemRemovedAndAddedAsOnlineOnly","correctInvalidBundleItemAvailability","DomainDataUrlNotFound","EmptyDomainType","ErrorAddingPaymentMethodToProfile","FailedLineItemsInMigration","IdealRedirectForIncorrectRegion","IncompleteAddressDeletionFailedInStore","IncorrectAddressCombinationErrorForPi","InvalidBundleInputForCorrectForMissingAvailabilities","InvalidItemsForInventoryBulkQuery","InvalidPaymentMethod","InvalidUrlForInventoryBulkQuery","LoadPiFromAddAsyncPiError","MaxQuantityExceededForTotalOrder","MissingAddressErrorForPi","MissingUserAddress","NoAddressIdInProfile","NoFriendlyNameForFindOrderByFrienndlyName","NoInputForAddItemsToOrder","NoOrderIdForfindOrderByOrderId","NoPiMethodInUserPiMethodsError","NoSourceOrderIdForMigration","NoShippingMethodsAvailable","NoTargetOrderIdForMigration","PerformanceCapture","PiRequiresSameShippingAndBillingRegion","ProfileUpdateFailed","PurchaseOrderChanged","QuantityLimitExceeded","SapiSignInError","SelectedShippingAddressNotSetInOrder","SelectedSoldToAddressNotSetInOrder","SessionTimedOutSapiSignInError","SessionTimedOutSignInError","TaxIdErrorForPi","UnknownTaxTypeInStartData","WarrantyCannotBePurchasedInRegion","XboxControllerSetupFailed","invalid_address_fields_combination","invalid_postal_code","invalid_region","invalid_field_length","invalid_field_value","profile_already_exists","XboxSubscriptionsBillingInvalidPIStatus","InvalidAlipayAccount","DelegatedAuthTokenNotFound","XboxSubscriptionsPIAuthFailed","XboxSubscriptionsBillingInvalidAccountStatus","NoBillingAddressForCountryCode","MobiTokenFetchTimeout","RejectedByProvider","SessionExpired","UserMobileNotMatch","InvalidCreditCardType","MaxStackingDurationExceeded","BillingAccountWithoutAddress","IneligibleToPurchase","BillingAccountAndOfferingCountryMismatch","GetConvertibleSubscriptionActionError","TaxIdError","WarrantyGoodCannotBePurchasedAlone","XboxSubscriptionsServiceBadRequest","postal_code","RiskDeviceTrialLimitExceeded","RiskPolicyRejected","OmniChannelInventoryOutOfStockOrNotAvailable","XboxPurchaseInvalidPaymentInstrumentId","XOnlineAccountsNonXenonUser","OfferNotFound","CsvDepositLimitExceeded","TokenFormatInvalid","PrerequisiteProfileMissing","TokenNotSupportedXboxOneContent","TokenNotSupportedSubscription","60000","XboxPurchaseTokenNotValidForOffer","TokenNotSupportedXbox360Content","CsvTokenInvalid","XboxPurchaseVoucherInvalidForUserTier","XboxPurchaseMismatchedMarketAndLanguage","TokenAlreadyInRedeemedState","InvalidCity","XboxPurchaseAccountInactive","TokenExpired","InvalidOfferId","PurchasePending","InvalidToken","ClaimMissing","InvalidProperty","expired_token","SubscriptionTrialNotEligible","UserIsNotSignedIn","formValidationFailed","propertyValidationFailed","needToCorrectLineItems","noLineItems","eligibilityCheckFailure","InvalidDeliveryCostInfoType","TryingToNavigateToMSA"],i=["Timeout","Unreachable","Aborted"],a=["Abandoned","AccessDenied","AccountNotFound","AccountResourceNotFound","AccountServiceCallFailed","AlwaysTriggerRollbackRequiresTestScenario","AmbiguousHeader","AmountLimitExceeded","AuthenticationFailure","AuthorizationExpired","AuthorizationFailed","AutopilotPkiCertificateMissing","BadRequest","BannedPaymentInstrument","BeneficiaryHasInvalidXboxAccount","BeneficiaryHasNoMusiwaveAccount","BeneficiaryHasNoXboxAccount","BillingAccountWithoutAddress","BillingJournalStreamNotFound","BlockedByFamilyPolicy","BlockedTargetOffer","BokuServiceCallFailed","CatalogAvailabilityDataNotFound","CatalogAvailabilityOrderManagementDataInvalid","CatalogDataNotFound","CatalogEntitlementMetadataMissing","CatalogMarketPropertiesDataMissing","CatalogProductDataNotFound","CatalogRatingIdFormatInvalid","CatalogRatingsDataMissing","CatalogRedeemActionNotFound","CatalogSkuDataInvalid","CatalogSkuDataMissing","CatalogSkuDataNotFound","CatalogSkuOrderManagementDataInvalid","ClientCertificateAuthorizationFailed","ConcurrencyFailure","Conflict","ConflictTrackingId","ContentExceedsLimit","ConversionBlockedAbandonedSubscription","ConversionBlockedAccountClosed","ConversionBlockedAccountLocked","ConversionBlockedAlreadySubscribed","ConversionBlockedAutomaticCancelRequired","ConversionBlockedCurrencyCountryMismatch","ConversionBlockedForXaaSubscription","ConversionBlockedManualCancelRequired","ConversionBlockedMultipleSubscriptions","ConversionBlockedOverSeatLimit","ConversionBlockedPendingSubscription","ConversionBlockedSameDayUpgradeNotSupported","ConversionBlockedSourceOfferFailedValidation","ConversionBlockedSubscriptionViolations","ConversionBlockedSuspendedSubscription","ConversionBlockedSyndicated","ConversionBlockedSyndicatedAutoRenewOff","ConversionBlockedSyndicatedCancelRequired","ConversionBlockedSyndicatedDifferentPartner","ConversionBlockedSyndicatedWrongOffer","ConversionBlockedUseCurrentOffer","CouldNotStartOperation","CountryNotSupported","CPBillingUnavailable","CPModernPaymentInstrumentServiceBadRequest","CPModernPaymentInstrumentServiceUnavailable","CPPaymentInstrumentCvvValueMismatch","CPPaymentInstrumentInvalidInput","CPTimeout","CPUnavailable","CsvChannelSkuMappingNotFound","CsvCurrencyMismatch","CsvDepositLimitExceeded","CtpTransactionServiceUnavailable","CvvValueMismatch","DeclinedByPayPal","DeclinedPaymentInstrument","DeviceDoesNotExist","DevicehasClaimExist","DeviceHasExtendedWarranty","DeviceNotBoughtFromMicrosoft","DisplayCatalogUnavailable","DocumentNotFound","DuplicateOrderId","DuplicateQueryParameter","DuplicateRequestParameter","EditableOrderWithSameFriendlyName","EligibleDateCutoffExceeded","EmptyTargetOfferId","EntitlementDoesNotAutoRenew","EntitlementRenewalInformationChanged","EntitlementRenewalMisconfigured","EntitlementsError","EntitlementsFDUnavailable","ErrorEmptyOfferId","ErrorEmptyProvisionOfferInfoObject","ErrorEmptyTransactionId","ErrorEmptyUserInfoObject","ErrorGetAccountIdRetrieve","ErrorInvalidActionForPrePaidOffer","ErrorInvalidOfferIdOrCategory","ErrorInvalidPaymentInstrument","ErrorInvalidRenewalPath","ErrorInvalidSubscriptionId","ErrorInvalidSyndicatedPartner","ErrorInvalidTokenHashAlgorithm","ErrorInvalidTokenInstanceType","ErrorNullInputObject","ErrorOfferCacheNotLoaded","ErrorOfferFailedPurchaseValidation","ErrorPaymentInstrumentAccountMismatch","ErrorPaymentInstrumentInDecline","ErrorPaymentInstrumentNotAllowed","ErrorProvisionFailed","ErrorRedirectionTo3DSRequired","ErrorRedirectionToCVVRequired","ErrorServiceIsDisabled","ErrorSubscriptionAlreadyDelayedExpire","ErrorSubscriptionNotDelayedExpire","ErrorSubscriptionWouldExceedMaxDuration","ErrorSubscriptionWouldExceedMaxOwnership","ErrorUnableToCancelSubscription","ErrorUnableToDecryptAccountId","ErrorUnableToEncryptAccountId","ErrorUnableToParseGuid","ErrorUnableToRetrieveConvertibleSubscription","ErrorUnableToRetrieveDetails","ErrorUnableToRetrieveSubscriptionReferrer","ErrorUnableToSwitchPaymentInstruments","ErrorUnableToValidateLicenseProvisioning","ErrorUnexpected","ExceededMaxAllowed","Exception","ExpiredCard","ExpiredPaymentInstrument","ExpiredTargetOfferId","Expired_Token","FamilySettingsError","FamilySettingsUnavailable","FinancialInstructionDomainDataInvalid","Forbidden","Generic","GeoRestricted","GuestAccountPurchaseFailure","IdentityMissing","IncorrectPinOrPasscode","InstrumentStoreServiceCallFailed","InsufficientFund","InsufficientFunds","InsufficientPermission","InternalAadAuthenticationError","InternalError","InternalRpsAuthenticationError","InternalServerError","InvalidAadObjectIdFormat","InvalidAccount","InvalidAccountHolder","InvalidAddress","InvalidAddressFieldsCombination","InvalidApiVersion","InvalidArgument","InvalidBankCode","InvalidBeneficiary","InvalidClassicProductParameter","InvalidCombinationOfTslTokenItemAndNonTokenLineItems","InvalidContent","InvalidContinuationToken","InvalidConversion","InvalidCPAccountIdentity","InvalidCreditCardType","InvalidDeviceIdFilter","InvalidETag","InvalidExpiryDate","InvalidFieldLength","InvalidFieldValue","InvalidForwardingRequest","InvalidHeader","InvalidIdentityFormat","InvalidIdentityNamespace","InvalidInput","InvalidLegacyResource","InvalidMsaHardwareIdFormat","InvalidMsaPuidFormat","InvalidOperation","InvalidOrderManagementPolicy","InvalidOrderStateForOperation","InvalidParameter","InvalidParameterLength","InvalidPaymentInstrument","InvalidPaymentInstrumentForProduct","InvalidPaymentInstrumentInfo","InvalidPaymentMethodFamilyOrType","InvalidPaymentMethodInPGW","InvalidPrincipal","InvalidProfileDataInput","InvalidProperty","InvalidQueryStringParameter","InvalidRequestBody","InvalidRequestData","InvalidRequestFormat","InvalidRequestParameter","InvalidRequestUri","InvalidResource","InvalidResponseProperty","InvalidSiteName","InvalidState","InvalidTargetOfferId","InvalidTenantIdFormat","InvalidTokenType","InvalidUserId","InventoryNeverAugmented","LegacyApiCallFailureException","MalformedHeader","MandateNotApproved","MarketNotSupportedForLineItems","MaturityRatingsDenialUserInFamily","MaturityRatingsDenialUserNotInFamily","MismatchedUserIdentity","MissingContent","MissingDeviceIdentityForOperatingSystemPurchase","MissingDurationForRecurringPurchase","MissingFundingSource","MissingHeader","MissingOrInvalidHeader","MissingPaymentInstrumentId","MissingProperty","MissingQueryStringParameter","MissingRequestBody","MissingRequestData","MissingRequiredParameter","MOAccountBarred","MOAccountNotEnabled","MOAccountRecycled","MultipleActiveRenewableEntitlementFound","MultipleAddressesAndNoDefault","MultipleMsaDeviceTokensInAuthorizationHeader","MultiplePurchasesNotSupportedForOffer","MultipleUserTokensInAuthorizationHeader","NoApiVersion","NoBillingAddressForAddressId","NoBillingAddressForCountryCode","NoEntitlementFound","NoEntitlementRenewalInformation","NonCsvGiftingNotAllowed","NonMsaBeneficiaryCannotGetMusicContent","NoOrderLineItems","NoRenewalInformation","NotEligible","NotFound","NoTrackingId","Office365ServicesRenewalNotEligible","OperationExceedsTimeout","OperationNotSupported","OrderLocked","OutstandingBalance","PaymentInstrumentAddAlready","PaymentInstrumentAlreadyActive","PaymentInstrumentAlreadyAdded","PaymentInstrumentCountryMismatch","PaymentInstrumentFDUnavailable","PaymentInstrumentNotFound","PaymentInstrumentValidationFailed","PaymentMethodTypeOrFamilyNotSupported","PayPalLoginFailed","PhysicalCountryAndCatalogMarketMismatch","PreconditionFailed","PreinstalledOfferConversionDowngrading","PreinstalledOfferNotFoundValidation","PrerequisiteProfileMissing","ProcessorDeclined","ProcessorInternalError","ProcessorUnreachable","ProductTypeNotSupported","ProdPromoGiftQtyLimit","PromoGiftQtyLimit","PromotionalTargetedOfferServiceUnavailable","PromotionalTargetedOfferValidationFailed","PurchaseBlockedAccountLimitReached","PurchaseBlockedExistingCustomersOnly","PurchaseBlockedExistingSharedSubscription","PurchaseBlockedNewCustomersOnly","PurchaseBlockedNoExistingSubscription","PurchaseBlockedSubscriptionShared","PurchaseNotSupported_Obsolete","PurchaserCannotAcquireOfficeSubscription","RefundQuantityMustMatchPurchaseQuantity","RefundsNotSupportedForCsvPurchase","RenewalBlockedByFamilyPolicy","RequestNotSecure","RequiredFieldMissing","RequiredLineItemsMissing","RequiredParameterMissing","RequiredProxyTicketEmpty","ResourceAlreadyExists","ResourceNotFound","RiskRejected-CrossRegion","RiskTokenRedeemNotAllowedInCountry","ServiceCallFailed","ServiceUnavailable","ServiceVersionAndOrderStateIncompatible","SessionExpired","SessionIdAlreadyExists","SmsServiceCallFailed","SqlAccessError","StackingTrialOnNonTrialNotSupported","StartDateGreaterThanEndDate","StorageFDUnavailable","StorageInternalServerError","StorageServiceUnavailable","SubscriptionsNotCanceled","TargetOfferFailedValidation","TaxIdError","TaxTypeNotFound","TokenStateServiceBadRequest","TokenStateServiceNotFound","TokenStateServiceUnavailable","TokenStateServiceUnknownError","TooManyOperations","TransactionNotAllowed","TvodLegacyReturnedServiceFault","TvodUnknownError","UnableToCleanupOrder","UnableToDecodeTsl","UnableToParseTsl","Unauthorized","UnauthorizedAccess","UnknownBillingAccountError","UnknownBillingAccountFault","UnknownBillingFault","UnknownError","UnknownExternalError","UnknownInternalFailure","UnknownJarvisFault","UnknownMusiwaveError","UnknownPaymentInstrumentManagementError","UnknownResponseError","UnknownServerError","UnknownTargetOfferType","UnknownXboxSubscriptionsError","UnsupportedCatalogProductType","UnsupportedCatalogSchemaTypeForTokenPurchase","UnsupportedContractVersion","UnsupportedFeature","UnsupportedOrderLineItemStateChange","UserAlreadyOwnsContent","UserMarketNotMatchedInPolicyRegion","ValidationFailed","VerifyOnWeb","XboxSubscriptionsBillingAccountWithoutAddress","XboxSubscriptionsBillingPaymentProviderDecline","XboxSubscriptionsInsufficientFunds","XboxSubscriptionsInvalidSubscriptionStatus","XboxSubscriptionsPiInDecline","XboxSubscriptionsMaxDurationExceeded","XboxSubscriptionsMaxOwnershipExceeded","XboxSubscriptionsMismatchedMarketAndLanguage","XboxSubscriptionsServiceBadRequest","XboxSubscriptionsServiceNotFound","XboxSubscriptionsServiceUnavailable","XboxSubscriptionsTransactionAuthFailed","WarrantyCannotBePurchasedInMarket","WebException"]}),define("sfw-services/utils/external-urls",["exports","sfw-services/utils/tokenized-url","sfw-telemetry/utils/start-data"],function(e,t,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i={},a={}
e.default={get:function(e,o){if(!i[e])return null
if("string"==typeof i[e]){var s={deviceIdFilter:!0}
if(!(o=o||{}).omitCountry){var l=o.country||r.default.get().Market
s.regionCode=l,s.country=l}return o.omitCurrency||(s.currency=o.currencyCode||r.default.get().CurrencyCode||""),$.extend(s,a),t.default.create({formatUrl:i[e]}).replace(s)}return"object"===n(i[e])?i[e]:null},set:function(e){i=e},addDefaults:function(e){$.extend(a,e)},clear:function(){i={}}}}),define("sfw-services/utils/format-price",["exports","sfw-services/utils/strings","sfw-telemetry/utils/start-data"],function(e,t,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var n=function(e){return String.prototype.isNullOrWhitespace(e)?"":(e+"").trim()}
e.default={getPriceFormatForTaxString:function(e,i,a){e=n(e).toLowerCase()
var o=t.default.Purchase_Label_WithApplicableTax_Formatted
return"AR".equalsIgnoreCase(r.default.get().Market)?o=t.default.Purchase_Label_WithApplicableTax_Formatted:!["fr-lu","fr-ch","fr-be"].containsAnyIgnoreCase(r.default.get().Culture)||"vatincluded"!==e&&"gstincluded"!==e&&"consumptiontaxincluded"!==e&&"salestax"!==e?"noapplicabletaxes"===e||null!==i&&1*i==0?o="{0}":"vatincluded"===e?o=t.default.Purchase_Label_WithVatTax_Formatted:"gstincluded"===e&&EmberENV.shoppingCart?o=t.default.Purchase_Label_WithGstTax_Formatted:"gstincluded"===e||"consumptiontaxincluded"===e||"salestax"===e?o=t.default.Purchase_Label_WithOtherTax_Formatted:"taxesnotincluded"===e&&a?o="{0}":"vatincludedwithipt"===e?o=t.default.Purchase_Label_WithIPTTax_Formatted:"gstincludedwithipt"===e?o=t.default.Purchase_Label_WithGPT_and_IPTTax_Formatted:"taxesnotincludedwithipt"===e&&(o=t.default.Purchase_Label_WithIPT_TaxNotIncluded_Formatted):o="{0} TVA incluse",o.replace("{0}","{formattedPriceDisplay}")},getPriceFormatForTaxStringSaturn:function(e,i,a,o){e=n(e).toLowerCase()
var s=t.default.Purchase_Label_WithApplicableTax_Formatted
return"AR".equalsIgnoreCase(r.default.get().Market)?s=t.default.Purchase_Label_WithApplicableTax_Formatted:!["fr-lu","fr-ch","fr-be"].containsAnyIgnoreCase(r.default.get().Culture)||"vatincluded"!==e&&"gstincluded"!==e&&"consumptiontaxincluded"!==e&&"salestax"!==e?"noapplicabletaxes"===e||null!==i&&1*i==0?s="{0}":a?s="{0}":"vatincluded"===e?s=t.default.Purchase_Label_WithVatTax_Formatted:"gstincluded"===e&&EmberENV.shoppingCart?s=t.default.Purchase_Label_WithGstTax_Formatted:"gstincluded"===e||"consumptiontaxincluded"===e||"salestax"===e?s=t.default.Purchase_Label_WithOtherTax_Formatted:"vatincludedwithipt"===e?s=t.default.Purchase_Label_WithIPTTax_Formatted:"gstincludedwithipt"===e?s=t.default.Purchase_Label_WithGPT_and_IPTTax_Formatted:"taxesnotincludedwithipt"===e&&(s=t.default.Purchase_Label_WithIPT_TaxNotIncluded_Formatted):s="{0} TVA incluse",o?s.replace("{0}",""):s.replace("{0}","{formattedPriceDisplay}")},getPriceForTaxString:function(e,t,r){return e=n(e).toLowerCase(),r||0!==t||(r=t),"taxesnotincluded"===e&&(t=r),i=parseFloat(t),isNaN(i)?"":i.toFixed(2)
var i},getBasicPriceFormatString:function(){return"{formattedPriceDisplay}"},getLocalizedRecurrencePriceDuration:function(e){switch(e.toLowerCase()){case"year":return t.default.Subscribe_Charge_Frequency_Yearly
case"month":return t.default.Subscribe_Charge_Frequency_Monthly
case"week":return t.default.Subscribe_Charge_Frequency_Weekly
case"day":return t.default.Subscribe_Charge_Frequency_Daily}}}}),define("sfw-services/utils/get-local-date",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,t,r){var n=e||r
if(n){var i=new Date(n),a=!isNaN(i.getDate())
if(a&&t)return i.toLocaleDateString(t)
if(a)return i.toLocaleDateString()}return null}}),define("sfw-services/utils/image-selector",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=function(e){var t=null,r=99999
if(e&&Array.isArray(e)){if(e.forEach(function(e){"tile"===e.ImagePurpose.toLowerCase()&&e.Height===e.Width&&e.Height>67&&e.Height<r&&(r=e.Height,t=0===e.Uri.indexOf("//")?"https:"+e.Uri:e.Uri)}),t)return t
if(e.forEach(function(e){"tile"===e.ImagePurpose.toLowerCase()&&(t=0===e.Uri.indexOf("//")?"https:"+e.Uri:e.Uri)}),t)return t
if(e.forEach(function(e){"logo"===e.ImagePurpose.toLowerCase()&&(t=0===e.Uri.indexOf("//")?"https:"+e.Uri:e.Uri)}),t)return t
if(e.forEach(function(e){"boxart"===e.ImagePurpose.toLowerCase()&&(t=0===e.Uri.indexOf("//")?"https:"+e.Uri:e.Uri)}),t)return t}return null}}),define("sfw-services/utils/language-mapper",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default={de:"de-DE",en:"en-GB",fr:"fr-FR",it:"it-IT",nl:"nl-NL",da:"da-DK",sv:"sv-SE",fi:"fi-FI",es:"es-ES",pt:"pt-PT",zh:"zh-CN",ja:"ja-JP"}}),define("sfw-services/utils/map-omex-not-eligible-error",["exports","sfw-telemetry/utils/flight-config","sfw-services/errors/base-error"],function(e,t,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default={getError:function(e){if(!e)return null
if(t.default.isEnabled("newerrors")){if("UnknownOmexValidationError"===e.code){var n=e.innerError.innererror.PurchaseLineItemExceptionContext
if(n&&n[0]&&"BDK_E_EXCEEDS_MAXIMUM_DURATION"===n[0].FailureReason)return new r.default(e.prefix,"ErrorSubscriptionWouldExceedMaxDuration",e.message,e.innerError,e.sourcePage)}if("BDK_E_EXCEEDS_MAXIMUM_DURATION"===e.innerError.innererror.data[1])return new r.default(e.prefix,"ErrorSubscriptionWouldExceedMaxDuration",e.message,e.innerError,e.sourcePage)}else{var i
if("UnknownOmexValidationError"===e.code&&e.innererror){var a=e.innererror.PurchaseLineItemExceptionContext&&e.innererror.PurchaseLineItemExceptionContext.length>0&&e.innererror.PurchaseLineItemExceptionContext[0]
a&&"BDK_E_EXCEEDS_MAXIMUM_DURATION"===(i=a.FailureReason)&&(i="ErrorSubscriptionWouldExceedMaxDuration")}if(!i&&"Unauthorized"!==e.code&&("NotEligible"!==e.code||(e.data||[]).length<3||"PurchaseValidationFailed"!==e.data[0]||!e.data[1]))return e
e.innererror&&e.innererror.data&&e.innererror.data.length>1&&"BDK_E_EXCEEDS_MAXIMUM_DURATION"===(i=e.innererror.data[1])&&(i="ErrorSubscriptionWouldExceedMaxDuration"),i&&(e.code=i,e.name=e.source+"-"+i,e.code=i,e.innererror.code=i)}return e}}}),define("sfw-services/utils/market-specific",["exports","sfw-telemetry/utils/start-data","sfw-services/utils/post-purchase-survey-map","sfw-telemetry/utils/flight-config"],function(e,t,r,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var i=["AU","AT","BR","CA","DK","FIN","FR","DE","IE","IT","JP","MX","NL","NZ","NO","ES","SE","CH","UK","US"],a=["AU","AT","BE","CA","DK","FIN","FR","DE","IE","IT","JP","NL","NZ","NO","PL","PT","SG","ES","SE","CH","UK","US"],o=["BR","GR","HU","SK"],s=["IN"],l=["IN"]
e.default={isPiAllowedInMarket:function(e,r){var i=t.default.get().Market
if(e=e&&e.toLowerCase&&e.toLowerCase(),r=r&&r.toLowerCase&&r.toLowerCase(),!i||!i.toLowerCase)return!0
switch(i.toLowerCase()){case"cn":switch(e){case"mobile_carrier_billing":return!0
case"credit_card":return"unionpay_debitcard"===r||"unionpay_creditcard"===r
case"ewallet":switch(r){case"alipay":case"alipay_billing_agreement":return!0
default:return!1}default:return!1}case"co":return n.default.isEnabled("amexco")||"credit_card"!==e||"amex"!==r
default:return!0}},showPostPurchaseSurvey:function(){return r.default.showPostPurchaseSurvey(t.default.get().Market)},showMoviesTVMarkets:function(){var e=t.default.get().Market&&t.default.get().Market.toUpperCase()||""
return i.includes(e)},showPhysicalDigitalMarkets:function(){var e=t.default.get().Market&&t.default.get().Market.toUpperCase()||""
return a.includes(e)},showAccessoriesDigitalMarkets:function(){var e=t.default.get().Market&&t.default.get().Market.toUpperCase()||""
return o.includes(e)},showCreditCardPurgeText:function(e){var r=t.default.get().Market&&t.default.get().Market.toUpperCase()||""
return n.default.isEnabled("creditcardpurge")&&e&&s.includes(r)},showLongCreditCardPurgeText:function(e){var r=t.default.get().Market&&t.default.get().Market.toUpperCase()||""
return n.default.isEnabled("creditcardpurgelong")&&e&&s.includes(r)},hideCreditCardExpiryDate:function(){var e=t.default.get().Market&&t.default.get().Market.toUpperCase()||""
return n.default.isEnabled("hidecreditcardexpiry")&&l.includes(e)}}}),define("sfw-services/utils/name-pidl",["exports","sfw-services/utils/strings"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return[{data_description:{first_name:{display_description:t.default.First_Name_Label,display_name:t.default.First_Name_Label,is_key:!1,is_optional:!1,is_updatable:!0,type:"string",validation:{validationType:"regex",regex:"^[- a-zA-Z-]{1,64}$",error_code:"invalid_first_name",error_message:t.default.First_Name_Validation_Error_Message}},last_name:{display_description:t.default.Last_Name_Label,display_name:t.default.Last_Name_Label,is_key:!1,is_optional:!1,is_updatable:!0,type:"string",validation:{validationType:"regex",regex:"^[- a-zA-Z-]{1,64}$",error_code:"invalid_last_name",error_message:t.default.Last_Name_Validation_Error_Message}}},displayDescription:[{displayName:t.default.First_Name_Label,displayPropertyDescription:t.default.First_Name_Label,displayId:"first_name",displayType:"property",propertyName:"first_name"},{displayName:t.default.Last_Name_Label,displayPropertyDescription:t.default.Last_Name_Label,displayId:"last_name",displayType:"property",propertyName:"last_name"}],identity:{description_type:"name",type:"consumer",country:"us"},links:{self:{},commercejs:{}}}]}}),define("sfw-services/utils/new-expiration-date",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,t,r){var n=e&&e.innerError&&e.innerError.innererror&&e.innerError.innererror.PurchaseLineItemExceptionContext&&e.innerError.innererror.PurchaseLineItemExceptionContext.length&&e.innerError.innererror.PurchaseLineItemExceptionContext[0].NewExpirationDate||r
if(n){var i=new Date(n),a=!isNaN(i.getDate())
if(a&&t)return i.toLocaleDateString(t)
if(a)return i.toLocaleDateString()}return null}}),define("sfw-services/utils/new-xaa-expiration-date",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,t){var r=e&&e.innerError&&e.innerError.innererror&&e.innerError.innererror.data||null
if(r&&Array.isArray(r)){var n=r[4]||null
if(n){var i=new Date(n),a=!isNaN(i.getDate())
if(a&&t)return i.toLocaleDateString(t)
if(a)return i.toLocaleDateString()}}return null}}),define("sfw-services/utils/operation-queue",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var t=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r]
n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),r=function(){function e(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this._queue=[],this._currentOperation=null}return t(e,[{key:"_startNext",value:function(){this._currentOperation=this._queue.shift(),this._currentOperation&&this._currentOperation()}},{key:"do",value:function(e){var t=this
if("function"!=typeof e)throw new Error("operation queue do() expects a function that returns a promise, but got something that was not a function")
return new Ember.RSVP.Promise(function(r,n){t._queue.push(function(){return e().then(function(e){r(e)},function(e){n(e)}).finally(function(){return t._startNext()})}),t._currentOperation||t._startNext()})}}]),e}()
e.default=r}),define("sfw-services/utils/order-pi-context",["exports","sfw-telemetry/utils/start-data","sfw-telemetry/utils/cookie","sfw-services/services/payment-instrument","sfw-telemetry/utils/blend-bi-tracker"],function(e,t,r,n,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var a=function(e,t){return!e&&!t||!(!e||!t)&&e.toLowerCase()===t.toLowerCase()}
e.default={saveContext:function(e,n,a,o,s){var l=t.default.get(),u=function(e,t,r,n,i,a,o){return e=e||"",t=t||"",r=r||"",n=n||"",i=i||"",a=a||"",o=o||"",(e+"&"+t+"&"+r).toLowerCase()+"&"+n+"&"+i+"&"+a+"&"+o}(l.ProductId,l.AvailabilityId,l.SkuId,e,n,a,o)
try{r.default.setCookie("OrderPiContext",u)}catch(e){i.default.captureAddPiStatePageAction("Failed",{pageName:s,sessionId:n,piStatus:"none",errorDetail:e})}},restoreContext:function(e){var o,s,l={},u=r.default.getCookie("OrderPiContext")
if(r.default.deleteCookie("OrderPiContext"),u&&(s=(o=u)&&o.split&&o.split("&"),l=7===s.length?{productId:s[0],availabilityId:s[1],skuId:s[2],orderId:s[3],sessionId:s[4],piId:s[5],backupPiId:s[6]}:null)){var d=t.default.get()
if(!d.ProductId||a(d.ProductId,l.productId)&&a(d.AvailabilityId,l.availabilityId)&&a(d.SkuId,l.skuId)){if(l.piId)return n.default.getPaymentInstrument(l.piId).then(function(t){l.piStatus=t.status
var r="pending".equalsIgnoreCase(t.status)&&t.details&&"picv".equalsIgnoreCase(t.details.pendingOn)
return l.pendingOnPicv=r,"active"===t.status||r?i.default.captureAddPiStatePageAction("Success",{pageName:e,sessionId:l.sessionId,piStatus:l.piStatus,pendingOnPicv:r}):i.default.captureAddPiStatePageAction("Failed",{pageName:e,sessionId:l.sessionId,piStatus:l.piStatus}),l},function(t){return l.piStatus="error",i.default.captureAddPiStatePageAction("Failed",{pageName:e,sessionId:l.sessionId,piStatus:"none",errorDetail:t}),l})
i.default.captureAddPiStatePageAction("Failed",{pageName:e,sessionId:l.sessionId,piStatus:"none",errorDetail:"Missing PI info in async pi context"})}}return Ember.RSVP.resolve(l)}}}),define("sfw-services/utils/pidl-data",["exports","sfw-services/utils/strings"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function e(t,r,n){var i
if(r)for(var a in r){if(r.hasOwnProperty(a))if(a===t&&"[object Object]"===Object.prototype.toString.call(r[a]))(i=r[a]).parentNode=n
else if("[object Object]"===Object.prototype.toString.call(r[a]))i=e(t,r[a],n)
else if("[object Array]"===Object.prototype.toString.call(r[a])&&r[a].length)for(var o=0;o<r[a].length;o++)if("[object Object]"===Object.prototype.toString.call(r[a][o])&&(n=a,i=e(t,r[a][o],n)))return i
if(i)return i}return null},i=function e(t,r){if(r)for(var n in r)if(r.hasOwnProperty(n)){if(n===t)return delete r[n],!0
if("[object Object]"===Object.prototype.toString.call(r[n])){if(e(t,r[n]))return!0}else if("[object Array]"===Object.prototype.toString.call(r[n])&&r[n].length)for(var i=0;i<r[n].length;i++)if("[object Object]"===Object.prototype.toString.call(r[n][i])&&e(t,r[n][i]))return!0}return!1}
e.default={findPidlModelByDisplayIndex:function(e,t,r,n){for(null==r&&(r=0,n=!0);e&&e[r]&&r>=0&&r<e.length&&(!e[r].displayIndex||e[r].displayIndex!==t);)r+=n?1:-1
return r>=e.length&&(r=-1),r},getPidlForDisplayIndex:function(e,t){if(!isNaN(e)&&t)for(var r=0;r<t.length;r++)for(var n=t[r].pidlModel,i=0;i<n.length;i++)if(n[i].displayIndex===e)return n
return null},getPidlItemForDisplayIndex:function(e,t){if(!isNaN(e)&&t){var r=this.getPidlForDisplayIndex(e,t)
if(r)for(var n=0;n<r.length;n++)if(r[n].displayIndex===e)return r[n]}return null},prepareModelDisplayDescription:function(e,t,r,n,i,a){var o=[],s=n||[]
if(o=s,e){e.length||(e=[e]),s.get("pidlModel")||e.hasOwnProperty("pidlModel")||(o.pidlModel=[],e.pidl_blend_id&&(o.pidl_blend_id=e.pidl_blend_id))
var l,u=o.get("pidlModel"),d=this.getPidlFromType(e,i)||e[0],c=(d=d.length?d[0]:d).hasOwnProperty("data_description")?d.data_description:null
for(var f in d)if(d.hasOwnProperty(f)&&f.toLowerCase&&"displaydescription"===f.toLowerCase()){var p=d.displayDescription
if(l=$.extend(!0,[],p),this.enhanceDisplayDescriptions(l,c,i,r,a),a&&a.equalsIgnoreCase&&a.equalsIgnoreCase("edit")&&this.hideNotUpdatableDescriptions(l,c),l.length)for(var m=0;m<l.length;m++)this.addToModel(u,l[m])}}return o},prepareModel:function(e,t,r,n,i,a){return r instanceof Ember.Object&&(r=r.serialize()),this.prepareModelDisplayDescription(e,t,r,n,i,a)},enhanceDisplayDescriptions:function(e,t,r,i,a){if(e.length)for(var o=0;o<e.length;o++){var s=e[o],l=s.displayType,u=s.propertyName
if(l&&l.toLowerCase&&"property"===l.toLowerCase()&&t){var d=n(u,t)
s.data_description=d,s.pidl_blend_id_value=u,s.pidl_blend_id=this.pidl_blend_id_prefix+s.pidl_blend_id_value,s.pidl_blend_error_id=this.pidl_blend_error_id_prefix+s.pidl_blend_id_value,s.pidlType=r
var c=null
a&&a.equalsIgnoreCase&&a.equalsIgnoreCase("edit")&&(c=[{pidlId:"accountToken",pifdId:"lastFourDigits"}])
var f=this.findPifdValueForPidlItem(s,i,c)
f?s.data_value=f:"[object Object]"===Object.prototype.toString.call(d)&&d.default_value&&(!s.displaySelectionText||u&&u.toLowerCase&&"country"===u.toLowerCase())?s.data_value=d.default_value:s.data_value=null}else l&&l.toLowerCase&&"group"===l.toLowerCase()&&(s.isGroup=!0,s.hasOwnProperty("members")&&this.enhanceDisplayDescriptions(s.members,t,r,i,a))}},hideNotUpdatableDescriptions:function(e,t){if(e.length)for(var r=0;r<e.length;r++){var n=e[r],a=n.displayType
a&&a.toLowerCase&&"property"===a.toLowerCase()?n.data_description.is_updatable||(n.data_value?n.isDisabled=!0:(n.isHidden=!0,i(n.propertyName,t)),delete n.data_description.validation,n.data_description.is_optional=!0):a&&a.toLowerCase&&"group"===a.toLowerCase()&&this.hideNotUpdatableDescriptions(n.members)}},setDisplayIndex:function(e){if(e){for(var t=-1,r=0;r<e.length;r++)if(e[r]&&e[r].pidlModel)for(var n=e[r].pidlModel,i=0;i<n.length;i++){var a=n[i],o=a.displayType&&a.displayType.toLowerCase&&a.displayType.toLowerCase()||""
if(("property"===o||"group"===o)&&!a.isHidden&&(a.displayIndex=++t,"group"===o&&a.members))for(var s=0;s<a.members.length;s++)a.members[s].displayIndex=t}return t}},getPidlFromType:function(e,t){if(!t)return e.length?e[0]:e
for(var r in e)if(e.hasOwnProperty(r)&&e[r].hasOwnProperty("identity")&&e[r].identity.type===t)return e[r]
return null},addToModel:function(e,t){var r,n,i=this,a=Ember.ArrayProxy.create({content:Ember.A(e)});(r=e.find(function(e){if(e.displayId)return e.displayId===t.displayId}))?(t.data_value=r.data_value,t.valueHasChanged=r.valueHasChanged,t.fieldIsDone=r.fieldIsDone,r.members&&t.members&&t.members.length&&t.members.forEach(function(e){i.addToModel(r.members,e)}),n=e.indexOf(r),a.replaceContent(n,1,[t])):a.pushObject(t)},getDropDownItemImage:function(e,t){var r=null
return e&&t&&e.forEach(function(e){e.get("display.name")===t&&(r=r&&r.containsIgnoreCase(".svg")?r:e.get("preferredLogo"))}),r},getDropDownItemImageDescription:function(e){return t.default.Shared_Label_Logo.replace("{0}",e)},copyValuesIntoPidl:function(e,t){if(e&&!e.isHidden){var n=e.pidl_blend_id_value&&e.pidl_blend_id_value.toLowerCase&&e.pidl_blend_id_value.toLowerCase()
for(var i in t)if(i)if("object"===r(t[i]))this.copyValuesIntoPidl(e,t[i])
else if(i.toLowerCase()===n){e.data_value=this.formatValue(String(t[i]),e)
break}}},findPifdValueForPidlItem:function(e,t,n,i){if(!e||!e.pidl_blend_id_value||!t)return null
if(i?i+=1:i=1,20===i)return null
var a=n&&n.find(function(t){return t&&t.pidlId&&t.pidlId.equalsIgnoreCase&&t.pidlId.equalsIgnoreCase(e.pidl_blend_id_value)}),o=a?a.pifdId.toLowerCase():e.pidl_blend_id_value.toLowerCase(),s=null
for(var l in t)if(l&&("object"===r(t[l])?s=this.findPifdValueForPidlItem(e,t[l],n,i):l.toLowerCase()===o&&(s=this.formatValue(String(t[l]),e))),s)break
return s},formatValue:function(e,t){switch(t.pidl_blend_id_value.toLowerCase()){case"region":if(t.isDropdown)return e&&e.toLowerCase?e.toLowerCase():e
break
case"country":return e&&e.toLowerCase?e.toLowerCase():e
case"lastfourdigits":case"accounttoken":return""+e}return e},pidl_blend_id_prefix:"blend_paymentInstrument_",pidl_blend_error_id_prefix:"pidl_blend_error_"}}),define("sfw-services/utils/post-purchase-survey-map",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var t=["AE","AT","AU","BE","BR","CA","CH","CN","CZ","DE","DK","ES","FI","FR","GB","HK","IE","IL","IN","IS","IT","JP","KR","LU","MX","NL","NO","NZ","PL","PT","RU","SA","SE","SG","TR","TW","US","ZA"],r={"en-us":"1","es-us":"1","en-au":"2","de-at":"3","fr-be":"4","nl-be":"5","pt-br":"6","en-ca":"7","fr-ca":"8","zh-cn":"9","cs-cz":"10","da-dk":"11","fi-fi":"12","fr-fr":"13","de-de":"14","zh-hk":"15","en-hk":"16","en-is":"17","en-in":"18","en-ie":"19","he-il":"20","en-il":"21","it-it":"22","ja-jp":"23","ko-kr":"24","fr-lu":"25","de-lu":"26","es-mx":"27","nl-nl":"28","en-nz":"29","nb-no":"30","pl-pl":"31","pt-pt":"32","ru-ru":"33","ar-sa":"34","en-sg":"35","zh-sg":"36","en-za":"37","es-es":"38","sv-se":"39","fr-ch":"40","de-ch":"41","zh-tw":"42","tr-tr":"43","en-ae":"44","en-gb":"45"}
e.default={showPostPurchaseSurvey:function(e){return e=e&&e.toUpperCase()||"",t.indexOf(e)>-1},displayLinkHandle:function(e){return e=e&&e.toLowerCase()||"",r[e]||""}}}),define("sfw-services/utils/purchase-subscription",["exports","sfw-services/utils/strings"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default={overrideWebBlendData:function(e,r){var n
if(e){var i=function(e){if(e&&e.RecurrencePolicyId){if(!e.IsRecurring&&e.HasTrial)return{trialDuration:function(e){switch(e){case 1:return"One"
case 2:return"Two"
case 30:return"Thirty"
default:return""}}(e.InitialDuration.Units)+e.InitialDuration.UnitType}
var t=e.RecurrencePolicyId.split("TrialTo"),r=e.RecurrencePolicyId.split("To")
return 2===t.length?("OneDayPolicy.1"===t[1]&&(t[1]="OneDay"),{trialDuration:t[0],chargeFrequency:t[1]}):2===r.length?{initialDuration:r[0],chargeFrequency:r[1]}:{chargeFrequency:e.RecurrencePolicyId}}return null}(e.RecurrencePolicy)
i&&i.trialDuration?n={LocaledChargeFrequency:t.default["Subscribe_Charge_Frequency_"+i.chargeFrequency],TrialDurationString:t.default["Subscribe_Trial_Duration_"+i.trialDuration],isTrial:!0}:i&&i.initialDuration?n={InitialChargeFrequency:t.default["Subscribe_Charge_Frequency_"+i.initialDuration],LocaledChargeFrequency:t.default["Subscribe_Charge_Frequency_"+i.chargeFrequency],isTrial:!1}:i&&i.chargeFrequency&&(n={LocaledChargeFrequency:t.default["Subscribe_Charge_Frequency_"+i.chargeFrequency],isTrial:!1})}return n?$.extend(r||{},n):r}}})
define("sfw-services/utils/queued-service-request",["exports","sfw-services/services/request","sfw-services/utils/operation-queue"],function(e,t,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r]
n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(){function e(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this._requestQueue=new r.default}return n(e,[{key:"post",value:function(e){return this._requestQueue.do(function(){return t.default.post(e)})}},{key:"get",value:function(e){return this._requestQueue.do(function(){return t.default.get(e)})}},{key:"put",value:function(e){return this._requestQueue.do(function(){return t.default.put(e)})}},{key:"del",value:function(e){return this._requestQueue.do(function(){return t.default.del(e)})}}]),e}()
e.default=i}),define("sfw-services/utils/redirection-service-url",["exports","sfw-services/utils/external-urls","sfw-telemetry/utils/client","sfw-telemetry/utils/start-data","sfw-services/utils/language-mapper"],function(e,t,r,n,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var a=function(e){var r=n.default.get()._SpecificCulture,a=e?i.default[r]||r:n.default.get().Culture,o=t.default.get("RedirectionResult")
return o&&o.replace({culture:a})},o=function(){return r.default.getClientType()&&r.default.getClientType().toLowerCase&&r.default.getClientType().toLowerCase()},s=function(){var e=a(!0)
return{successUrl:e.replace({pageName:"purchaseSuccess"}).toString(),failureUrl:e.replace({pageName:"purchaseFailure"}).toString()}},l=function(){var e=a(!1),t=o()
return e&&t?"universalstoreinapp".equalsIgnoreCase(t)?{successUrl:e.replace({pageName:"InAppPurchaseRiskChallengeRedirectSuccess"}).toString(),failureUrl:e.replace({pageName:"InAppPurchaseFailure"}).toString()}:{successUrl:e.replace({pageName:"PurchaseRiskChallengeRedirectSuccess"}).toString(),failureUrl:e.replace({pageName:"PurchaseRiskChallengeRedirectFailure"}).toString()}:null},u=function(){var e=a(!0),t=o()
if(e&&t)switch(t){case"universalstorenativeclient":return{successUrl:e.replace({pageName:"PaymentInstrumentSuccess"}).toString(),failureUrl:e.replace({pageName:"PaymentInstrumentFailure"}).toString()}
case"universalstoreinapp":return{successUrl:e.replace({pageName:"InAppPaymentInstrumentSuccess"}).toString(),failureUrl:e.replace({pageName:"PaymentInstrumentFailure"}).toString()}
default:return{successUrl:e.replace({pageName:"WebPaymentInstrumentSuccess"}).toString(),failureUrl:e.replace({pageName:"PaymentInstrumentFailure"}).toString()}}return null},d=function(){var e=a(!0)
return e?{successUrl:e.replace({pageName:"AddDDSuccess"}).toString(),failureUrl:e.replace({pageName:"AddDDFailure"}).toString()}:null},c=function(){var e=a(!0)
return e?{successUrl:e.replace({pageName:"AddDDPicvSuccess"}).toString(),failureUrl:e.replace({pageName:"AddDDFailure"}).toString()}:null},f=function(){var e=n.default.get().AddPiSuccessUrl,t=n.default.get().AddPiFailureUrl
return e&&t?{successUrl:e,failureUrl:t}:null},p=function(e,t,r){var n=function(e){return e?"string"==typeof e?e:e.get&&e.get("sessionId")||null:null}(e)
if(n){var i=t()
if(i)return h(n,i.successUrl,i.failureUrl,r)}return null},m=function(e,t){return t?e+(e.indexOf("?")>-1?"&":"?")+t:e},h=function(e,r,n,i){var a=t.default.get("RedirectionService").toString()
return a=a.replace(/(rx.*?)\?sessionId=\{sessionId\}/,"$1").replace(/(ru.*?)\?sessionId=\{sessionId\}/,"$1"),i&&(n=m(n,"sessionId={sessionId}").replace("{sessionId}",e),r=m(r,"sessionId={sessionId}").replace("{sessionId}",e)),a.replace("{failureUrl}",encodeURIComponent(n)).replace("{successUrl}",encodeURIComponent(r)).replace(/{sessionId}/g,e)}
e.default={asyncPaymentInstrumentPurchase:function(e){return p(e,s,!0)},syncPaymentInstrumentPurchase:function(e){return p(e,l,!0)},syncPaymentInstrumentAddPi:function(e){return p(e,u,!0)},syncPaymentInstrumentSignatureAddPi:function(e,t){return p(e,t?c:d,!0)},addPiReturnUrl:function(e){return p(e,f,!1)},get:function(e,t,r,n){return h(e,t,r,n)},asyncPiPurchaseResultUrls:s,syncPiPurchaseResultUrls:l,syncPiAddPiResultUrls:u,picvAddPiResultUrls:function(){var e=a(!0)
return{successUrl:e.replace({pageName:"v2/PICVAddPISuccess"}).toString(),failureUrl:e.replace({pageName:"v2/GeneralAddPIFailure"}).toString()}},generalAddPiResultUrls:function(){var e=a(!0)
return{successUrl:e.replace({pageName:"v2/GeneralAddPISuccess"}).toString(),failureUrl:e.replace({pageName:"v2/GeneralAddPIFailure"}).toString()}},getAveUrl:function(){var e=n.default.get()._SpecificCulture,r=i.default[e]||e||n.default.get().Culture,a=t.default.get("PurchaseRedirectionResult").replace({culture:r}),o=encodeURIComponent(a.replace({pageName:"PurchaseAVESuccess"}).toString()),s=encodeURIComponent(a.replace({pageName:"PurchaseAVEFailure"}).toString()),l=n.default.get().Lcid
return t.default.get("AveUrl").toString().replace("{pid}","120ea1f2-5939-44b3-b1a9-c08b0a96e31d").replace("{lc}",l).replace("{failUrl}",s).replace("{successUrl}",o)},inlineAddPiResultUrls:f}}),define("sfw-services/utils/risky-pis",["exports","sfw-services/services/risk","sfw-telemetry/utils/blend-bi-tracker","sfw-telemetry/utils/flight-config","sfw-services/models/session-ids","sfw-services/utils/user-pis","sfw-telemetry/utils/app-globals"],function(e,t,r,n,i,a,o){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var s=!1,l=!1
e.default={filterPis:function(e,n){return new Ember.RSVP.Promise(function(l){if(s||(s=e.any(function(e){return!!e.get("paymentMethod.properties.riskyPaymentMethod")}))){o.default._sessionIds||(o.default._sessionIds=i.default.create())
var u=o.default._sessionIds.getNewSessionId(),d=a.default.get(e)
return t.default.evalRiskyPis(n,u,d).then(function(t){var n=t&&t.payment_info
if(n&&n.length){var i=n
Array.prototype.filter&&(i=n.filter(function(e){return!1===e.allowed})),i.forEach(function(t){var n
t&&!1===t.allowed&&(r.default.captureContentPageAction({name:"riskyPi"},{piInfo:t}),n=t.id,e.find(function(e){return e.id===n}).isRiskyPi=!0)})}l(e)},function(){l(e)})}l(e)})},filterPaymentMethods:function(e,r){return new Ember.RSVP.Promise(function(a){if(n.default.isEnabled("riskypi")&&r&&!l&&(c=!1,e&&e.forEach&&(l=!0,e.forEach(function(e){var t=e&&e.get("properties")
t&&t.riskyPaymentMethod&&(c=!0)})),c)){o.default._sessionIds||(o.default._sessionIds=i.default.create())
var s=o.default._sessionIds.getNewSessionId(),u=(d=[],e&&e.forEach&&e.forEach(function(e){if(e){var t={paymentMethodType:e.get("paymentMethodType"),paymentMethodFamily:e.get("paymentMethodFamily")}
d.push(t)}}),d)
return t.default.evalRiskyPis(r,s,u).then(function(t){var r=t&&t.payment_info
if(r&&r.length){var n=r
Array.prototype.filter&&(n=r.filter(function(e){return!1===e.allowed})),n.forEach(function(t){t&&!1===t.allowed&&function(t){e&&e.forEach&&e.forEach(function(e){if(e){var r=e.get("paymentMethodType")&&e.get("paymentMethodType").toLowerCase&&e.get("paymentMethodType").toLowerCase(),n=e.get("paymentMethodFamily")&&e.get("paymentMethodFamily").toLowerCase&&e.get("paymentMethodFamily").toLowerCase(),i=t.paymentMethodType&&t.paymentMethodType.toLowerCase&&t.paymentMethodType.toLowerCase(),a=t.paymentMethodFamily&&t.paymentMethodFamily.toLowerCase&&t.paymentMethodFamily.toLowerCase()
r===i&&n===a&&(e.isRiskyPaymentMethod=!0)}})}(t)})}a(e)},function(){a(e)})}var d,c
a(e)})}}}),define("sfw-services/utils/service-call-headers",["exports","sfw-telemetry/utils/start-data","sfw-telemetry/utils/create-guid"],function(e,t,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default={get:function(e){var n=t.default.get().Auth,i=t.default.get().XToken,a=t.default.get().XBLXToken,o=$.extend({},e.additionalHeaders)
if(e.omitAcceptLanguage||(o["Accept-Language"]=t.default.get().Culture),!e.simpleRequest){if(!e.omitAuth&&(n||!e.disallowXToken&&i)){var s=n&&n.startsWithIgnoreCase("MSADELEGATE1.0")
e.useXBLXToken?o.Authorization=a:!e.disallowXToken&&i?o.Authorization=i:n.startsWithIgnoreCase('WLID1.0="')||n.startsWithIgnoreCase("WLID1.0=t=")||n.startsWithIgnoreCase("Bearer")||s?o.Authorization=n:n.startsWithIgnoreCase("WLID1.0=")?o.Authorization='WLID1.0="'+n.substring(8)+'"':o.Authorization='WLID1.0="'+n+'"',s&&e.addSiteName&&(o["MS-SiteName"]="www.microsoft.com")}e.piRewardsIncentiveOfferId&&(o["x-ms-offerid"]=e.piRewardsIncentiveOfferId),e.addJwtHeader&&t.default.get().Jwt&&(o["x-ms-jwt"]=t.default.get().Jwt),e.omitMarket||(o.Market=t.default.get().Market)
var l=[]
e.addVnext&&l.push("vnext"),e.addVenmoFlightHeaders&&(l.push("PxEnableVenmo"),l.push("PxEnableSelectPMAddPIVenmo"),l.push("PXPassUserAgentToPIMSForAddUpdatePI")),e.addPiCaptchaFlightHeaders&&l.push("HonorNewRiskCode"),e.addPiCaptchaTestHeaders&&(l.push("PXEnableHIPCaptcha"),l.push("PXEnableHIPCaptchaGroup")),e.addPXPIDL&&l.push("pxpidl"),e.add3DSOne&&l.push("EnableThreeDSOne"),e.addIndiaTokenizationText&&l.push("IndiaTokenizationConsentCapture"),e.addIndiaHideExpiryDate&&l.push("IndiaExpiryGroupDelete"),l.length&&(o["x-ms-flight"]=l.join(",")),e.addMstestHeader&&(o["x-ms-test"]="TestUser"),e.omitRequestId||(o["MS-RequestId"]=r.default.create()),e.omitCorrelationId||(o["MS-CorrelationId"]=r.default.create()),e.addXboxCorrelationId&&(o["X-XblCorrelationId"]=r.default.create()),e.addCpHeaders&&(o["x-MS-Correlation-Id"]=r.default.create(),o["x-MS-Tracking-Id"]=r.default.create(),e.apiVersion&&(o["Api-Version"]=e.apiVersion))}return o}}}),define("sfw-services/utils/strings",["exports","sfw-services/services/request"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var r=window.require,n=null
e.default={get:function(e){var t=this
return this.populate().then(function(){return Ember.RSVP.resolve(t[e])})},populate:function(e,i){var a=this
if(this.populated)return Ember.RSVP.resolve()
if(n)return n
switch(i.toLowerCase()){case"en-us":i="en-us"
break
case"es-us":i="es-us"}var o={url:e+"js/"+i+"_strings.js",cache:!0,serviceName:"WebBlends",operationName:"getStrings"}
return n=t.default.getScript(o).catch(function(){return o.url=e+"js/_strings.js",o.operationName="getStringsFallback",t.default.getScript(o)}).then(function(){var e=r("stringData").default
$.extend(a,e),a.populated=!0,n=null})},clear:function(){var e=this
if(n)return n.then(function(){n=null,e.clear()})
if(this.populated){for(var t in r.unsee("stringData"),this)if("string"==typeof this[t])try{delete this[t]}catch(e){}this.populated=!1}},populated:!1}}),define("sfw-services/utils/supported-payment-instruments",["exports","sfw-services/adapters/order-adapter","sfw-services/utils/market-specific","sfw-services/utils/strings","sfw-telemetry/utils/flight-config","sfw-services/models/session-ids","sfw-telemetry/utils/app-globals","sfw-services/utils/allowed-pi-filter","sfw-telemetry/utils/client","sfw-telemetry/utils/start-data"],function(e,t,r,n,i,a,o,s,l,u){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var d=["visa","amex","mc","discover","jcb"],c=function(e,t){switch(t){case"tvodPi":return v(e,"internationalCards")
default:return v(e,"internationalCards")||v(e,"cupCards")||i.default.isEnabled("koreancards")&&v(e,"koreanLocalCards")||i.default.isEnabled("hipercard")&&y(e,"credit_card","hipercard")||i.default.isEnabled("allowelo")&&y(e,"credit_card","elo")||i.default.isEnabled("allowverve")&&y(e,"credit_card","verve")||"credit_card".equalsIgnoreCase(e.paymentMethodFamily)&&!e.paymentMethodType}},f=function(e,t){if("direct_debit"===e){if(t.equalsIgnoreCase("sepa"))return!0
if(t.equalsIgnoreCase("ach"))return!0
if(t.equalsIgnoreCase("ideal_billing_agreement"))return!0}return!1},p=function(){return!(l.default.isXboxOneClient()||!i.default.isEnabled("allowvenmo"))||!(!l.default.isXboxOneClient()||!i.default.isEnabled("allowvenmoforxboxlistpi"))},m=function(e){return!l.default.isXboxOneClient()&&y(e,"invoice_credit","klarna")&&i.default.isEnabled("klarna")},h=function(e){return y(e,"finance_leasing","dell_preferred_account")&&i.default.isEnabled("dellpa")},g=[{paymentMethodFamily:"credit_card",paymentMethodType:["visa","amex","mc","discover","jcb"],groupId:"internationalCards"},{paymentMethodFamily:"credit_card",paymentMethodType:["shinhan","bc","kb_kook_min","samsung","hyundai","lotte","nh","hana","citi","jeju","woori","suhyup","jeonbok","kwangju","shinhyup"],groupId:"koreanLocalCards"},{paymentMethodFamily:"credit_card",paymentMethodType:"hipercard"},{paymentMethodFamily:"credit_card",paymentMethodType:"elo"},{paymentMethodFamily:"credit_card",paymentMethodType:"verve"},{paymentMethodFamily:"credit_card",paymentMethodType:["unionpay_creditcard","unionpay_debitcard"],groupId:"cupCards"},{paymentMethodFamily:"ewallet",paymentMethodType:"paypal"},{paymentMethodFamily:"ewallet",paymentMethodType:"alipay_billing_agreement"},{paymentMethodFamily:"mobile_billing_non_sim",paymentMethodType:"*"},{paymentMethodFamily:"direct_debit",paymentMethodType:"sepa"},{paymentMethodFamily:"direct_debit",paymentMethodType:"ideal_billing_agreement"},{paymentMethodFamily:"direct_debit",paymentMethodType:"ach"},{paymentMethodFamily:"ewallet",paymentMethodType:"stored_value"},{paymentMethodFamily:"ewallet",paymentMethodType:"qiwi_billing_agreement"},{paymentMethodFamily:"invoice_credit",paymentMethodType:"klarna"},{paymentMethodFamily:"finance_leasing",paymentMethodType:"dell_preferred_account"},{paymentMethodFamily:"ewallet",paymentMethodType:"kakaopay"},{paymentMethodFamily:"ewallet",paymentMethodType:"venmo"}]
function v(e,t){var r=g.find(function(e){return e.groupId===t}),n=Ember.get(e,"paymentMethodFamily")||Ember.get(e,"payment_method_family"),i=Ember.get(e,"paymentMethodType")||Ember.get(e,"payment_method_type")
return r.paymentMethodFamily.equalsIgnoreCase(n)&&r.paymentMethodType.containsAnyIgnoreCase(i)}function y(e,t,r){var n=Ember.get(e,"paymentMethodFamily")||Ember.get(e,"payment_method_family"),i=Ember.get(e,"paymentMethodType")||Ember.get(e,"payment_method_type")
return t.equalsIgnoreCase(n)&&r.equalsIgnoreCase(i)}e.default={paymentMethodsForAddPi:function(e,t,a,o,d,p){var g=[],v=o?e:s.default.allowedPaymentMethods(e,t),b=a&&!o
if(v.forEach(function(e){var t,a,s=e.get("paymentMethodFamily").toLowerCase(),v=(e.get("paymentMethodType")||"").toLowerCase()
if((!b||e.get("properties.splitPaymentSupported"))&&r.default.isPiAllowedInMarket(s,v))switch(s){case"credit_card":c(e,p?"tvodPi":null)&&g.push(e)
break
case"ewallet":p||("paypal"===v&&(d||(a=u.default.get().XToken,!l.default.isXboxOneClient()||a))||"venmo"===v&&(!l.default.isXboxOneClient()&&i.default.isEnabled("allowvenmo")||l.default.isXboxOneClient()&&i.default.isEnabled("allowvenmoforxboxaddpi"))&&!d||"alipay_billing_agreement"===v&&!d||"stored_value"===v&&o&&!d||"kakaopay"===v&&i.default.isEnabled("enablekakaopay")&&o&&!d||"qiwi_billing_agreement"===v&&i.default.isEnabled("qiwi")&&o&&!d)&&g.push(e)
break
case"direct_debit":!f(s,v)||p||d||"ach"!==v&&l.default.isXboxOneClient()||g.push(e)
break
case"mobile_billing_non_sim":if(p||d)return
o||e.set("display.categoryName",n.default.NonSim_MobileBillingFamily_Label)
var _=g.find(function(e){return"mobile_billing_non_sim"===e.get("paymentMethodFamily").toLowerCase()})
_?_.set("paymentMethodType",_.get("paymentMethodType")+","+e.get("paymentMethodType")):g.push(e)
break
case"invoice_credit":if(p||d)return
o&&(m(e)||(t=e,l.default.isXboxOneClient()&&y(t,"invoice_credit","klarna")&&i.default.isEnabled("klarna-xbox")))&&g.push(e)
break
case"finance_leasing":if(p||d)return
o&&h(e)&&g.push(e)}}),o)return g
if(u.default.get().PaymentMethodFamily)return{nonCsvPaymentMethods:function(e){var t=[],r=u.default.get().PaymentMethodFamily&&u.default.get().PaymentMethodFamily.toLowerCase&&u.default.get().PaymentMethodFamily.toLowerCase()||"",n=u.default.get().PaymentMethodType&&u.default.get().PaymentMethodType.toLowerCase&&u.default.get().PaymentMethodType.toLowerCase()||""
return e.some(function(e){var i=e.get("paymentMethodFamily").toLowerCase(),a=e.get("paymentMethodType")?e.get("paymentMethodType").toLowerCase():""
if(i===r&&(!n||a===n))return t.push(e),!0}),t}(g),isCsvAllowed:!1}
var _=!d&&!p&&v.filterBy("paymentMethodFamily","ewallet").filterBy("paymentMethodType","stored_value").length>0
return{nonCsvPaymentMethods:g,isCsvAllowed:_}},supportedCreditCardPaymentMethods:function(e){var t=[]
return e.forEach(function(e){"credit_card"===e.get("paymentMethodFamily").toLowerCase()&&d.includes(e.get("paymentMethodType").toLowerCase())&&t.push(e)}),t},filterPi:function(e,n,d,g){var v=[],b=function(t){return e.filter(function(e){var t=e.get("status")
return"active"===(t=t&&t.toLowerCase&&t.toLowerCase())||"pending"===t}).forEach(function(e){o.default._sessionIds||(o.default._sessionIds=a.default.create()),o.default._sessionIds.getSessionId(e.get("id"))
var d=e&&e.get("payment_method_type")
d=d&&d.toLowerCase?d.toLowerCase():d
var g=e&&e.get("payment_method_family")
g=g&&g.toLowerCase?g.toLowerCase():g,function(e){var t=e&&e.get("status")
return"pending"===(t=t&&t.toLowerCase&&t.toLowerCase())}(e)&&!function(e,t,r){if(r=r&&r.toLowerCase&&r.toLowerCase(),"direct_debit"===e&&"picv"===r){if(t.equalsIgnoreCase("sepa"))return!0
if(t.equalsIgnoreCase("ach"))return!0}return!1}(g,d,e.get("details.pendingOn"))||("backupPi"===n&&e&&e.get("isSplitPaymentSupported")&&!y(e,"ewallet","stored_value")&&(i.default.isEnabled("enableccsmd")?function(e){var t=e&&e.get("smdCreditCardCountry")
return!(t&&!t.equalsIgnoreCase(u.default.get().Market))}(e)&&v.push(e):v.push(e)),"csvPi"===n&&"ewallet"===g&&"stored_value"===d&&v.push(e),"tvodPi"===n&&("CN".equalsIgnoreCase(u.default.get().Market)?"ewallet"===g&&"tvpay"===d&&v.push(e):("ewallet"===g&&"paypal"===d||c(e,"tvodPi"))&&v.push(e)),"redeemPi"===n&&r.default.isPiAllowedInMarket(g,d)&&(c(e)||"paypal"===d)&&v.push(e),"oobePi"===n&&(c(e)&&r.default.isPiAllowedInMarket(g,d)?v.push(e):"CN".equalsIgnoreCase(u.default.get().Market)&&"ewallet"===g&&"alipay_billing_agreement"===d&&v.push(e)),"purchasePi"===n&&r.default.isPiAllowedInMarket(g,d)&&(c(e)||"mobile_carrier_billing"===g||"mobile_billing_non_sim"===g||f(g,d)||function(e){var t=e&&e.get("payment_method_type")
return!!(t&&t.toLowerCase&&("stored_value"===t.toLowerCase()&&e.get("display_info.balance")>0||"paypal"===t.toLowerCase()||"alipay_billing_agreement"===t.toLowerCase()||"qiwi_billing_agreement"===t.toLowerCase()&&i.default.isEnabled("qiwi")||"kakaopay"===t.toLowerCase()&&i.default.isEnabled("enablekakaopay")||"venmo"===t.toLowerCase()&&p()))}(e)||function(e,t,r){if(r&&r.get("isGiftPurchase")||u.default.get().IsDigitalAttachment)return!1
if(l.default.isSaturn())return!1
if("US".equalsIgnoreCase(u.default.get().Market)&&!i.default.isEnabled("allowpaysafeforus")&&"paysafecard"===e)return!1
if(l.default.isModernXboxClient())return!("paysafecard"!==e||!i.default.isEnabled("allowpaysafexbox"))
var n=!l.default.isInAppClient()&&!l.default.isXboxOneClient()
if("online_bank_transfer"===t&&n){if(i.default.isEnabled("allowallasyncpis"))return!0
if("mpesa"===e&&i.default.isEnabled("allowmpesapi"))return!0
if("paysafecard"===e&&i.default.isEnabled("allowpaysafecard"))return!0
if("klarna_bnpl"===e&&i.default.isEnabled("allowklarnabnpl"))return!0
if("sofort"===e||"trustly"===e)return!0
if(!i.default.isEnabled("disallowideal")&&"ideal"===e)return!0
if("dotpay"===e)return!0
if("giropay"===e)return!0
if("poli"===e)return!0}return!1}(d,g,t)||m(e)||function(e){return l.default.isXboxOneClient()&&y(e,"invoice_credit","klarna")}(e)||h(e))&&("mobile_carrier_billing"!==g&&"mobile_billing_non_sim"!==g||(Ember.set(e,"exceededMaxPrice",s.default.didPaymentMethodExceedMaxPrice(e.get("paymentMethod"),t)),e.set("display_info.isMobi",!0)),v.push(e)))}),v}
return new Ember.RSVP.Promise(function(r){if(e){if(d&&g)return(i.default.isEnabled("removeloadorderdetails")?d.findRecord("order",g):t.default.loadOrderDetails(d)).then(function(e){r(b(e))})
r(b())}else r(v)})},backupPi:function(e){return this.filterPi(e,"backupPi")},purchasePi:function(e,t,r){return this.filterPi(e,"purchasePi",t,r)},tvodPi:function(e){return this.filterPi(e,"tvodPi")},csvPi:function(e){return this.filterPi(e,"csvPi")},redeemPi:function(e){return this.filterPi(e,"redeemPi")},oobePi:function(e){return this.filterPi(e,"oobePi")},getPisAllowedForOrder:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2]
return s.default.allowedPis(e,t,r)},getAllowedPaymentMethodsForPidlSdkAdd:function(e,t,r,n){var i=this._getFilteredPaymentMethodsForPidlSdkAdd(t),a=this.paymentMethodsForAddPi(i,e,!1,!0,r,n)
return this._convertPiToSdkFormat(a)},getPiInclusionList:function(e){return e&&e.length?e.map(function(e){var t=e.split(":")
return{paymentMethodFamily:t&&t.length>0?t[0]:"",paymentMethodType:t&&t.length>1?t[1]:""}}):null},getPaymentMethodListForWinOobe:function(){var e=this._getPaymentMethodTypeList("internationalCards")
return i.default.isEnabled("koreancards")&&"KR".equalsIgnoreCase(u.default.get().Market)?e+","+this._getPaymentMethodTypeList("koreanLocalCards"):i.default.isEnabled("hipercard")&&"BR".equalsIgnoreCase(u.default.get().Market)?e+","+this._getPaymentMethodTypeList(null,"hipercard"):this.isAlipayEnabledForWinOobe()?this._getPaymentMethodTypeList(null,"alipay_billing_agreement"):e},isAlipayEnabledForWinOobe:function(){return"CN".equalsIgnoreCase(u.default.get().Market)},_getPaymentMethodTypeList:function(e,t){if(e){var r=g.find(function(t){return t.groupId===e}),n=r&&r.paymentMethodType
return n&&n.length?n.join(","):""}if(t){var i=g.find(function(e){return e.paymentMethodType===t})
return i&&i.paymentMethodType||""}return""},_removePaymentMethodType:function(e,t){return e.filter(function(e){return e.paymentMethodType!==t})},_getFilteredPaymentMethodsForPidlSdkAdd:function(e){e||(e=g),i.default.isEnabled("disablealipayadd")&&(e=this._removePaymentMethodType(e,"alipay_billing_agreement"))
var t=[]
return e.forEach(function(e){Array.isArray(e.paymentMethodType)?e.paymentMethodType.forEach(function(r){t.push(Ember.Object.create({paymentMethodFamily:e.paymentMethodFamily,paymentMethodType:r}))}):t.push(Ember.Object.create(e))}),t},_convertPiToSdkFormat:function(e){return e.map(function(e){var t=e.get("paymentMethodFamily"),r=e.get("paymentMethodType")
return r&&"*"!==r&&(t+="."+r),t})}}}),define("sfw-services/utils/tokenized-url",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}
function r(e,r){if(!e||"object"!==(void 0===r?"undefined":t(r)))return e
for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n])
return e}e.default=Ember.Object.extend({formatUrl:"",init:function(){this.set("tokens",{}),this.set("queryParams",{})},replace:function(e){return this.set("tokens",r(this.get("tokens"),e)),this},addQueryParams:function(e){return this.set("queryParams",r(this.get("queryParams"),e)),this},toString:function(){var e=function(e,t){for(var r in t)if(t.hasOwnProperty(r)){var n=new RegExp("{"+r+"}","g"),i=t[r]
null==i&&(i=""),e=e.replace(n,i)}return e}(this.get("formatUrl"),this.get("tokens"))
return e=function(e,t){var r=e.indexOf("?")>-1
for(var n in t)if(t.hasOwnProperty(n)){var i=t[n]
if(null==i)continue
e=e+(r?"&":"?")+n+"="+i,r=!0}return e}(e,this.get("queryParams"))}})}),define("sfw-services/utils/user-id",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){return String.prototype.isNullOrWhitespace(e)||"me"===e?"me":"my-family"}}),define("sfw-services/utils/user-pis",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default={get:function(e){var t=[]
return e&&e.forEach&&e.forEach(function(e){if(e){var r={id:e.id,paymentMethodType:e.get("payment_method_type"),paymentMethodFamily:e.get("payment_method_family")}
t.push(r)}}),t}}}),define("sfw-telemetry/helpers/is-flight-enabled",["exports","sfw-telemetry/utils/flight-config"],function(e,t){"use strict"
function r(e){return t.default.isEnabled(e[0])}Object.defineProperty(e,"__esModule",{value:!0}),e.isFlightEnabled=r,e.default=Ember.Helper.helper(r)}),define("sfw-telemetry/services/tracker",["exports","sfw-telemetry/utils/instrumentation"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Service.extend({capturePageView:function(e,r,n){r.pageName=e,t.default.capturePageView(r,n)},capturePageAction:function(e,r,n){var i={pageTags:r}
n&&(i.behavior=n),t.default.capturePageAction(e,i)},captureContentUpdate:function(e){t.default.captureContentUpdate({pageTags:e})},captureContentPageAction:function(e,r,n){var i={pageTags:r,content:{name:e}}
n&&(i.behavior=n),t.default.captureContentPageAction(i)},capturePurchaseState:function(e,t){this._captureStateUpdate("TrackingPurchaseState",e,t)},capturePaymentsState:function(e,t){this._captureStateUpdate("TrackingPaymentsState",e,t)},capturePurchaseStatePageAction:function(e,r,n){var i={content:{name:"TrackingPurchaseState",contentId:e},pageTags:r}
n&&(i.behavior=t.default.getBehavior(n)),t.default.captureContentPageAction(i)},captureAddPiStatePageAction:function(e,r){var n={content:{name:"TrackingAddPiState",contentId:e},pageTags:r}
t.default.captureContentPageAction(n)},capturePerfData:function(e,r,n){(n=n||{}).perfData=r,t.default.captureContentPageAction({content:{name:e},pageTags:n})},_captureStateUpdate:function(e,r,n){var i={content:{name:e,contentId:r},pageTags:n};(r.equalsIgnoreCase("Purchased")||r.equalsIgnoreCase("Ordered"))&&(i.behavior=t.default.getBehavior("PURCHASECOMPLETE")),t.default.captureStateUpdate(i)}})}),define("sfw-telemetry/utils/app-globals",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default={}}),define("sfw-telemetry/utils/blend-bi-tracker",["exports","sfw-services/utils/app-services","sfw-telemetry/utils/client","sfw-telemetry/utils/flight-config","sfw-telemetry/utils/instrumentation","sfw-telemetry/utils/start-data"],function(e,t,r,n,i,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var o=void 0
e.default={getBlendContext:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]
if(!o||t){e=e||a.default.get()
var i=r.default.getContext()
r.default.setIsPurchaseFlow(e),e&&(o={selApps:e.selApps,culture:e.Culture,specificCulture:e._SpecificCulture,language:e.Culture&&e.Culture.substring(0,2),market:e.Market,callerApplicationId:e.CallerApplicationId,isBuddyPass:r.default.isBuddyPassScenario(),isPurchaseFlow:r.default.getIsPurchaseFlow(),isReactEmbeddedPurchaseFlow:r.default.getIsReactEmbeddedPurchaseFlow(),client:r.default.getClientType(),deviceFamily:r.default.getDeviceFamily(),appFullName:e.AppFullName,cid:e.CampaignId,ocid:e.OptionalCampaignId,orderId:e.OrderId,productId:e.ProductId,skuId:e.SkuId,availabilityId:e.AvailabilityId,testClient:e.TestClient,pageName:"",errorDetail:"",urlRef:e.UrlRef,uuid:n.default.isEnabled("uuid")?e.uuid:"",osVersion:i&&i.osVersion,clientVersion:i&&i.clientVersion,startData_isDigitalAttachment:n.default.isEnabled("startdatalogging")?!!e.IsDigitalAttachment:"",startData_hasAttachRecordId:n.default.isEnabled("startdatalogging")?!!e.AttachRecordId:"",startData_hasDeviceSerialNumber:n.default.isEnabled("startdatalogging")?!!e.DeviceSerialNumber:"",startData_riskChallengeType:n.default.isEnabled("startdatalogging")?e.RiskChallengeType:"",startData_authRefreshAllowed:n.default.isEnabled("startdatalogging")?e.AuthRefreshAllowed:"",startData_deviceContext:n.default.isEnabled("startdatalogging")?e.DeviceContext:"",startData_askPurchaserEligible:n.default.isEnabled("startdatalogging")?e.AskPurchaserEligible:"",startData_skipToAskPurchaser:n.default.isEnabled("startdatalogging")?e.SkipToAskPurchaser:""})}return o},capturePageView:function(e,r,s,l){if(!n.default.isEnabled("pagenamemunge")){var u=e.split(".")
e=u.length<2?u[0]:"askToBuy"===u[1]?e.replace(".","_"):u[0]+"_"+u[1]}o.pageName=e,o.pageDetail=r,o.errorDetail=s,r.scn&&(o.scn=r.scn)
var d="purchase_confirm"===e,c=t.default.get("store").peekAll("product").filter(function(e){return e.id.startsWithIgnoreCase(a.default.get().ProductId)})[0]
o.productCategory=c&&c.get("productCategory"),o.orderId||(o.orderId=a.default.get().OrderId),!o.orderId&&r&&(o.orderId=r.orderId),!o.productId&&r&&(o.productId=r.productId)
var f={}
l&&(f.behavior=l),d&&!l&&(f.behavior=88),i.default.capturePageView({pageName:e,pageTags:o},f)},capturePageAction:function(e,t,r){var n={pageTags:t}
r&&(n.behavior=r),i.default.capturePageAction(e,n)},captureContentUpdate:function(e){var t={pageTags:e}
i.default.captureContentUpdate(t)},captureContentPageAction:function(e,t){i.default.captureContentPageAction(e,t)},capturePurchaseStatePageAction:function(e,t,r){if(n.default.isEnabled("purchasestatesessiontime")){var a=Date.now()
t=t||{}
var s=o&&o.webLoadedTimeMs
s&&(t.sessionEndTimeMs=a,t.totalSessionTimeInMs=a-s,t.totalSessionTimeInSec=Math.floor(t.totalSessionTimeInMs/1e3),t.webLoadedTimeMs=s)}var l={name:"TrackingPurchaseState"}
l.contentId=e,i.default.captureContentPageAction(l,t,r)},captureAddPiStatePageAction:function(e,t){var r={name:"TrackingAddPiState"}
r.contentId=e,i.default.captureContentPageAction(r,t)},capturePaymentStatePageAction:function(e,t){var r={name:"TrackingPaymentState"}
r.contentId=e,i.default.captureContentPageAction(r,t)},capturePerfData:function(e,t){var r={name:e},n={perfData:t,market:o&&o.market,client:o&&o.client,deviceFamily:o&&o.deviceFamily,orderId:o&&o.orderId||a.default.OrderId}
i.default.captureContentPageAction(r,n)},addWebLoadTimeInBlendContext:function(e){o||(o={}),o.webLoadedTimeMs=e}}}),define("sfw-telemetry/utils/client",["exports","sfw-telemetry/utils/start-data","sfw-telemetry/utils/flight-config"],function(e,t,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var n="",i="",a=void 0,o=null,s=null,l={getWindow:function(){return window},getClientType:function(){if(!n){var e=this.getWindow().location.search
if(e&&e.startsWith&&e.startsWith("?")&&(e=e&&e.substring&&e.substring(1)),e)for(var r=e.split("&"),i=0;i<r.length;i++)r[i]&&r[i].toLowerCase().indexOf("client=")>-1&&(n=r[i].replace(/client=|\W/gi,"").replace(/[0-9]/g,""))}return!n&&t.default.get()&&(n=t.default.get().Client),n},setClientType:function(e){n=e},getDeviceFamily:function(){if(!a){var e=this.getWindow().location.search
if(e&&e.startsWith&&e.startsWith("?")&&(e=e&&e.substring&&e.substring(1)),e)for(var r=e.split("&"),n=0;n<r.length;n++)r[n]&&r[n].toLowerCase().indexOf("devicefamily=")>-1&&(i=r[n].replace(/devicefamily=/gi,"").replace(/[0-9]/g,""))
a=!0}return i||(i=t.default.get().DeviceFamily),i||"Web"},getContext:function(){var e=this.getClientType()||"UniversalWebStore"
return{client:"musicvideoreading".equalsIgnoreCase(e)?"WebStore":e,deviceId:null,deviceType:null,deviceFamily:this.getDeviceFamily(),osVersion:t.default.get().OSVersion||t.default.get().osVersion||null,clientVersion:t.default.get().ClientVersion||t.default.get().clientVersion||null}},isWebClient:function(){var e=this.getClientType(),t=e&&e.toLowerCase?e.toLowerCase():null
return["amc","accountmicrosoftcom","musicvideoreading","universalwebstore","universalwebstore.cart","officecom","microsoftstorewebsdk","devicerepair","officedime","xboxcom"].indexOf(t)>-1},isDeviceRepairClient:function(){var e=this.getClientType()
return"devicerepair"===(e&&e.toLowerCase?e.toLowerCase():null)},isXboxComClient:function(){var e=this.getClientType()
return"xboxcom"===(e&&e.toLowerCase?e.toLowerCase():null)},isWebHostedClient:function(){return this.isDeviceRepairClient()||this.isXboxComClient()},isInlineClient:function(){var e=this.getClientType(),r=e&&e.toLowerCase?e.toLowerCase():null,n=t.default.get()
return n&&n.Layout&&n.Layout.length>0?"inline"===n.Layout.toLowerCase():["amc","accountmicrosoftcom","officecom"].indexOf(r)>-1},isXboxOneClient:function(){var e=this.getDeviceFamily()
return e&&e.toLowerCase&&e.toLowerCase().indexOf("xbox")>-1},isDesktopClient:function(){var e=this.getDeviceFamily()
return e&&e.toLowerCase&&e.toLowerCase().indexOf("desktop")>-1},isMobileClient:function(){var e=this.getDeviceFamily()
return e&&e.toLowerCase&&e.toLowerCase().indexOf("mobile")>-1},isAMCClient:function(){var e=this.getClientType(),t=e&&e.toLowerCase?e.toLowerCase():null
return["amc","accountmicrosoftcom"].indexOf(t)>-1},isOfficeClient:function(){var e=this.getClientType()
return"officecom"===(e&&e.toLowerCase?e.toLowerCase():null)},isInAppClient:function(){var e=this.getClientType()
return"universalstoreinapp"===(e&&e.toLowerCase?e.toLowerCase():null)},isWebSdkClient:function(){return"storewebsdk".equalsIgnoreCase(this.getClientType())},isXboxOneOOBEClient:function(){var e=this.getClientType()
return"xboxoneoobe"===(e&&e.toLowerCase?e.toLowerCase():null)},isWindowsRoobe:function(){return"windowsroobe".equalsIgnoreCase(t.default.get().Brand)||"windowsroobe".equalsIgnoreCase(t.default.get().CssOverride)},isWindowsOobeClient:function(){var e=t.default.get().CallerApplicationId
return e&&("winoobe".equalsIgnoreCase(e)||"winoobe-gp".equalsIgnoreCase(e))},isWindowsOobeGamePassClient:function(){var e=t.default.get().CallerApplicationId
return e&&"winoobe-gp".equalsIgnoreCase(e)},isSetupOfficeComClient:function(){var e=t.default.get().CallerApplicationId,r=t.default.get().RedirectContext
return e&&"office.client".equalsIgnoreCase(e)&&r&&"setup.office.com".equalsIgnoreCase(r)},isUniversalStoreNativeClient:function(){return"universalstorenativeclient".equalsIgnoreCase(this.getClientType())||"universalstorenativeclient.cart".equalsIgnoreCase(this.getClientType())},isNativeCartClient:function(){return"universalstorenativeclient.cart".equalsIgnoreCase(this.getClientType())},isWebCartClient:function(){return"universalwebstore.cart".equalsIgnoreCase(this.getClientType())},isLayoutModal:function(){var e=t.default.get()
return"modal"===(e&&e.Layout&&e.Layout.toLowerCase&&e.Layout.toLowerCase())},isGamingApp:function(){return"gamingapp".equalsIgnoreCase(t.default.get().Brand)||"gamingapp".equalsIgnoreCase(t.default.get().CssOverride)},isGamingAppV2Theme:function(){if(this.isGamingApp())return"2".equalsIgnoreCase(r.default.getFlightValue("GamingApp"))},gamingAppThemeVersionClass:function(){return this.isGamingApp()?"gamingappthemev"+(r.default.getFlightValue("GamingApp")?r.default.getFlightValue("GamingApp"):"1"):""},gamingAppCustomParameters:function(){try{var e=JSON.parse(t.default.get().CustomParameters)
return Object.prototype.hasOwnProperty.call(e,"GamingApp")?e.GamingApp:{}}catch(e){return{}}},mercuryCustomParameters:function(){try{var e=JSON.parse(t.default.get().CustomParameters)
return Object.prototype.hasOwnProperty.call(e,"Mercury")?e.Mercury:{}}catch(e){return{}}},saturnCustomParameters:function(){try{var e=JSON.parse(t.default.get().CustomParameters)
return Object.prototype.hasOwnProperty.call(e,"Saturn")?e.Saturn:{}}catch(e){return{}}},modernXboxClientCustomParameters:function(){try{var e=this.mercuryCustomParameters()
return e==={}&&(e=this.saturnCustomParameters()),e}catch(e){return{}}},isAskAPurchaserEligible:function(){return!(!t.default.get().AskPurchaserEligible||!t.default.get().AskPurchaserEligible.toString().equalsIgnoreCase("true"))},isAskPurchaserScenario:function(){return!(!t.default.get().AskPurchaserScenario||!t.default.get().AskPurchaserScenario.toString().equalsIgnoreCase("true"))},isOfficeDIMEClient:function(){var e=this.getClientType()
return"officedime"===(e&&e.toLowerCase?e.toLowerCase():null)},clientHandleUrl:function(){return!(!t.default.get().ClientHandleUrl||!t.default.get().ClientHandleUrl.toString().equalsIgnoreCase("true"))},hasWlidToken:function(){return!!t.default.get().WlidToken},isGamingAppGiftWithGamertag:function(){return this.isGamingApp()&&!!this.gamingAppCustomParameters().Beneficiary},isMercury:function(){var e=this.getClientType()
return"mercury"===(e&&e.toLowerCase?e.toLowerCase():null)},isMercuryGiftWithGamertag:function(){return this.isMercury()&&!!this.mercuryCustomParameters().gifteeGamertag},isSaturnXbox:function(){var e=this.getClientType()
return"saturn"===(e&&e.toLowerCase?e.toLowerCase():null)&&this.isXboxOneClient()},isSaturnDesktop:function(){var e=this.getClientType()
return"saturn"===(e&&e.toLowerCase?e.toLowerCase():null)&&this.isDesktopClient()},isSaturn:function(){return this.isSaturnDesktop()||this.isSaturnXbox()},isModernXboxClient:function(){return this.isMercury()||this.isSaturnXbox()},isModernDesktopClient:function(){return this.isGamingApp()||this.isSaturnDesktop()},isMercuryDunningScenario:function(){return this.modernXboxClientCustomParameters()&&this.modernXboxClientCustomParameters().RecurrenceState&&"dunning"===this.modernXboxClientCustomParameters().RecurrenceState.toLowerCase()},isXCloudClient:function(){var e=this.getClientType()
return"xcloud"===(e&&e.toLowerCase?e.toLowerCase():null)},isBuddyPassScenario:function(){var e=t.default.get().BuddyPassOfferId
return r.default.isEnabled("enablebuddypass")&&!!e&&36===e.length},setIsPurchaseFlow:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]
if(e){if(null==s||t){var r=e.context&&e.context.queryParams&&e.context.queryParams.isPurchaseFlow
s=!!r}if(null===o||t){var n=e.selApps,i=!(n&&n.toLowerCase().indexOf("redeem")>-1)
o=i||s}}},getIsPurchaseFlow:function(){return o},getIsReactEmbeddedPurchaseFlow:function(){return s},clear:function(){n="",i="",o=null,s=null,a=!1}}
e.default=l}),define("sfw-telemetry/utils/cookie",["exports","sfw-telemetry/utils/flight-config"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var r=function(){function e(e){for(var t=document.cookie.split("; "),r=0;r<t.length;r++){var i=t[r].split("=")
if(n(i.shift())===e)return n(i.join("="))}return null}function n(e){var t=decodeURIComponent(e.replace(/\+/g," "))
return 0===t.indexOf('"')&&(t=t.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")),t}return{getCookie:e,getCookieKeyValue:function(t,r){var n=e(t)
if(n&&r)for(var i=n.split("&"),a=0;a<i.length;a++){var o=i[a].split("=")
if(o[0]&&r.toLowerCase()===o[0].toLowerCase())return o[1]}return null},setCookie:function(e,r,n){var i
if(n){var a=new Date
a.setTime(a.getTime()+24*n*60*60*1e3),i="expires="+a.toUTCString()}var o=encodeURIComponent(e),s=r
r&&(s=encodeURIComponent(r))
var l=[o+"="+s,i,"path=/"]
t.default.isEnabled("disableshoppingsecurecookie")||(l.push("SameSite=None"),l.push("Secure")),window.document.cookie=l.filter(function(e){return!!e}).join("; ")},deleteCookie:function(e){this.setCookie(e,"",-1)},getMsccCookieDetails:function(){var e=!1,t=!1,n=!1,i=r.getCookie("MSCC")
if(i){var a=(i=i.toUpperCase&&i.toUpperCase()).indexOf("C1=")
a>-1&&"2"===i.charAt(a+3)&&(e=!0)
var o=i.indexOf("C2=")
o>-1&&"2"===i.charAt(o+3)&&(t=!0)
var s=i.indexOf("C3=")
s>-1&&"2"===i.charAt(s+3)&&(n=!0)}return{Required:!0,Analytics:e,SocialMedia:t,Advertising:n}}}}()
e.default=r}),define("sfw-telemetry/utils/create-guid",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default={create:function(){return"xxxxxxxx-xxxx-4xxx-Rxxx-xxxxxxxxxxxx".replace(/x/g,function(){return Math.floor(16*Math.random()).toString(16)}).replace("R",(8|Math.floor(3*Math.random())).toString(16))}}}),define("sfw-telemetry/utils/custom-events",["exports"],function(e){"use strict"
function t(){awa._schemas["Ms.Webi.Store.StateUpdate"]||awa._registerSchemas([{name:"Ms.Webi.Store.StateUpdate","Ms.Content.PageAction":{part:"B",def:{fields:[{name:"ver",type:"string"},{req:!0,name:"impressionGuid",type:"string"},{req:!0,name:"pageName",type:"string"},{name:"uri",type:"string"},{name:"destUri",type:"string"},{name:"market",type:"string"},{name:"pageType",type:"string"},{name:"pageTags",type:"string"},{name:"product",type:"string"},{name:"screenState",type:"int32"},{name:"actionType",type:"string"},{name:"behavior",type:"int32"},{name:"contentVer",type:"string"},{name:"content",type:"string"}]}},"Ms.Webi.Store.StateUpdate":{part:"C",def:{fields:[{name:"isLoggedIn",type:"bool"},{name:"type",type:"string"}]}}}])}Object.defineProperty(e,"__esModule",{value:!0}),e.default={sendStateUpdate:function(e){t()
var r=e.content||{},n={name:"Ms.Webi.Store.StateUpdate",data:{"Ms.Content.PageAction":{impressionGuid:awa.ids.getImpressionGuid(),pageName:e.pageName,market:e.market,pageTags:e.pageTags,content:r,uri:e.requestUri},"Ms.Webi.Store.StateUpdate":{isLoggedIn:e.signedIn,type:r.name}}},i=n.data["Ms.Content.PageAction"]
i.pageTags=awa.utils.stringifyField("pageTags",i.pageTags),i.content=awa.utils.bracketIt(JSON.stringify(i.content)),awa.vortexEvents.SendOrScheduleEvent(n,!0)}}}),define("sfw-telemetry/utils/flight-config",["exports","sfw-telemetry/utils/identifiers","sfw-telemetry/utils/start-data","sfw-telemetry/utils/client"],function(e,t,r,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var i={},a={},o=!1,s="",l="",u=[],d=["wb_newerrors:1"]
function c(e){"string"==typeof(e=e||[])&&(e=e.split(","))
var t={}
return e.forEach(function(e){var r=e.split(":")
2===r.length?t[r[0]]=r[1]:1===r.length&&(t[e]="1")}),t}function f(e){p()
var t=e.split(":")
return 2===t.length?i[s+t[0]]===t[1]||i[t[0]]===t[1]||i[l+t[0]]===t[1]:1===t.length&&("1"===i[s+e]||"1"===i[e])}function p(){o||(function(){$.extend(i,c(d))
var e=t.default.getCookies(u)||""
e=e.toLowerCase(),$.extend(i,c(e)),r.default.get().Flights&&$.extend(i,c(r.default.get().Flights)),$.extend(i,a),i.orderversion="7",(7==+r.default.get().PurchaseServiceVersion||"1"===i.purchasev7||n.default.isWebSdkClient())&&(i.catalogversion="7"),null==i.catalogversion&&(i.catalogversion="6"),"1"===r.default.get().MobiVersion&&(i.mobiversion="1")}(),o=!0)}e.default={setCookieNames:function(e){u=e},setFlightNamePrefix:function(e){s=e},setExpFlightNamePrefix:function(e){l=e},isLoaded:function(){return o},reload:function(){o=!1},getFlights:function(){return p(),Object.keys(i).map(function(e){return e+":"+i[e]}).join(",")},getFilteredFlightsCount:function(e,t){if(e){var r=e.split(",")
return t&&(r=r.filter(function(e){return e.startsWith(t)})),r.length}return 0},getFilteredFlightList:function(e,t){if(e){var r=e.split(",")
return t&&(r=r.filter(function(e){return e.startsWith(t)})),r.join(",")}return""},getPidlScenarios:function(){return p(),Object.keys(i).filter(function(e){return e.startsWith("PIDL.")&&"0"!==i[e]}).map(function(e){return e.replace("PIDL.","")}).join(",")},isflightDisabled:function(e){return!f(e)},isMockService:function(){return p(),"1"===i.mockall},getFlightValue:function(e){return p(),i[s+e]||i[l+e]||i[e]},addFlight:function(e){$.extend(a,c(e)),this.reload()},clear:function(){i={},a={},this.reload()},isEnabled:function(e){if(!e)return!1
var t=n.default.getDeviceFamily().toLowerCase().split("."),i=null,a=f(e+"-"+(i=t[1]?t[1]:t[0])+":1")||f(e+":1")
!a&&f("rc:1")&&(a=f(e+"-"+i+"|rc:1")||f(e+"|rc:1"))
var o=r.default.get().Market
o=o&&o.toLowerCase()
var s=n.default.getClientType()
return s=s&&s.toLowerCase(),a||(a=o&&f(e+"-"+o+":1")),a||(a=s&&f(e+"-"+s+":1")),a||(a=s&&f(e+"-"+s+"-"+o+":1")),a}}}),define("sfw-telemetry/utils/identifiers",["exports","sfw-telemetry/utils/cookie"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default={getGroups:function(){var e=t.default.getCookie("TreatmentsWB")||t.default.getCookie("Treatments")
return"none"===e?null:e},getCookies:function(e){return e.reduce(function(e,r){return e||t.default.getCookie(r)},null)}}}),define("sfw-telemetry/utils/instrumentation",["exports","sfw-telemetry/utils/custom-events","sfw-telemetry/utils/create-guid","sfw-telemetry/utils/cookie","sfw-telemetry/utils/oneds-instrumentation"],function(e,t,r,n,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var a=r.default.create(),o=[]
o.push(document.referrer)
var s=function(e){awa.cv.isInit()||(e.cv?(awa.cv.init(e.cv),awa.cv.extend()):awa.cv.init())},l=void 0,u=function(e){e.sendCoreDataToOSR&&(l={market:e.market},$.extend(l,e.pageTags))},d=function(){return window.location.protocol+"//"+(window.location.host+window.location.pathname+window.location.hash.replace("#","")+window.location.search).replace("//","/")},c=function(){return n.default.getMsccCookieDetails()}
e.default={isInitialized:!1,settings:{},init:function(e){if(this.isInitialized)throw new Error("JSLL has been initialized already, please check the code path for multiple initializations if any.")
if(void 0!==awa&&"test"!==e.environment){$.extend(this.settings,e),s(e)
var t={siteRootDomain:"microsoft.com",syncMuid:!0,logLevel:awa.verbosityLevels.WARNING,isLoggedIn:!0,shareAuthStatus:!1,autoCapture:{pageView:!1,click:!0,contentUpdate:!1,onLoad:!1},coreData:{appId:e.appId,env:e.environment,market:e.market,expId:e.expId,pageTags:e.pageTags,serverImpressionGuid:a},callback:{userConsentDetailsCallback:c}}
e.noLogging&&(t.sendEvents=!1),awa.init(t),i.default.init(e),u(e),this.isInitialized=!0}},extendCoreData:function(e){if("test"!==e.environment){if(!this.isInitialized)throw new Error("JSLL has not been initialized yet, call init() or explicitly set isInitialized before extend.")
$.extend(this.settings,e),s(e)
var t={env:e.environment,market:e.market,expId:e.expId,pageTags:e.pageTags,serverImpressionGuid:a}
awa.extendCoreData(t),u(e)}},sendApiComplete:function(e){if(this.isInitialized){if(!e.cV)if(this.settings&&this.settings.enableOneDS){var t=this.correlationVector()
e.cV=t&&t.increment()}else e.cV=awa.cv.increment()
if(l&&(e.customData?$.extend(e.customData,l):e.customData=l),e.customData)try{e.customData=JSON.stringify(e.customData)}catch(t){e.customData='{"error": "ERROR: could not stringify customData '+e.customData+'"}'}awa.vortexEvents.sendApiComplete(e),this.settings&&this.settings.enableOneDS&&i.default.captureOutgoingRequest(e)}},sendError:function(e){this.isInitialized&&(e.cV=awa.cv.getValue(),awa.vortexEvents.sendError(e))},capturePageView:function(e,t){if(this.isInitialized){var r=d()
l&&e&&("error".equalsIgnoreCase(e.pageName)&&e.pageTags&&!e.pageTags.sourcePage&&(e.pageTags.sourcePage=l.pageName),l.pageName=e.pageName,$.extend(l,e.pageTags))
var n={requestUri:r,referrerUri:o[o.length-1]}
$.extend(!0,n,e),$.extend(!0,this.settings,n),awa.extendCoreData(n),awa.ct.capturePageView(t),this.settings&&this.settings.enableOneDS&&i.default.capturePageView(n,t),o.push(r)}},capturePageAction:function(e,t){this.isInitialized&&((t=t||{}).actionType||(this.settings&&this.settings.enableOneDS?t.actionType=window.oneDS&&window.oneDS.ActionType&&window.oneDS.ActionType.CLICKLEFT:t.actionType=awa.actionType.CLICKLEFT),awa.ct.capturePageAction(e,t),this.settings&&this.settings.enableOneDS&&i.default.capturePageAction(e,t))},captureContentPageAction:function(e,t,r){if(this.isInitialized){var n=void 0
e&&(e.content||e.pageTags)?n=e:(n={pageTags:t,content:e},r&&(n.behavior=this.getBehavior(r))),awa.ct.captureContentPageAction(n),this.settings&&this.settings.enableOneDS&&i.default.captureContentPageAction(n)}},captureContentUpdate:function(e){this.isInitialized&&awa.ct.captureContentUpdate(e)},captureStateUpdate:function(e,r){if(this.isInitialized){var n=void 0;(n=e&&(e.content||e.pageTags)?e:{content:e,pageTags:r||{}}).pageTags=$.extend({},this.settings.pageTags,n.pageTags),$.extend(n,{client:this.settings.client,enabledFeatures:this.settings.flights,signedIn:this.settings.signedIn,market:this.settings.market,pageName:this.settings.pageName||this.settings.route||this.settings.defaultRoute,requestUri:this.settings.requestUri||d(),referrerUri:this.settings.referrerUri}),t.default.sendStateUpdate(n)}},correlationVector:function(){return this.settings&&this.settings.enableOneDS?i.default.correlationVector():awa&&awa.cv?(awa.cv.isInit()||awa.cv.init(),awa.cv):void 0},getBehavior:function(e){return this.settings&&this.settings.enableOneDS?i.default.getBehavior(e):this.isInitialized&&awa?awa.behavior[e]:void 0},getContext:function(){return l},disableLogging:function(){awa&&awa.getConfig()&&(awa.getConfig().sendEvents=!1),this.settings&&this.settings.enableOneDS&&i.default.disableLogging()},disableJsllLogging:function(){awa&&awa.getConfig()&&(awa.getConfig().sendEvents=!1)},disableOneDSLogging:function(){i.default.teardown()}}}),define("sfw-telemetry/utils/oneds-instrumentation",["exports","sfw-telemetry/utils/cookie","sfw-telemetry/utils/create-guid","sfw-telemetry/utils/instrumentation"],function(e,t,r,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var i=r.default.create(),a=function(e){return{manageCv:!1,syncMuid:!0,shareAuthStatus:!1,isLoggedIn:!0,autoCapture:{pageView:!1,onLoad:!1,onUnload:!1,click:e.autoClick,contentUpdate:!1},callback:{pageName:s,pageActionPageTags:l},coreData:{market:e.market,pageTags:e.pageTags,requestUri:window.location&&window.location.protocol+"//"+(window.location.host+window.location.pathname+window.location.hash.replace("#","")+window.location.search).replace("//","/")}}},o=function(){return t.default.getMsccCookieDetails()},s=function(){var e=n.default.getContext()||{}
return e&&e.pageName},l=function(){return n.default.getContext()||{}}
e.default={isOneDSInitialized:!1,appKey:"",appId:"",appInsightsInstance:null,cvInstance:null,cvPlugin:null,qosPlugin:null,appInsightsPlugins:[],settings:{},init:function(e,t){var r=this
if(this.isOneDSInitialized&&!t)throw new Error("OneDS has been initialized already, please check the code path for multiple initializations if any.")
if(void 0!==window.oneDS&&"test"!==e.environment){t&&(this.appInsightsPlugins=[],this.appInsightsInstance=null),this.settings=e,this.appId=this.settings.appId,this.appKey=this.settings.appKey||"06f54a07a2cf436baf25ccd1d76a56e7-331008d1-7837-457b-909d-a84115b95b95-6657",this.cvPlugin=new window.oneDS.CorrelationVectorPlugin(e.cv),this.cvPlugin&&this.cvPlugin._cv&&this.cvPlugin._cv._base||(this.cvPlugin=new window.oneDS.CorrelationVectorPlugin),this.qosPlugin=new window.oneDS.QosPlugin
var n={instrumentationKey:this.appKey,extensions:[this.cvPlugin],propertyConfiguration:function(e){return{id:e.appId,env:e.environment,expId:e.expId,callback:{userConsentDetails:o}}}(e),channelConfiguration:function(e){return{disableTelemetry:e.disableTelemetry||!1}}(e),webAnalyticsConfiguration:a(e),extensionConfig:[],endpointUrl:"https://browser.events.data.microsoft.com/OneCollector/1.0"}
if(n.extensionConfig[this.qosPlugin.identifier]=function(e,t){return{manageCv:!0,disableAjaxTracking:!0,coreData:{appId:e},appKey:t}}(this.appId,this.appKey),this.appInsightsPlugins.push(this.qosPlugin),!this.appInsightsInstance){var i=new window.oneDS.ApplicationInsights
i.initialize(n,this.appInsightsPlugins),this.appInsightsInstance=i,this.isOneDSInitialized=this.appInsightsInstance.isInitialized()}this.appInsightsInstance&&this.appInsightsInstance._postChannel&&this.appInsightsInstance._postChannel.teardown&&window.addEventListener("beforeunload",function(){r.appInsightsInstance._postChannel.teardown()})}},captureOutgoingRequest:function(e){if(this.isOneDSInitialized){var t,r=(t=e)?{eventData:{cV:t.cV,dependencyName:t.serviceName,dependencyOperationName:t.operationName,dependencyOperationVersion:t.operationVersion,latencyMs:t.latencyMs,operationName:t.currentOperationName,protocolStatusCode:t.httpStatusCode,requestMethod:t.httpMethod,responseContentType:t.contentType,responseSizeBytes:t.responseSize,succeeded:t.isSuccess,target:t.requestUri},customProperties:{retryCount:t.retryCount,serverImpressionGuid:i,customData:JSON.parse(t.customData),uri:t.uri,pageName:s()}}:{eventData:{},customProperties:{}}
this.qosPlugin.trackServiceOutgoingQos(r.eventData,r.customProperties)}},capturePageView:function(e,t){this.isOneDSInitialized&&(e.pageTags&&(e.pageTags.env=this.settings.environment,e.pageTags.expId=this.settings.expId,e.pageTags.serverImpressionGuid=i,e.pageTags.pageName=e.pageName),e.name=e.pageName,t&&$.extend(e,t),this.appInsightsInstance.capturePageView(e,t))},capturePageAction:function(e,t){if(this.isOneDSInitialized){e&&e.length&&(e=e[0])
var r=n.default.getContext()||{}
t.pageTags&&($.extend(t.pageTags,r),t.pageTags.env=this.settings.environment,t.pageTags.expId=this.settings.expId,t.pageTags.serverImpressionGuid=i,t.pageTags.pageName=r.pageName),t.name=r&&r.pageName,this.appInsightsInstance.capturePageAction(e,t)}},captureContentPageAction:function(e){if(this.isOneDSInitialized){var t=e&&e.pageTags&&e.pageTags.errorDetail,r=n.default.getContext()||{}
r.errorDetail||(r.errorDetail=void 0),e.pageTags&&($.extend(!0,e.pageTags,r),e.pageTags.env=this.settings.environment,e.pageTags.expId=this.settings.expId,e.pageTags.serverImpressionGuid=i,e.pageTags.pageName=r.pageName,!e.pageTags.errorDetail&&t&&(e.pageTags.errorDetail=t)),e.name=r&&r.pageName,this.appInsightsInstance.capturePageAction(null,e)}},flushEvents:function(){this.appInsightsInstance&&this.appInsightsInstance._postChannel&&this.appInsightsInstance._postChannel.flush&&this.appInsightsInstance._postChannel.flush(!0,function(){})},correlationVector:function(){return this.isOneDSInitialized?this.cvPlugin._cv:window.oneDS&&window.oneDS.CorrelationVectorPlugin?window.oneDS.CorrelationVectorPlugin()._cv:null},getBehavior:function(e){return this.isOneDSInitialized&&e?window.oneDS&&window.oneDS.Behavior[e]:""},disableLogging:function(){var e=this.settings||{}
e.disableTelemetry=!0,this.init(e,!0)},teardown:function(){this.appInsightsInstance&&this.appInsightsInstance._postChannel&&this.appInsightsInstance._postChannel.teardown&&this.appInsightsInstance._postChannel.teardown()}}}),define("sfw-telemetry/utils/performance",["exports","sfw-telemetry/utils/blend-bi-tracker"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var r=window.performance&&window.performance.mark&&window.performance.clearMarks&&window.performance.measure&&window.performance.clearMeasures&&window.performance.getEntriesByName,n={}
function i(e){var t=window.performance.getEntriesByName(e)
return t&&t.length&&t[t.length-1]}e.default={setMarker:function(e){r&&window.performance.mark(e)},removeMarker:function(e){r&&window.performance.clearMarks(e)},routeRendered:function(e){this.setMarker(e+"_route_rendered")},getLastMeasure:function(e,t,n){return r?(window.performance.measure(e,t,n),i(e)):null},getLastMarker:function(e){return r?i(e):null},capturePerfData:function(e){t.default.capturePerfData(e,n),n={}},getPerfData:function(){return n},captureMeasure:function(e,t){n[e]=t}}}),define("sfw-telemetry/utils/start-data",["exports","sfw-telemetry/utils/create-guid"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var r={}
e.default={get:function(){return r},set:function(e,t){r[e]=t},load:function(e){(r=e).FlowId=r.FlowId&&r.FlowId.replace(/(^\s+|\s+$)/g,"")||t.default.create()},clear:function(){r={}}}}),define("sfw-telemetry/utils/time-span-handler",["exports","sfw-telemetry/utils/performance"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var r={}
e.default={recordTimeSpan:function(e,n){var i=(new Date).getTime(),a="osr_"+e+"_start"
if(n){var o="osr_"+e+"_end"
return t.default.setMarker(o),t.default.getLastMeasure("osr_"+e+"_measure",a,o),i-r[e]}r[e]=i,t.default.setMarker(a)}}}),define("sfw-telemetry/utils/user-agent",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var t=window&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.toLowerCase&&window.navigator.userAgent.toLowerCase()||null
e.default={isFromThresholdDevice:function(){return t&&(t.indexOf("windows nt 6.4")>=0||t.indexOf("windows nt 10")>=0)},isFromWinPhone10Device:function(){return t&&t.indexOf("windows phone 10")>=0},isFromWin8XDevice:function(){return t&&(t.indexOf("windows nt 6.3")>=0||t.indexOf("windows nt 6.2")>=0||t.indexOf("windows nt 8")>=0)&&t.indexOf("xbox")<0&&t.indexOf("wpdesktop")<0&&t.indexOf("phantomjs")<0},isFromWinPhone81Device:function(){return t&&(t.indexOf("windows phone 8.1")>=0||t.indexOf("windows nt 6.3")>=0&&t.indexOf("wpdesktop")>=0)},isTH1:function(){return t&&t.indexOf("10240")>-1},isTH2:function(){return t&&t.indexOf("10586")>-1},isFromWinPhone8Device:function(){return t&&(t.indexOf("windows phone 8.0")>=0||t.indexOf("windows nt 6.2")>=0&&t.indexOf("wpdesktop")>=0)},isFromWinPhone7XDevice:function(){return t&&(t.indexOf("windows phone os 7")>=0||t.indexOf("windows nt 6.1")>=0&&t.indexOf("wp7")>=0)},isFromWindowsDevice:function(){return t&&t.indexOf("windows")>=0},isFromXboxDevice:function(){return t&&t.indexOf("xbox")>=0},getMsIeVersion:function(){var e=t&&t.indexOf("msie")
if(e>=0){var r=t.indexOf(";",e),n=t.substring(e,r).split(" ")
if(n&&n.length>1)return 1*n[1]}return-1},isIeVersionOrLower:function(e){var t=this.getMsIeVersion()
return t>-1&&t<=e},isFireFoxBrowser:function(){return!!(t&&t.indexOf("firefox")>-1)}}}),define("sfw-urls/dev/urls",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default={}}),define("sfw-urls/int/urls",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default={}}),define("sfw-urls/mirage/urls",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default={}}),define("sfw-urls/mock/urls",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default={}}),define("sfw-urls/prod/urls",["exports","sfw-telemetry/utils/flight-config"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default={load:function(){return{Orders:{Host:"https://purchase.mp.microsoft.com",Namespace:"v7.0/users/me"},DigitalAttachmentOrders:{Host:"https://digitalattachclaims.purchase.mp.microsoft.com",Namespace:"v1.0/redeem/attachRecords/{attachRecordId}"},Products:{Host:"https://displaycatalog.mp.microsoft.com",Namespace:"v"+t.default.getFlightValue("catalogversion")+".0"},DigitalAttachmentOrdersUpdate:"https://digitalattachclaims.purchase.mp.microsoft.com/v1.0/update/attachRecords/{attachRecordId}/orders/{orderId}",ChallengeDescriptionsUrl:"https://paymentinstruments.mp.microsoft.com/v6.0/challengedescriptions?type={challengeId}&language={language}",QueryOrder:"https://purchase.mp.microsoft.com/v7.0/users/me/orders/{orderId}",ListOrders:"https://purchase.mp.microsoft.com/v7.0/users/me/orders",GetPaymentInstrumentUrl:"https://paymentinstruments.mp.microsoft.com/v6.0/users/{userId}/paymentinstruments/{id}",PaymentInstrumentHost:"https://paymentinstruments.mp.microsoft.com",PaymentInstrumentNamespace:"v6.0/users/me",PaymentInstrumentQueryParams:"country={country}&deviceIdFilter={deviceIdFilter}",PaymentMethods:"https://paymentinstruments.mp.microsoft.com/v6.0/paymentmethods?country={country}&expand={expand}&language={language}",PaymentMethodDescriptions:"https://paymentinstruments.mp.microsoft.com/v6.0/paymentmethoddescriptions?family={family}&type={type}&country={country}&language={language}",UpdateOrderState:"https://purchase.mp.microsoft.com/v7.0/users/me/orders/{orderId}",UpdateOrderLineItem:"https://purchase.mp.microsoft.com/v7.0/users/me/orders/{orderId}/items/{lineItemId}",GetErrorStringsUrl:"https://cem.services.microsoft.com/v1/{locale}/errors/{source}{code}/Storefront",CreateOrderWithItem:"https://purchase.mp.microsoft.com/v7.0/users/me/orders",CreateOrderWithToken:"https://purchase.mp.microsoft.com/v7.0/users/me/orders",AccountAddressesUrl:"https://paymentinstruments.mp.microsoft.com/v6.0/users/{userId}/addresses?country={country}",AccountAddAddressUrl:"https://paymentinstruments.mp.microsoft.com/v6.0/users/{userId}/addresses",AccountGetAddressUrl:"https://paymentinstruments.mp.microsoft.com/v6.0/users/{userId}/addresses/{addressId}?country={country}",GetProfileUrl:"https://paymentinstruments.mp.microsoft.com/v6.0/users/{userId}/profiles?profileType={profileType}",AddProfileUrl:"https://paymentinstruments.mp.microsoft.com/v6.0/users/{userId}/profiles",UpdateProfileUrl:"https://paymentinstruments.mp.microsoft.com/v6.0/users/{userId}/profiles/{profileId}",MsaTouUrl:"https://go.microsoft.com/fwlink/?LinkID=530144",AddressDescriptionsUrl:"https://paymentinstruments.mp.microsoft.com/v6.0/addressdescriptions?country={country}&language={language}&type={type}",TaxIdDescriptionsUrl:"https://paymentinstruments.mp.microsoft.com/v6.0/taxIdDescriptions?scenario=consumer_tax_id&country={country}&language={language}",AccountGetTaxIdUrl:"https://paymentinstruments.mp.microsoft.com/v6.0/users/me/tax-ids?country={country}",AccountAddTaxIdUrl:"https://paymentinstruments.mp.microsoft.com/v6.0/users/me/tax-ids",UpdatePaymentInstrumentUrl:"https://paymentinstruments.mp.microsoft.com/v6.0/users/me/paymentinstruments/{id}",AddPaymentInstrumentsUrl:"https://paymentinstruments.mp.microsoft.com/v6.0/users/me/paymentinstruments?country={country}{billableAccountId}",TokenServiceHost:"https://purchase.mp.microsoft.com",TokenServicePath:"v7.0/tokenDescriptions/{tokenString}?market={market}&language={language}&supportMultiAvailabilities=true",RedirectionService:"https://pmservices.cp.microsoft.com/RedirectionService/CoreRedirection/redirect/{sessionId}?rx={failureUrl}?sessionId={sessionId}&ru={successUrl}?sessionId={sessionId}",RedirectionResult:"https://www.microsoft.com/{culture}/store/rds/{pageName}",PurchaseRedirectionResult:"https://www.microsoft.com/{culture}/store/rds/v2/{pageName}",RDSUserPayStateQuery:"https://pmservices.cp.microsoft.com/RedirectionService/CoreRedirection/Query/{sessionId}",HydrateUrl:"https://displaycatalog.mp.microsoft.com",HydratePath:"v"+t.default.getFlightValue("catalogversion")+".0/products/{productId}?market={market}&languages={languages}&{deviceContext}",BulkHydrateUrl:"https://displaycatalog.mp.microsoft.com/v"+t.default.getFlightValue("catalogversion")+".0/products?bigids={productIds}&market={market}&languages={languages}&fieldTemplates={fieldTemplates}&actionfilter={actionFilter}",FormatPriceUrl:"https://sfdataservice.microsoft.com/purchaseexperience/v1.0/currency/format?price={price}&currencycode={currencycode}&language={language}&market={market}",ResumePaymentInstrumentUrl:"https://paymentinstruments.mp.microsoft.com/V6.0/users/me/paymentInstruments/{piid}/resume",ResendActivationCodeUrl:"https://paymentinstruments.mp.microsoft.com/V6.0/users/me/paymentInstruments/{piid}/sendActivationCode",PurchaseSendResendChallengeUrl:"https://paymentinstruments.mp.microsoft.com/V6.0/users/me/challenge/{type}",PurchaseValidateChallengeUrl:"https://paymentinstruments.mp.microsoft.com/V6.0/users/me/challenge/{type}/validate",FingerprintTaggingUrl:"https://fpt.microsoft.com/tags?session_id={sessionId}",RecoUrl:"https://sfw-pg-public.rec.mp.microsoft.com/channels/lists?itemTypes={itemTypes}&count={count}&clientType=SFWRedeem&market={market}&language={language}&scenarioCriteria={scenario}&IsTest=True",RelatedUrl:"https://sfw-pg-public.rec.mp.microsoft.com/channels/reco/v8.0/related/Devices/{productId}/{skuId}?itemTypes={itemTypes}&count=25&ClientType=RecoFiddlerClient&market={market}&language={language}&uid=1688852097780434&istest=true&collectionId={collectionId}",RevisedRelatedUrl:"https://sfw-pg-public.rec.mp.microsoft.com/channels/reco/v8.0/related/Devices/{productId}/{skuId}?itemTypes={itemTypes}&count={count}&ClientType={client}&market={market}&language={language}&collectionId={collectionId}",CandyRackUrl:"https://sfw-pg-public.rec.mp.microsoft.com/channels/reco/v8.0/cart/items?itemTypes={itemTypes}&count={count}&clientType={client}&market={market}&language={language}",RiskUrl:"https://jcmsfd.account.microsoft.com/risk/risk/pi-selection",JarvisHost:"https://jcmsfd.account.microsoft.com",JarvisNamespace:"JarvisCM/me",ContactPointsPath:"CPM/api/ContactPoints",AuthTokenServiceHost:"https://www.microsoft.com",AuthTokenServicePath:"store/user/getuserjson",StoreLinkThreshold:"ms-windows-store://PDP/?productid={0}&entitlementsync=true",StoreLinkWin8x:"ms-windows-store:PDP/?PFN={0}",StoreLinkPhone81:"ms-windows-store:navigate/?appid={0}",StoreLinkPhone807x:"zune://navigate/?appid={0}",ShopMovieUrlFormat:"https://www.microsoft.com/en-us/store/movies/product/{0}",ShopMoviesDefaultUrl:"https://www.microsoft.com/en-us/store/movies-and-tv/mylibrary?type=movies&sort=recent",ShopDefaultStoreAppsUrl:"https://www.microsoft.com/store/apps/{0}?entitlementsync=true",PurchaseTvodUrl:"https://purchase.mp.microsoft.com/v7.0/users/me/commerce/purchases",TvodCheckTransactionStateUrl:"https://purchase.mp.microsoft.com/v8/users/me/commerce/purchases/pending/{resumeId}",AveUrl:"https://www.msacademicverify.com/?pid={pid}&lc={lc}&failureurl={failUrl}&successurl={successUrl}",RequestParentalApprovalUrl:"https://purchase.mp.microsoft.com/v7.0/users/me/orders/{orderId}/parentalapproval",PeopleHubHost:"https://peoplehub.xboxlive.com",PeopleHubNamespace:"users/me/people/xuids({xuid})",WebStoreHydrateRenderableProductUrl:"https://www.microsoft.com/{locale}/store/api/hydrateRenderableProduct?productId={productId}",WebStorePdpLink:"https://www.microsoft.com/{locale}/store/p/{title}/{productId}",StoreApiHost:"https://www.microsoft.com",AddItemsToCartNamespace:"store/api/addItemsToCart",StoreEdgeHost:"https://storeedgefd.dsx.mp.microsoft.com",StoreEdgeWarrantyNamespace:"v8.0/warrantySessionLookUp?productId={productId}&skuId={skuId}&availabilityId={availabilityId}&serialNumber={serialNumber}",StoreEdgeRewardsUserNamespace:"v8.0/rewards/getuserinfo?market={market}&locale={locale}&channel={channel}&options={options}",StoreEdgeCreateRewardsUserNamespace:"v8.0/rewards/createuser?market={market}&locale={locale}&channel={channel}&options={options}",StoreEdgeRewardsClaimPromotionNamespace:"v8.0/rewards/claimpromotion?market={market}&locale={locale}&channel={channel}",XBETFDAskAPurchaserStart:"https://copper.xboxservices.com/ubfd/askapurchaser?market={market}&language={language}",XBETFDAskAPurchaserChildSubStart:"https://copper.xboxservices.com/ubfd/askapurchaser/subscription?market={market}&language={language}",XBETFDAskAPurchaserEnd:"https://copper.xboxservices.com/ubfd/askapurchaser/complete?giftData={giftData}&market={market}&language={language}",XboxApp:"https://aka.ms/AA6808z",XboxClaimOffer:"https://emerald.xboxservices.com/XboxComFD/buddypass/ClaimOffer?market={market}",XboxMarkOfferClaimed:"https://emerald.xboxservices.com/XboxComFD/buddypass/MarkOfferClaimed?offerId={offerId}",XboxUltimateGoogleStoreUrl:"https://play.google.com/store/apps/details?id=com.gamepass",XboxUltimateAppleStoreUrl:"https://apps.apple.com/app/xbox-game-pass/id1374542474",XboxUltimateWindowsStoreUrl:"https://www.microsoft.com/p/xbox/9mv0b5hzvk9z",Recurrences:"https://purchase.mp.microsoft.com/v8.0/users/{userId}/recurrences/{recurrenceId}",RecurrencesUpdatePi:"https://purchase.mp.microsoft.com/v8.0/users/{userId}/recurrences/{recurrenceId}/paymentInstrument",xboxComPlayURL:"https://www.xbox.com/play",xboxConsoleURL:"https://www.xbox.com/consoles",xboxAppWinPCURL:"https://assets.xbox.com/installer/20190628.8/anycpu/XboxInstaller.exe",xboxMobAppSamsungGalaxyStoreURL:"https://galaxystore.samsung.com/detail/com.gamepass.samsung",xboxMobAppGooglePlayStoreURL:"https://play.google.com/store/apps/details?id=com.gamepass",xboxComURL:"https://www.xbox.com/xbox-game-pass/games",xboxUltimateSmartTV:"https://www.xbox.com/apps/xbox-app-for-tv",xboxGamePassCoreURL:"https://www.xbox.com/xbox-game-pass/core",xboxAllConsolesURL:"https://www.xbox.com/consoles/all-consoles"}}}})